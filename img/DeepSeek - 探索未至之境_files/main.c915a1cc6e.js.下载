(()=>{"use strict";var e={8880:function(e,t,n){e.exports=n.p+"static/sha3_wasm_bg.7b9ca65ddd.wasm"},91094:function(e,t,n){n.d(t,{E0:()=>u,Mp:()=>s,gn:()=>l,wl:()=>c,z7:()=>d});var a=n(65708);let r=null,o=null;function s(){return r||(r=document.createElement("iframe")),r}function i(){let e=new a.B;o=e.promise;let t=n=>{var a;(null===(a=n.data)||void 0===a?void 0:a.pageLoaded)&&(e.resolve(),window.removeEventListener("message",t))};window.addEventListener("message",t)}async function l(){let e=s();e.style.cssText="display: none; pointer-events: none",e.src="about:blank",document.body.appendChild(e),e.src="https://run-html-chat.deepseeksvc.com/usercontent/usercontent.html",i()}function d(e){let t=s();try{e.moveBefore(t,null)}catch(n){e.appendChild(t),i()}}async function c(e){var t;r||l(),await o,null==r||null===(t=r.contentWindow)||void 0===t||t.postMessage({__deepseekCodeBlock:e},"*")}function u(){r||(window.requestIdleCallback||window.requestAnimationFrame||(()=>{}))(l)}},69782:function(e,t,n){n.d(t,{Yp:()=>p,_N:()=>C,lY:()=>f}),n(62100),n(82538),n(54235),n(48773),n(84011),n(96141),n(93078),n(8286),n(51093),n(79300),n(69279),n(12821),n(48981),n(84426),n(36244),n(2550),n(5243),n(36631);var a=n(99339),r=n.n(a),o=n(9770),s=n(76763);let i={javascript:"js",typescript:"ts",javascriptreact:"jsx",typescriptreact:"tsx",html:"html",css:"css",less:"less",scss:"scss",svg:"svg",dart:"dart",vue:"vue",svelte:"svelte",python:"py",java:"java",csharp:"cs",c:"c",cpp:"cpp",golang:"go",ruby:"rb",rust:"rs",php:"php",sql:"sql",cmake:"cmake",makefile:"mk",scala:"scala",haskell:"hs",erlang:"erl",clojure:"clj",fsharp:"fs",swift:"swift",objectivec:"m",kotlin:"kt",json:"json",yaml:"yaml",bash:"sh",shell:"sh",xml:"xml",powershell:"ps1",dockerfile:"dockerfile",lua:"lua",diff:"diff",ini:"ini",nginx:"nginx",batch:"bat",markdown:"md",latex:"tex",r:"r",julia:"jl",matlab:"m",jupyter:"ipynb",mermaid:"mermaid"},l=Object.values(i),d=e=>e in i?i[e]:l.includes(e)?e:null,c=e=>{if(!e)return"txt";let t=e.split(/\s+/)[0].toLowerCase(),n=t.replace(/\d+$/,"");if(t.includes("+"))for(let e of t.split("+")){let t=d(e);if(t)return t}return d(n)||d(t)||"txt"},u=async e=>{let{code:t,infostring:n,ext:a}=e,r=a||c(n),o="deepseek_";n&&(o+=n+"_"),o+=new Date().toISOString().replace(/-/g,"").slice(0,8);let s=await h(t);return(o+=s?"_"+s:"")+"."+r},h=async e=>{try{return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(e.slice(0,2e3))))).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,6)}catch(e){return null}},p=async(e,t)=>{let n=await u({code:e,infostring:t});s.l.tracker.info({name:"downloadCodeFile",message:"下载代码文件",payload:{infostring:t||"",name:n}}),r()(e,n)},g=function(e){let{width:t,height:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new DOMParser().parseFromString(e,"text/xml");return a.getElementsByName("svg").forEach(e=>{e.setAttribute("width","".concat(t,"px")),e.setAttribute("height","".concat(n,"px"))}),a.children[0].outerHTML},m=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=((t=e).match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(t=t.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),t.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(t=t.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),t).replaceAll("<br>","<br/>").replaceAll(/<img([^>]*)>/g,(e,t)=>"<img ".concat(t," />"));return n&&g(a,n),'<?xml version="1.0" encoding="UTF-8"?>\n'.concat(a)},f=async e=>{let t=m(e),n=await u({code:t,infostring:"mermaid",ext:"svg"});s.l.tracker.info({name:"downloadSvgFile",message:"下载svg文件",payload:{}}),r()(t,n)},C=async(e,t)=>{let n=await u({code:e,infostring:"mermaid",ext:"png"}),a=document.createElement("canvas");a.width=3*t.width,a.height=3*t.height,a.style.width="".concat(t.width,"px"),a.style.height="".concat(t.height,"px");let s=a.getContext("2d");if(!s)throw Error("context not found");s.fillStyle=t.isDark?"#000":"#fff",s.fillRect(0,0,a.width,a.height);let i=new Image;i.addEventListener("load",()=>{s.drawImage(i,0,0,a.width,a.height),a.toBlob(e=>{e&&r()(e,n)},"image/png")});let l=m(e,{width:a.width,height:a.height});i.src="data:image/svg+xml;base64,".concat((0,o.cv)(l))}},97932:function(e,t,n){n.d(t,{A:()=>a});let a=new(n(64269)).x},35900:function(e,t,n){n.d(t,{L:()=>i,k:()=>l});var a=n(57338),r=n(51872),o=n(88346);let s=()=>({user:null}),i=(0,a.Ue)((0,r.XR)(e=>({...s(),setUser:t=>e(e=>({...e,user:t})),updateNeedBirthday:t=>{e((0,o.Uy)(e=>{e.user&&(e.user.needBirthday=t)}))},reset:()=>{e(s())}}))),l=()=>i(e=>!!e.user)},29286:function(e,t,n){n.d(t,{C:()=>o});var a=n(92673);n(82538);let r=async(e,t)=>{try{return new Promise(n=>window.collectEvent("getVar",e,t,n))}catch{return t}},o=new class{onLogout(){this.promiseCache={},this.valueCache.clear()}constructor(){(0,a._)(this,"promiseCache",{}),(0,a._)(this,"valueCache",new Map),(0,a._)(this,"getAbTestResult",async(e,t)=>{let n=this.promiseCache[e];return n||(n=r(e,t).then(t=>(this.valueCache.set(e,t),t)),this.promiseCache[e]=n),n}),(0,a._)(this,"prefetchAbTest",e=>{for(let t of e)this.getAbTestResult(t,null)}),(0,a._)(this,"getAbTestInstantResult",(e,t)=>this.valueCache.has(e)?this.valueCache.get(e):(this.getAbTestResult(e,t),t))}}},53429:function(e,t,n){n.d(t,{N:()=>a.NI});var a=n(49889)},49889:function(e,t,n){n.d(t,{EH:()=>i,Fp:()=>d,NI:()=>c,SW:()=>s,vL:()=>l}),n(82538);var a=n(36884),r=n(29286);let o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.collectEvent(...t)},s=async(e,t)=>r.C.getAbTestResult(e,t),i=r.C.getAbTestInstantResult,l=r.C.prefetchAbTest,d=()=>new Promise(e=>{window.collectEvent("getToken",t=>{e(t)})}),c={init:e=>{o("init",{app_id:0x13145ad,channel_domain:"https://gator.volces.com",ab_channel_domain:"https://tab.volces.com",enable_ab_test:!0,auto_exposure_expriment:!1,disable_sdk_monitor:!0,enable_storage:!0}),o("config",{commit_id:"cc538c75",commit_datetime:"2025/07/02 17:51:06"}),o("start")},setUserUniqueId:e=>{o("config",{user_unique_id:e})},clearUserUniqueId:()=>{o("config",{user_unique_id:null})},reportEvent:e=>{if(a.Bf.includes(e.eventName)&&"error"!==e.level)return;let t={event_level:e.level,event_message:e.eventMessage,...(0,a.v5)(e.payload)};o(e.eventName,t)}}},5338:function(e,t,n){n.d(t,{hM:()=>r,lu:()=>o}),n(36631);var a,r=((a={}).Dev="dev",a.Staging="staging",a.Production="production",a.ChatTest="chat_test",a.Unknown="unknown",a);let o=(()=>{let e=location.hostname;switch(e){case"localhost":return"dev";case"chat-test.deepseek.com":return"chat_test";case"chat.deepseek.com":return"production";case"chat-dev.deepseek.com":return"staging";default:throw Error("Unknown hostname: ".concat(e))}})()},58325:function(e,t,n){n.d(t,{V:()=>s,z:()=>o});var a=n(86239);let r=(0,n(57338).Ue)(e=>({pixelRatio:window.devicePixelRatio,setPixelRatio:t=>e({pixelRatio:t})})),o=()=>{let e=(0,a.useRef)(0);(0,a.useEffect)(()=>{if(e.current>0)return;e.current++;let t="(resolution: ".concat(window.devicePixelRatio,"dppx)"),n=()=>{r.setState({pixelRatio:window.devicePixelRatio})},a=window.matchMedia(t);return a.addListener(n),()=>{e.current=0,a.removeListener(n)}},[])},s=()=>r(e=>e.pixelRatio)},47202:function(e,t,n){n.d(t,{F:()=>r});var a=n(76763);let r=()=>"dark"===a.l.useTheme()},50784:function(e,t){},59467:function(e,t,n){t.getCJKQuotationMarksPatch=void 0,n(97788);var a=n(63646);Object.defineProperty(t,"getCJKQuotationMarksPatch",{enumerable:!0,get:function(){return a.getCJKQuotationMarksPatch}})},63646:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCJKQuotationMarksPatch=void 0;let n=e=>"@font-face {\n  font-family: 'quote-cjk-patch';\n  src: local('".concat(e?"PingFangTC":"PingFangSC","-Regular');\n  unicode-range: U+201C-201D, U+2018-2019;\n}"),a=null,r=()=>(null===a&&(a=document.createElement("style")),a);t.getCJKQuotationMarksPatch=()=>{let e=r();return{enable:t=>{let{tradition:a}=t;e.innerHTML=n(a),document.head.appendChild(e)},disable:()=>{e.innerHTML="",document.head.contains(e)&&document.head.removeChild(e)}}}},76763:function(e,t,n){n.d(t,{a:()=>eI,l:()=>eS}),n(1227),n(16798),n(98067),n(36631),n(82538);var a=n(27753),r=n(57338),o=n(86239),s=n(93793),i=n(88981),l=n(36884),d=n(92673);n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861);var c=n(37804);class u{create(e,t,n){let a;let r=null!=n?n:"0",s=!0,i=null;function l(t,n,o){(0!==o||t!==d())&&(s=!0,a={value:t,__version:r},localStorage.setItem(e,JSON.stringify(a)),n&&u.forEach(e=>{e(t)}))}let d=()=>{if(!c.jU)return t;if(!s)return a.value;let n=localStorage.getItem(e);if(null===n)return l(t,!1,1),s=!1,t;try{let e=(a=JSON.parse(n)).__version;return e||(l(a,!1,1),e="0"),e!==r&&l(t,!1,1),s=!1,a.value}catch(a){return this.onGetError(a,{key:e,value:n}),l(t,!1,1),s=!1,t}},u=new Set;return{set:function(e){c.jU&&(null==i||i(e),l(e,!0,0))},get:d,useState(){if(!c.jU)return[t,()=>{}];let[e,n]=(0,o.useState)(d),a=(0,o.useCallback)(e=>{l(e,!0,0),n(e)},[]);return(0,o.useEffect)(()=>(u.add(n),()=>{u.delete(n)}),[]),[e,a]},subscribe(e,t){let{immediately:n}=t;c.jU&&(i=e,n&&e(d()))}}}createMock(e,t){let n=new Set,a=null,r=e=>{null==a||a(e),n.forEach(t=>{t(e)})},s=()=>t;return{set:r,get:s,useState(){if(!c.jU)return[t,()=>{}];let[e,a]=(0,o.useState)(s),i=(0,o.useCallback)(e=>{r(e),a(e)},[]);return(0,o.useEffect)(()=>(n.add(a),()=>{n.delete(a)}),[]),[e,i]},subscribe(e,t){let{immediately:n}=t;c.jU&&(a=e,n&&e(s()))}}}constructor({onGetError:e}){(0,d._)(this,"onGetError",void 0),this.onGetError=e}}var h=n(13492),p=n(80892),g=n(73042);let m={zh_CN:{__placeholder:e=>"",invalidPowResponseToast:"请求验证失败",invalidTokenToast:"登录信息已失效，请重新登录",ipAccessRestrictedToast:"请求过于频繁，请稍后再试",mobileNotBindedInMainlandChinaToast:"请完成实名认证",underReviewToast:"你的账户正在审核中",userIsBannedToast:"由于违规次数过多，你的账户已被停用"},en_US:{__placeholder:e=>"",invalidPowResponseToast:"Validation failed",invalidTokenToast:"You have signed out of your account, please log in again.",ipAccessRestrictedToast:"Too many requests. Please try again later.",mobileNotBindedInMainlandChinaToast:"Please verify your phone number.",underReviewToast:"Your account is under review.",userIsBannedToast:"As a result of violations, your account has been suspended."}},f={};function C(e,t){return f[e]?f[e]:f[e]=function(n){let a=v(t())(e);return"string"==typeof a?a:a(n)}}function v(e){return t=>m[e][t]}n(63393);var x=n(65708),E=n(64269);class y{async waitUntil(e){if(e(this.state))return;let t=new x.B,n=this.stateChanged$.subscribe(()=>{e(this.state)&&(t.resolve(),n.unsubscribe())});await t.promise}postStateChange(){this.stateChanged$.next()}addRequest(e){this.state.requests.push(e),this.postStateChange()}removeRequest(e){this.state.requests=this.state.requests.filter(t=>t.id!==e),this.postStateChange()}constructor(){(0,d._)(this,"state",{requests:[]}),(0,d._)(this,"stateChanged$",new E.x)}}var b=n(56577);n(7195);let _=new class{listenAndUnlock(){this.locked&&this.locked.finally(this.unlock)}addLock(e){if(this.locked)throw Error("lock is already acquired");this.locked=e,this.listenAndUnlock()}waitLock(e){if(!this.currentLock){this.addLock(e());return}this.currentLock.finally(()=>{this.waitLock(e)})}get isLocked(){return!!this.locked}get currentLock(){return this.locked}constructor(){(0,d._)(this,"locked",null),(0,d._)(this,"unlock",()=>{this.locked=null})}},w=async()=>{if(!_.isLocked){let e=(0,b.$q)();_.addLock(e)}await _.currentLock},S=0;class I extends o.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){var t,n;null===(t=(n=this.props).onReset)||void 0===t||t.call(n),this.setState({hasError:!1,error:void 0})}}componentDidCatch(e,t){var n,a;null===(n=(a=this.props).onError)||void 0===n||n.call(a,e,t)}render(){if(this.state.hasError){let{renderFallback:e}=this.props;return(0,a.jsx)(I,{renderFallback:()=>{var e,t;return null===(e=(t=this.props).renderFallbackLastResort)||void 0===e?void 0:e.call(t,{error:this.state.error,reset:this.resetErrorBoundary})},children:e({reset:this.resetErrorBoundary,error:this.state.error})})}return this.props.children}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state={hasError:!1,error:void 0}}}var T=n(27428),M=n(77642),j=n(59378),k=n(22960),A=n(1838),R=n(17260);n(23276);var N=n(15184);let L=0;function F(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function O(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 10.5a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zM10 6a.5.5 0 0 0-.492.41L9.5 6.5V11l.008.09a.5.5 0 0 0 .984 0L10.5 11V6.5l-.008-.09A.5.5 0 0 0 10 6z",fill:"currentColor"})})})}function P(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm3.358 5.646a.5.5 0 0 0-.637-.057l-.07.057L9 11.298L7.354 9.651l-.07-.058a.5.5 0 0 0-.695.696l.057.07l2 2l.07.057a.5.5 0 0 0 .568 0l.07-.058l4.004-4.004l.058-.07a.5.5 0 0 0-.058-.638z",fill:"currentColor"})})})}function D(e){let t,n,{content:r,type:o,title:s,footer:i,onClose:l,zIndex:d}=e;switch(o){case"warning":t="".concat(R.F,"-notification__icon--warning"),n=(0,a.jsx)(O,{});break;case"error":t="".concat(R.F,"-notification__icon--error"),n=(0,a.jsx)(F,{});break;default:t="".concat(R.F,"-notification__icon--success"),n=(0,a.jsx)(P,{})}return(0,a.jsxs)("div",{className:"".concat(R.F,"-notification"),style:{zIndex:d},children:[(0,a.jsx)("div",{className:(0,M.Z)("".concat(R.F,"-notification__icon"),t),children:n}),(0,a.jsxs)("div",{className:"".concat(R.F,"-notification__main"),children:[(0,a.jsx)("div",{className:"".concat(R.F,"-notification__title"),children:s}),(0,a.jsx)("div",{className:"".concat(R.F,"-notification__content"),children:r}),(0,a.jsx)("div",{className:"".concat(R.F,"-notification__footer"),children:i})]}),(0,a.jsx)("div",{className:"".concat(R.F,"-notification__close-wrapper"),children:(0,a.jsx)(A.P,{onClick:l})})]})}let B=(0,o.createContext)(null),z=(0,o.createContext)(null);function H(e){let{children:t,onNotification:n}=e,[r,s]=(0,o.useState)([]),i=(0,N.B)();return(0,a.jsx)(B.Provider,{value:s,children:(0,a.jsxs)(z.Provider,{value:n,children:[t,(0,T.createPortal)((0,a.jsx)("div",{className:(0,M.Z)("".concat(R.F,"-notification-container"),"".concat(R.F,"-theme")),style:i,children:r.map(e=>(0,a.jsx)(U,{setNotifications:s,notificationProps:e},e.id))}),document.body)]})})}function U(e){let{notificationProps:t,setNotifications:n}=e,[r,s]=(0,o.useState)(!0);return(0,a.jsx)(j.$,{appear:!0,in:r,transformOrigin:"top",onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,o.useMemo)(()=>(0,a.jsx)(D,{...t,onClose:()=>{s(!1)}}),[t])})}function V(e){let{setNotification:t}=e,n=function(){let e=(0,o.useContext)(B),t=(0,o.useContext)(z);if(!e||!t)throw Error("useNotification must be used inside NotificationProvider");let n=(n,a)=>{let{title:r,content:o,footer:s}=a,i=L++;e(e=>{let t=Math.max(...e.map(e=>e.zIndex),0);return e.concat({title:r,type:n,content:o,footer:s,id:i,zIndex:t+1})}),t((0,k.P)(r),(0,k.P)(o),"success"===n?"info":"warning"===n?"warn":"error")};return{warning:e=>n("warning",e),error:e=>n("error",e),success:e=>n("success",e)}}();return(0,o.useMemo)(()=>{t(n)},[t,n]),null}var W=n(21036);function G(e){let{setToast:t}=e,n=(0,W.pm)();return(0,o.useMemo)(()=>{t(n)},[t,n]),null}var Z=n(65286),q=n(41016);function Y(e){let{children:t,onToast:n,placement:r}=e,[s,i]=(0,o.useState)([]),l=(0,N.B)(),[d,c]=(0,o.useState)([]),u=(0,Z.$0)(e=>{let t=d,n=!1;"function"==typeof e?i(a=>{let r=e(a);return r.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),r}):(e.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),i(e)),n&&c(t)});return(0,a.jsx)(q.BD.Provider,{value:u,children:(0,a.jsx)(q.wj.Provider,{value:n||null,children:(0,a.jsxs)(q.DS.Provider,{value:r||null,children:[t,d.map(e=>(0,T.createPortal)((0,a.jsx)("div",{className:(0,M.Z)("".concat(R.F,"-toast-container"),"".concat(R.F,"-toast-container--").concat(e),"".concat(R.F,"-theme")),style:l,children:s.filter(t=>t.placement===e).map(e=>(0,a.jsx)(W.BV,{setToasts:u,toastProps:e},e.id))}),document.body,e))]})})})}var K=n(23275),Q=n(91767);function X(e){return c.jU?J(e.getState().localePreference):"en_US"}function J(e){return c.jU?"system"===e?navigator.language.startsWith("zh")?"zh_CN":"en_US":e:"en_US"}let $=(0,o.createContext)(null);class ee{setIsColdStart(e){this.isColdStart=e}getCurrentDuration(){return Math.round(performance.now()-this.navigationStartTime)}resetNavigationStartTime(){this.ttiResolved&&(this.ttiResolved=!1),this.navigationResolved&&(this.navigationStartTime=performance.now())}report(e,t,n,a){this.navigationResolved=!0;let r=this.isColdStart;if(this.isColdStart&&this.setIsColdStart(!1),this.ttiResolved)return;this.ttiResolved=!0;let o=Math.round(performance.now()-this.navigationStartTime);this.tracker.info({name:"__tti",message:"".concat(e," TTI 上报：").concat(o,"ms"),payload:{type:r?"coldStart":"warmStart",referer:document.referrer,metricDuration:o,metricVisitIndex:t,metricDurationSinceMounted:-1===n?-1:o-n,hasError:"".concat(a)}})}constructor(e){(0,d._)(this,"isColdStart",!0),(0,d._)(this,"navigationStartTime",0),(0,d._)(this,"navigationResolved",!1),(0,d._)(this,"ttiResolved",!1),(0,d._)(this,"tracker",void 0),this.tracker=e}}var et=n(38955);function en(e){"zh_CN"===e?et.locale("zh-cn"):et.locale("en")}n(87388),n(42452);let ea=(e,t)=>e===t||e&&({HK:"CN中国香港",MO:"CN中国澳门",TW:"CN中国台湾"})[e]===t;var er=n(89369);let eo={zh_CN:{updateVersionNotificationContent:e=>{let{version:t}=e;return"检测到新版本 ".concat(t,"，请刷新页面升级。")},updateVersionNotificationRefreshButton:"立即刷新",updateVersionNotificationTitle:"升级提示"},en_US:{updateVersionNotificationContent:e=>{let{version:t}=e;return"New version V".concat(t," is available. Please refresh the page.")},updateVersionNotificationRefreshButton:"Refresh",updateVersionNotificationTitle:"New version available"}},es={};function ei(e,t){return es[e]?es[e]:es[e]=function(n){var a;let r=(a=t(),e=>eo[a][e])(e);return"string"==typeof r?r:r(n)}}var el=n(30958);class ed{_update(e){if(e)try{this.trackedElement=e;let t=this.determinePosition(e);this.currentPosition=t,this.writePosition(t)}catch(e){}}dispose(){window.removeEventListener("resize",this.handleResize),this.trackedElement=null}handleResize(){this.trackedElement&&this.update(this.trackedElement)}determinePosition(e){let t=e.getBoundingClientRect(),n=t.left+t.width/2,a=t.top+t.height/2,r=window.innerWidth,o=window.innerHeight,s=Math.max(0,Math.min(1,n/r)),i=Math.max(0,Math.min(1,a/o));return"".concat(s.toFixed(3),"#").concat(i.toFixed(3))}parsePosition(e){try{let[t,n]=e.split("#"),a=parseFloat(t),r=parseFloat(n);if(isNaN(a)||isNaN(r)||a<0||a>1||r<0||r>1)return{x:.1,y:.1};return{x:a,y:r}}catch(e){return{x:.1,y:.1}}}getInitialPosition(){let e=this.parsePosition(this.currentPosition),t=window.innerWidth,n=window.innerHeight;return{x:e.x*t,y:e.y*n}}constructor(e,t){(0,d._)(this,"readPosition",void 0),(0,d._)(this,"writePosition",void 0),(0,d._)(this,"currentPosition",void 0),(0,d._)(this,"trackedElement",null),(0,d._)(this,"update",(0,el.Z)(this._update,500,{trailing:!0})),this.readPosition=e,this.writePosition=t;try{this.currentPosition=this.readPosition()||"0.100#0.100"}catch(e){this.currentPosition="0.100#0.100"}window.addEventListener("resize",this.handleResize)}}let ec=e=>{let t=(0,o.useRef)();return(0,o.useEffect)(()=>()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.dispose()},[]),t.current||(t.current=new ed(e.get,e.set)),t.current};var eu=n(68354);function eh(e){let{type:t="info",className:n,style:r,domProps:s,children:i,closable:l,onClose:d,theme:c}=e,u=(0,o.useMemo)(()=>({"--ds-banner-text-color":null==c?void 0:c.textColor}),[c]);return(0,a.jsxs)("div",{...s,className:(0,M.Z)("".concat(R.F,"-banner"),"".concat(R.F,"-banner--").concat(t),n,null==s?void 0:s.className),style:{...u,...null==s?void 0:s.style,...r},children:[(0,a.jsx)("div",{className:"".concat(R.F,"-banner__content"),children:i}),l&&(0,a.jsx)("div",{className:"".concat(R.F,"-banner__close-wrapper"),children:(0,a.jsx)(A.P,{theme:{textColor:"rgb(var(--ds-rgb-primary-foreground))",boxShadowColorFocus:"currentColor",hoverColor:"rgba(0, 0, 0, 0.15)"},onClick:()=>{null==d||d()}})})]})}n(74431);var ep=n(1237);function eg(e){if(!e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id&&"number"!=typeof e.id||!("items"in e)||!Array.isArray(e.items)||0===e.items.length)return!1;for(let t of e.items)if(!function(e){var t,n;if(!e||"object"!=typeof e||!("show"in e)||"boolean"!=typeof e.show||!("showCondition"in e)||!Array.isArray(e.showCondition))return!1;for(let n of e.showCondition){if("authenticated"!==(t=n)&&"unauthenticated"!==t)return!1}if(!("showDeployEnv"in e)||!Array.isArray(e.showDeployEnv))return!1;for(let t of e.showDeployEnv){if("staging"!==(n=t)&&"production"!==n)return!1}if(!("showByAppId"in e)||!Array.isArray(e.showByAppId)||!("type"in e)||"info"!==e.type&&"warning"!==e.type&&"error"!==e.type||!("closable"in e)||"boolean"!=typeof e.closable||!("content"in e)||!e.content||"object"!=typeof e.content)return!1;for(let[t,n]of Object.entries(e.content))if("string"!=typeof t||"string"!=typeof n)return!1;return!0}(t))return!1;return!0}function em(e,t){let n=e.items.filter(e=>e.showByAppId.includes(t));return 0===n.length?null:{...e,items:n}}n(43536);var ef=n(34031),eC=n(80539);let ev={nodeEnv:"production",deployEnv:"production",dev:!1,appVersion:"20241129.1",userAgent:navigator.userAgent,commitId:"cc538c75",referrer:document.referrer,channel:"queue",clientPlatform:"web"};var ex=n(18993),eE=n(97932),ey=n(35900);let eb={zh_CN:{adblockAlertText:"你的浏览器可能启用了 AdGuard/AdBlock/uBlock 类插件，请关闭相关拦截插件，以免影响正常使用。",adblockAlertTitle:"关闭广告拦截插件",ageGateConfirm:"确认",ageGateDesc:"仅用于确认你的年龄，你的信息不会公开。",ageGateMonth:"月",ageGateNetworkError:"操作失败，请稍后重试",ageGateRejectText:"你不符合使用本产品的最低年龄要求",ageGateTitle:"请选择你的出生年月",ageGateYear:"年",ageGetInvalidDate:"无效日期",agentSelectionCreateSessionSidebarTitle:"新建会话",agentSelectionCreateSessionTooltip:"开启新对话",allowTrainingDescription:"允许我们将你的对话内容用于优化 DeepSeek 的使用体验。我们保障你的数据隐私安全。",allowTrainingSwitchLabel:"数据用于优化体验",allowTrainingSwitchNetworkError:"操作失败，请稍后重试",alreadyInNewChatToast:"已经是最新对话",avartarMenuSettingsDialogTitle:"系统设置",avartarMenuSettingsOption:"系统设置",avatarMenuSettingsDialogDeleteAccountItemLabel:"注销账号",avatarMenuSettingsDialogDeleteAllHistoryButton:"删除",avatarMenuSettingsDialogDeleteAllHistoryLabel:"删除所有对话",avatarMenuSettingsDialogExportOldHistoryButton:"导出",avatarMenuSettingsDialogExportOldHistoryFinishedLabel:"已导出，点击链接下载",avatarMenuSettingsDialogExportOldHistoryLabel:"导出旧版历史对话",avatarMenuSettingsDialogExportOldHistoryPendingLabel:"正在导出，请稍候",avatarMenuSettingsDialogThemeItemLabel:"主题",avatarMenuSettingsDialogThemeSelectDarkOption:"深色",avatarMenuSettingsDialogThemeSelectLightOption:"浅色",avatarMenuSettingsDialogThemeSelectSystemOption:"跟随系统",beyondTextLimit:e=>{let{file_usage_ratio:t}=e;return(0,a.jsxs)(a.Fragment,{children:["超出字数限制，DeepSeek 只阅读了前 ",Math.max(1,Math.floor(t)),"%"]})},brandNewChatDivider:"以下是新的对话",cancel:"取消",cancelCreateRole:"取消",cancelDeleteRole:"取消",cancelEditRole:"取消",chatCannotContinueDueToRoleDeleted:"该角色已被删除，对话无法继续",chatHtmlTitle:"探索未至之境",chatInputEmptyPromptButtonTooltip:"请输入你的问题",chatInputNewChatButton:"新对话",chatInputNewChatButtonThinkingExceededPrompt:"当前对话已超出深度思考的最大长度限制，开启一个新对话继续思考吧~",chatInputNewChatButtonTooltip:"内容比较长，消息将发送到新的对话",chatInputPlaceholder:"请输入问题。Enter 发送，Ctrl + Enter 换行",chatInputPlaceholderChat:"给 DeepSeek 发送消息 ",chatInputPlaceholderCoder:"发送给 代码助手",chatInputPlaceholderMobile:"请输入问题",chatInputStopButtonTooltip:"停止生成",Chinese:"中文",clearContext:"开启新对话",clearContextDivider:"以下是新的对话",clickToSendCurMsgToNewChat:"点击此处将此消息发送至新会话",codeBlockExecute:"运行 HTML",codeDownload:"下载",collapseSiderbarButton:"收起边栏",completionContextTooLongToast:"当前对话已超过上下文长度上限，",completionFrequentToast:"请求过于频繁，请稍后再试",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionPromptTooLongToast_legacy:"你输入的信息过长，请调整后重试",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerBusyToast_legacy:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionServerErrorToast_legacy:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",confirmCreateRole:"确认创建",confirmDeleteRoleContent:"删除后，该角色将不可恢复，与该角色的历史对话均不可继续。",confirmDeleteRoleTitle:"确认删除？",contentCaveat:"内容由 AI 生成，请仔细甄别",continueGenerationButton:"继续生成",cookieBannerAcceptAll:"接受全部",cookieBannerAcceptEssential:"仅接受必要 Cookies",cookieBannerDesc:"我们使用 Cookies 来提供和改进服务并进行安全防护。点击查看我们的 <a>Cookie 政策</a>。你可以选择接受全部，或仅接受必要 Cookies（可能导致部分功能无法正常使用）。",cookieBannerTitle:"Cookie 设置",copyCode:"复制",copyCodeOk:"复制成功",createRole:"创建角色",createRoleTooltip:"创建新角色",customRoleTooMany:"自定义角色已达个数上限",deactivatedSearchTooltip:"按需搜索网页",deactivatedThinkTooltip:"先思考后回答，解决推理问题",deepSeekChat:"通用对话 V2.5",deepSeekCoder:"代码助手 V2.5",deletAllHistoryFailedToast:"删除失败，请重试",deleteAllHistoryModalCancel:"取消",deleteAllHistoryModalConfirm:"确认删除",deleteAllHistoryModalConfirmText:"确认删除所有历史对话",deleteAllHistoryModalContent:"如点击确认删除，当前账号的所有历史对话将被清空，无法找回。\n确认要删除所有历史对话吗？",deleteAllHistoryModalTitle:"删除所有历史对话",deleteAllHistoryOkToast:"删除成功",deleteFilesToSearchTooltip:"请先删除文件再开启联网搜索",deleteRole:"删除角色",deleteRoleButton:"删除",deleteRoleFailToast:"删除失败",deleteSessionFailedToast:"删除失败，请重试",deleteSessionModalContentCancelButton:"取消",deleteSessionModalContentConfirmButton:"删除",deleteSessionModalContentDescription:"删除后，该对话将不可恢复。确认删除吗？",deleteSessionModalContentTitle:"永久删除对话",deleteSessionOkToast:"删除成功",downloadAppInMobile:"下载 App",dragFileDesc:"最多支持 50 个文件，每个 100 MB，仅提取文字，接受 pdf、doc、xlsx、ppt、图片、文本、代码等",dragFileErrorTip:"上传的文件包含暂未支持的文件格式，请转换文件格式后重试。支持PDF、DOC、XLSX、PPT、图片、文本、代码等。",dragFileToUpload:"文件拖动到此处即可上传（仅提取文字）",editAvatar:"修改头像",editAvatarChooseColor:"选择颜色",editAvatarConfirm:"确定",editAvatarDefaultContent:"头像",editAvatarInputLabel:"自定义文字",editAvatarPlaceholder:"输入头像文字",editMessageCancelButton:"取消",editMessageSendButton:"发送",editMessageTooltip:"修改",editRole:"编辑角色",editRoleTitle:"编辑角色",enableSearchTooltip:"DeepSeek 将在需要时联网搜索（已开启）",English:"English",eraseChatButton:"删除本页",errorPageReloadButton:"重新加载",errorPageTitle:"似乎出了点问题",expandSiderbarButton:"打开边栏",exploreRole:"探索新角色",exploreRolesOrCreateNew:"你可以探索以下角色，直接开启对话，或者点击侧边栏中的加号创建专属于你的新角色。",exploreRoleTooltip:"探索新角色",exportAllButton:"导出",exportAllDesc:"导出内容中将包含你的账号信息和所有历史对话。导出可能需要一段时间，下载链接的有效期为 7 天。",exportAllDownload:"下载",exportAllDownloadFailed:"下载失败。",exportAllExpiryNoticeDesc:(e,t,n)=>(0,a.jsxs)(a.Fragment,{children:["历史对话于 ",t," 导出，将于 ",n," 过期，",e," 将更新下载链接。"," "]}),exportAllFailed:"导出失败，请稍候重试。",exportAllLabel:"导出所有历史对话",exportAllLinkExpired:"链接已失效，请重新导出。",exportAllRateLimit:"导出过于频繁，请稍后重试。",exportAllReexportBtn:"重新导出",exportedHistoryTooltip:"导出旧版历史记录",fake:"虚假信息",falseInformation:"不实信息",feedbackFailedToast:"反馈失败，请重试",feedbackModalTitle:"反馈",feedbackOkToast:"反馈成功",feedbackPlaceholder:"我们想知道你对此回答不满意的原因，你认为更好的回答是什么？",fileContentTooLong:"文件内容过长",fileParseFailed:"解析失败",fileParseQueuing:"等待中...",filing:"浙ICP备2023025841号",footerICPAlgorithm2Title:"网信算备330105747635301240017号",footerICPAlgorithmTitle:"网信算备110108970550101240011号",footerICPModelTitle:"Beijing-DeepseekChat-202404280016",generatingDisableTooltip:"请在消息生成结束后操作",globalWatermark:e=>"内容由 AI 生成",goToExportHistory:"去导出",harmful:"有害/不安全",historyIsEmpty:"暂无历史对话",historyLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["加载失败，你可以\xa0",t("重试加载")]})},illegal:"违法违规",isSearching:"搜索中...",isThinking:"思考中...",logout:"退出登录",logoutAllDevices:"登出所有设备",logoutAllDevicesButton:"登出",logoutAllDevicesCancel:"取消",logoutAllDevicesConfirm:"确认登出",logoutAllDevicesDesc:e=>"点击“".concat(e,"”后，当前账号将在所有已登录设备或浏览器中退出登录（包括当前设备）。确认登出吗？"),logoutAllDevicesFail:"退出登录失败，请稍后重试",logoutFail:"退出登录失败",menuToOpenPlatform:"开放平台",mermaidCode:"代码",mermaidDiagram:"图表",mermaidDownloadCode:"下载代码",mermaidDownloadPng:"下载 PNG",mermaidDownloadSvg:"下载 SVG",mermaidRenderFail:"渲染失败",mermaidZoomIn:"放大",mermaidZoomOut:"缩小",messageCopyButtonTooltip:"复制",messageDeleteButtonTooltip:"删除",messageDislikeButtonTooltip:"不喜欢",messageLikeButtonTooltip:"喜欢",messageModel:e=>"由 ".concat(e," 生成"),messageRenderError:"消息渲染似乎出现了一些问题，你可以向我们反馈。",mobileHeaderTabChat:"通用对话 V2.5",mobileHeaderTabCoder:"代码助手 V2.5",muteAlert:e=>{let{muteUntil:t,renderContactUs:n}=e;return(0,a.jsxs)(a.Fragment,{children:["由于违反用户使用规范，你的账号已被禁言至 ",t,"，如有疑问请"," ",n({children:"联系我们"}),"。"]})},myRolesDropdown:"查看我的角色",myRolesPage:"我创建的角色",nameYourRole:"为你的角色命名",nonsense:"没有帮助",onboardingMsg:"我可以帮你写代码、读文件、写作各种创意内容，请把你的任务交给我吧~",onlyExtractTextFromFiles:"仅识别附件中的文字",other:"其他",porngraphicOrViolent:"色情暴力",previewFileFail:"打开文件时遇到了问题",previewTextTooLong:"文件内容较长，无法全部展示",profileEmailTitle:"邮箱",profilePhoneNumberTitle:"手机号码",profileUserName:"用户名",promptRolePlaceholder:"描述角色能做什么，如何做，应该避免做什么。示例：你是一个经验丰富的小学数学老师，你擅长使用具体的例子引导学生逐步思考，请详细地拆解问题，避免省略过程。",r1DescTooltip:"调用 DeepSeek-R1-Lite，解决复杂推理问题（已开启）",r1PowComputeFail:"当前操作遇到一些问题，请稍后再试",regenerate:"重新生成",renameFailed:"重命名失败",report:"联系我们",reportFooterText:"联系我们：service@deepseek.com",reportTextareaPlaceholder:"请描述你的意见与建议。如有疑问，欢迎通过微信或邮箱与我们直接联系。",resend:"重新发送",resendButtonTooltip:"重试",revokeByServerDivider:"出于内容安全考虑，一条消息被撤回",roleAgainstUsageTermToast:"角色信息可能违反使用规范，请修改后重试",roleCreateSuccess:"角色创建成功",roleDesc:"角色开场白（选填）",roleDescExceedError:"欢迎语超出字数限制",roleEditSuccess:"角色编辑成功",roleLatestUpdatedAt:"最后修改",roleName:"角色名称",roleNameExceedError:"角色名超出字数限制",roleNotFound:"角色不存在",rolePromptExceedError:"设定描述超出字数限制",roleSysPrompt:"设定描述",runHtml:"运行",saveEditRole:"保存",scanDownloadApp:"扫码下载 DeepSeek APP",search:"联网搜索",searchFoundXSites:e=>{let{n:t}=e;return"已搜索到 ".concat(t," 个网页")},searchGotNothing:"未搜索到合适的内容",searchNotSupportFiles:"联网搜索不支持上传文件",searchNotSupportThink:"联网搜索不支持深度思考",searchResult:"搜索结果",searchRole:"搜索",sendButtonContent:"发送",sendFeedback:"联系我们",serviceUnavailable:"服务暂时不可用",sessionHeaderModelNameChat:"通用对话 V2",sessionHeaderModelNameCoder:"代码助手 V2",sessionHistoryTimelineLabel30days:"30 天内",sessionHistoryTimelineLabel7days:"7 天内",sessionHistoryTimelineLabelToday:"今天",sessionHistoryTimelineLabelYesterday:"昨天",sessionItemMenuDeleteOption:"删除",sessionItemMenuRenameOption:"重命名",sessionLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["加载失败，你可以\xa0",t("重试加载")]})},setRoleIntroPlaceholder:"为角色设置开场白",setRoleNameError:"请填写角色名称",setRolePromptError:"请填写设定描述",settingDialogAsideAccountOptionLabel:"账号管理",settingDialogAsideGeneralOptionLabel:"通用设置",settingDialogAsidePolicyOptionLabel:"服务协议",settingsAppearance:"外观",settingsDarkTheme:"深色主题",settingsLightTheme:"浅色主题",settingsLocalePreference:"语言",settingsLocalePreferenceSystem:"跟随系统",settingsSystemTheme:"跟随系统",sidebarClose:"关闭",sidebarZoomIn:"放大",sidebarZoomOut:"缩小",siderButtonChatNewBadge:"全新",siderProfile:"个人信息",stopButtonContent:"停止",submit:"提交",supportEmail:"service@deepseek.com",suspectedCopyRightInfringement:"涉嫌侵权",systemServiceException:"系统服务异常",t:"连续访问次数过多，请休息一会儿",thinkingElapsed:e=>{let{secs:t}=e;return"已深度思考（用时 ".concat(t," 秒）")},thinkingStop:"思考已停止",thinkingSwitchDisabled:"深度思考 (R1)",thinkingSwitchEnabled:"深度思考 (R1)",thinkingSwitchLabelDisabledTooltip:e=>{let{total:t}=e;return"今日使用次数已达上限，北京时间 24:00 刷新（".concat(t,"次/天）")},thinkingSwitchLabelDisabledTooltipNotPrepared:"正在更新深度思考次数，请稍后再试",thinkingSwitchLabelMobile:"深度思考 (R1)",thinkingSwitchQuotaDescription:e=>{let{left:t}=e;return"（今日剩余 ".concat(t," 次）")},thinkingSwitchQuotaDescriptionMobile:e=>{let{left:t}=e;return"（剩余 ".concat(t," 次）")},thinkNotSupportSearchTooltip:"深度思考不支持联网搜索",untitledChat:"新对话",uploadFileButtonTooltip:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{role:"title",children:"上传附件（仅识别文字）"}),"最多 50 个，每个 100 MB，支持各类文档和图片"]}),uploadFileDeleteInvalidFilePrompt:"请删除异常文件再发送",uploadFileNotificationModalContent:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"DeepSeek 文件上传功能全新上线！"}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"功能亮点："}),"一键提取文字，轻松阅读文档"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"推荐场景："}),"可以精准提取中英文书籍、论文及常规电子文档中的文字"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"优化建议："}),"包含大量图片、公式的文档上传 PDF 格式，效果最佳"]})]}),uploadFileNotificationModalOk:"我知道了",uploadFileNotificationModalTitle:"\uD83C\uDF89 功能上新",uploadFileStatusContentEmpty:"未提取到文字",uploadFileStatusContentFilter:"可能违反使用规范",uploadFileStatusContentFilterForMobile:"可能违反使用规范",uploadFileStatusFailed:"上传失败",uploadFileStatusParsing:"解析中...",uploadFileStatusUploading:"上传中...",uploadingFiles:"文件解析中...",uploadMax100MBSize:"单个文件大小超过限制（100 MB），请调整后重试",uploadMax50Files:"上传文件最多支持 50 个",uploadMultipleFileTokenCountExceededPrompt:e=>{let{percent:t}=e;return"DeepSeek 只能阅读全部文件的 ".concat(t,"%，请删减后发送")},uploadMultipleFileTokenCountExceededPrompt2:"超出字数限制，请删减后发送或开启新对话",usageEnvUnsafeTitle:"使用环境异常",usageEnvUnsafeWarn:"当前页面的使用环境可能存在数据和隐私泄露风险，为保障安全，建议您使用我们的官方产品。",userMessageEdit:"修改",viewConversationHistoryButton:"点击查看历史对话",viewPolicyButton:"查看",wechatQrCodeDescription:()=>(0,a.jsxs)(a.Fragment,{children:["扫码添加",(0,a.jsx)("br",{}),"DeepSeek 官方微信"]}),welcomeMessageChat:"你好，我是 DeepSeek V2.5 通用对话助手，有问题尽管问我。",welcomeMessageChatV2:"我是 DeepSeek，很高兴见到你！\n",welcomeMessageCode:"你好，我是 DeepSeek V2.5 代码助手，任何关于编程的问题，都可以问我。"},en_US:{adblockAlertText:"Your adblocker is on (AdGuard/AdBlock/uBlock). Please disable it for proper use.",adblockAlertTitle:"Disable Ad Blocker",ageGateConfirm:"Confirm",ageGateDesc:"For age verification only. Your information will not be disclosed.",ageGateMonth:"Month",ageGateNetworkError:"Operation failed, please try again later.",ageGateRejectText:"You do not meet the minimum age requirement to use this product.",ageGateTitle:"When were you born?",ageGateYear:"Year",ageGetInvalidDate:"Invalide date",agentSelectionCreateSessionSidebarTitle:"New chat",agentSelectionCreateSessionTooltip:"New chat",allowTrainingDescription:"Allow your content to be used to train our models and improve our services. We secure your data privacy.",allowTrainingSwitchLabel:"Improve the model for everyone",allowTrainingSwitchNetworkError:"Operation failed, please try again later.",alreadyInNewChatToast:"You're already in the latest chat",avartarMenuSettingsDialogTitle:"Settings",avartarMenuSettingsOption:"Settings",avatarMenuSettingsDialogDeleteAccountItemLabel:"Delete account",avatarMenuSettingsDialogDeleteAllHistoryButton:"Delete all",avatarMenuSettingsDialogDeleteAllHistoryLabel:"Delete all chats",avatarMenuSettingsDialogExportOldHistoryButton:"Export",avatarMenuSettingsDialogExportOldHistoryFinishedLabel:"History exported, click to download",avatarMenuSettingsDialogExportOldHistoryLabel:"Export old version chats",avatarMenuSettingsDialogExportOldHistoryPendingLabel:"Exporting, please wait",avatarMenuSettingsDialogThemeItemLabel:"Theme",avatarMenuSettingsDialogThemeSelectDarkOption:"Dark",avatarMenuSettingsDialogThemeSelectLightOption:"Light",avatarMenuSettingsDialogThemeSelectSystemOption:"System",beyondTextLimit:e=>{let{file_usage_ratio:t}=e;return(0,a.jsxs)(a.Fragment,{children:["Length limit reached. DeepSeek can only read the first"," ",Math.max(1,Math.floor(t)),"%."]})},brandNewChatDivider:"Context cleared",cancel:"Cancel",cancelCreateRole:"Cancel",cancelDeleteRole:"Cancel",cancelEditRole:"Cancel",chatCannotContinueDueToRoleDeleted:"This role has been deleted. The chat cannot continue.",chatHtmlTitle:"Into the Unknown",chatInputEmptyPromptButtonTooltip:"Message is empty\n",chatInputNewChatButton:"New chat",chatInputNewChatButtonThinkingExceededPrompt:"We've exceeded the length limit for DeepThink. Let's start a new chat!",chatInputNewChatButtonTooltip:"Length limit exceeded. Your message will be sent to a new chat.",chatInputPlaceholder:"Send a message",chatInputPlaceholderChat:"Message DeepSeek",chatInputPlaceholderCoder:"Message Coder-V2",chatInputPlaceholderMobile:"Message",chatInputStopButtonTooltip:"Stop",Chinese:"中文",clearContext:"Clear context",clearContextDivider:"Context cleared",clickToSendCurMsgToNewChat:"Click here to send this message to a new chat.",codeBlockExecute:"Run HTML",codeDownload:"Download",collapseSiderbarButton:"Close sidebar",completionContextTooLongToast:"We’ve exceeded the length limit.",completionFrequentToast:"Too many requests. Please try again later.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionPromptTooLongToast_legacy:"The message you sent is too long. Please modify it and resend.",completionServerBusyToast:"Server busy, please try again later.",completionServerBusyToast_legacy:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionServerErrorToast_legacy:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",confirmCreateRole:"Create",confirmDeleteRoleContent:"Are you sure you want to delete this role? This cannot be undone.",confirmDeleteRoleTitle:"Confiem deletion?",contentCaveat:"AI-generated, for reference only",continueGenerationButton:"Continue",cookieBannerAcceptAll:"Accept all cookies",cookieBannerAcceptEssential:"Necessary cookies only",cookieBannerDesc:"We use cookies to provide and improve services and ensure security. Click to view our <a>cookie policy</a>. You can choose to accept all or only necessary cookies, which may affect some functionalities.",cookieBannerTitle:"Cookie Settings",copyCode:"Copy",copyCodeOk:"Copied!",createRole:"Create role",createRoleTooltip:"Create role",customRoleTooMany:"Maximum roles created.",deactivatedSearchTooltip:"Search the web when necessary",deactivatedThinkTooltip:"Think before responding to solve reasoning problems",deepSeekChat:"DeepSeek-V2.5",deepSeekCoder:"Coder-V2.5",deletAllHistoryFailedToast:"Deletion failed. Please try again.",deleteAllHistoryModalCancel:"Cancel",deleteAllHistoryModalConfirm:"Confirm deletion",deleteAllHistoryModalConfirmText:"Confirm delete all chat history",deleteAllHistoryModalContent:"If you confirm deletion, all chat history for this account will be permanently erased and cannot be recovered.\nAre you sure you want to delete all chat history?",deleteAllHistoryModalTitle:"Delete all chats",deleteAllHistoryOkToast:"Successfully deleted.",deleteFilesToSearchTooltip:"Please remove the file before searching",deleteRole:"Delete role",deleteRoleButton:"Delete",deleteRoleFailToast:"Deletion failed",deleteSessionFailedToast:"Deletion failed. Please try again.",deleteSessionModalContentCancelButton:"Cancel",deleteSessionModalContentConfirmButton:"Delete",deleteSessionModalContentDescription:"Are you sure you want to delete this chat?",deleteSessionModalContentTitle:"Delete chat?",deleteSessionOkToast:"Successfully deleted.",downloadAppInMobile:"Get App",dragFileDesc:"Max 50 files per chat at 100MB each. Text extraction only.",dragFileErrorTip:"The uploaded file format is not supported. Supported formats include PDF, DOC, XLSX, PPT, images, text, and code.",dragFileToUpload:"Drop files here to add to chat (Text extraction only)",editAvatar:"Edit Avatar/Text",editAvatarChooseColor:"Choose Color",editAvatarConfirm:"Confirm",editAvatarDefaultContent:"Avatar",editAvatarInputLabel:"Text",editAvatarPlaceholder:"Enter avatar text",editMessageCancelButton:"Cancel",editMessageSendButton:"Send",editMessageTooltip:"Edit",editRole:"Edit role",editRoleTitle:"Edit role",enableSearchTooltip:"Search the web when necessary (Enabled)",English:"English",eraseChatButton:"Delete chat",errorPageReloadButton:"Reload page",errorPageTitle:"Something went wrong.",expandSiderbarButton:"Open sidebar",exploreRole:"Explore Deep Roles",exploreRolesOrCreateNew:"Discover the Deep Roles below or click the plus icon in the sidebar to create your own role.",exploreRoleTooltip:"Explore Deep Roles",exportAllButton:"Export",exportAllDesc:"This data includes your account information and all chat history. Exporting may take some time. The download link will be valid for 7 days.",exportAllDownload:"Download",exportAllDownloadFailed:"Download failed.",exportAllExpiryNoticeDesc:(e,t,n)=>(0,a.jsxs)(a.Fragment,{children:["Exported on ",t,", expires on ",n,". ",e," will update the download link."]}),exportAllFailed:"Export failed. Please retry later.",exportAllLabel:"Export data",exportAllLinkExpired:"Link expired. Please export again.",exportAllRateLimit:"Exporting too frequently. Please try again later.",exportAllReexportBtn:"Re-exporting",exportedHistoryTooltip:"Export old version chats",fake:"Fake",falseInformation:"Misinformation",feedbackFailedToast:"Feedback failed. Please try again.",feedbackModalTitle:"Feedback",feedbackOkToast:"Successfully submitted.",feedbackPlaceholder:"We appreciate your feedback. Please share any comments or suggestions that you have to help us improve.",fileContentTooLong:"Text limit exceeded",fileParseFailed:"Parsing failed",fileParseQueuing:"Pending...",filing:"Zhejiang ICP No. 2023025841 - 1",footerICPAlgorithm2Title:"网信算备330105747635301240017号",footerICPAlgorithmTitle:"网信算备110108970550101240011号",footerICPModelTitle:"Beijing-DeepseekChat-202404280016",generatingDisableTooltip:"Please wait until the message is generated",globalWatermark:e=>"Generated by AI",goToExportHistory:"Export",harmful:"Harmful / Unsafe",historyIsEmpty:"No chat history",historyLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["Failed to load, you can\xa0",t("retry loading"),"."]})},illegal:"Illegal",isSearching:"Searching the web...",isThinking:"Thinking...",logout:"Log out",logoutAllDevices:"Log out of all devices",logoutAllDevicesButton:"Log out",logoutAllDevicesCancel:"Cancel",logoutAllDevicesConfirm:"Confirm Logout",logoutAllDevicesDesc:e=>'Clicking "'.concat(e,'" will sign you out of all devices and browsers, including this device. Confirm logout?'),logoutAllDevicesFail:"Log out failed. Please try again later.",logoutFail:"Logout failed.",menuToOpenPlatform:"API Platform",mermaidCode:"Code",mermaidDiagram:"Diagram",mermaidDownloadCode:"Code",mermaidDownloadPng:"PNG",mermaidDownloadSvg:"SVG",mermaidRenderFail:"Mermaid rendering failed.",mermaidZoomIn:"Zoom in",mermaidZoomOut:"Zoom out",messageCopyButtonTooltip:"Copy",messageDeleteButtonTooltip:"Delete",messageDislikeButtonTooltip:"Dislike",messageLikeButtonTooltip:"Like",messageModel:e=>"Generated by ".concat(e),messageRenderError:"Something went wrong when rendering the message.\nPlease contact us for help.",mobileHeaderTabChat:"DeepSeek-V2.5",mobileHeaderTabCoder:"Coder-V2.5",muteAlert:e=>{let{muteUntil:t,renderContactUs:n}=e;return(0,a.jsxs)(a.Fragment,{children:["Due to violation of user policies, your account has been suspended until ",t,". If you have any questions, please ",n({children:"contact us"}),"."]})},myRolesDropdown:"My roles",myRolesPage:"My roles",nameYourRole:"Name your role",nonsense:"Unhelpful",onboardingMsg:"How can I help you today?",onlyExtractTextFromFiles:"Extract only text from images and files.",other:"Others",porngraphicOrViolent:"Porn / Violence",previewFileFail:"Preview failed",previewTextTooLong:"Content too long to display.",profileEmailTitle:"Email address",profilePhoneNumberTitle:"Phone number",profileUserName:"Name",promptRolePlaceholder:"Describe what the role can do, how it does it, and what to avoid. Example: You are an experienced elementary math teacher skilled at guiding students step by step using concrete examples. Please break problems down in detail and avoid skipping steps.",r1DescTooltip:"Use DeepSeek-R1-Lite to solve complex reasoning problems (Enabled)",r1PowComputeFail:"Operation unsuccessful. Please retry later.",regenerate:"Regenerate",renameFailed:"Rename failed",report:"Contact us",reportFooterText:"Contact us: service@deepseek.com",reportTextareaPlaceholder:"Please share your comments and suggestions. If you have any questions, feel free to contact us directly through WeChat or email.",resend:"Resend",resendButtonTooltip:"Retry",revokeByServerDivider:"A message was withdrawn for content security reasons",roleAgainstUsageTermToast:"Role information may violate usage terms. Please revise and try again.",roleCreateSuccess:"Role created successfully",roleDesc:"Greeting message",roleDescExceedError:"Greeting message is too long.",roleEditSuccess:"Update successfully",roleLatestUpdatedAt:"Latest update",roleName:"Name",roleNameExceedError:"Name is too long.",roleNotFound:"The role does not exist",rolePromptExceedError:"Instruction is too long.",roleSysPrompt:"Instructions",runHtml:"Run",saveEditRole:"Save",scanDownloadApp:"Scan to get DeepSeek App",search:"Search",searchFoundXSites:e=>{let{n:t}=e;return"Found ".concat(t," results")},searchGotNothing:"No suitable content found",searchNotSupportFiles:"Uploading files is unavailable for searching",searchNotSupportThink:"DeepThink is unavailable",searchResult:"Search results",searchRole:"Search",sendButtonContent:"Send",sendFeedback:"Contact us",serviceUnavailable:"Service is temporarily unavailable.",sessionHeaderModelNameChat:"DeepSeek-V2",sessionHeaderModelNameCoder:"Coder-V2",sessionHistoryTimelineLabel30days:"30 Days",sessionHistoryTimelineLabel7days:"7 Days",sessionHistoryTimelineLabelToday:"Today",sessionHistoryTimelineLabelYesterday:"Yesterday",sessionItemMenuDeleteOption:"Delete",sessionItemMenuRenameOption:"Rename",sessionLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["Failed to load, you can\xa0",t("retry loading"),"."]})},setRoleIntroPlaceholder:"Set an greeting message for the role",setRoleNameError:"Please enter a name.",setRolePromptError:"Please enter instructions.",settingDialogAsideAccountOptionLabel:"Profile",settingDialogAsideGeneralOptionLabel:"General",settingDialogAsidePolicyOptionLabel:"About",settingsAppearance:"Appearance",settingsDarkTheme:"Dark Theme",settingsLightTheme:"Light Theme",settingsLocalePreference:"Language",settingsLocalePreferenceSystem:"System",settingsSystemTheme:"System (automatic)",sidebarClose:"Close",sidebarZoomIn:"Zoom in",sidebarZoomOut:"Zoom out",siderButtonChatNewBadge:"NEW",siderProfile:"My Profile",stopButtonContent:"Stop",submit:"Submit",supportEmail:"service@deepseek.com",suspectedCopyRightInfringement:"Allegedly infringed",systemServiceException:"System temporarily unavailable",t:"Too many requests. Try again later.",thinkingElapsed:e=>{let{secs:t}=e;return"Thought for ".concat(t," seconds")},thinkingStop:"Thinking stopped",thinkingSwitchDisabled:"DeepThink (R1)",thinkingSwitchEnabled:"DeepThink (R1)",thinkingSwitchLabelDisabledTooltip:e=>{let{total:t}=e;return"You're out of DeepThink messages until 12:00 AM Beijing Time (".concat(t," messages per day).")},thinkingSwitchLabelDisabledTooltipNotPrepared:"Updating DeepThink messages, please try again later.",thinkingSwitchLabelMobile:"DeepThink (R1)",thinkingSwitchQuotaDescription:e=>{let{left:t}=e;return" (".concat(t," messages left today)")},thinkingSwitchQuotaDescriptionMobile:e=>{let{left:t}=e;return" (".concat(t," left)")},thinkNotSupportSearchTooltip:"Search is unavailable",untitledChat:"New chat",uploadFileButtonTooltip:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{role:"title",children:"Text extraction only."}),"Upload docs or images (Max 50, 100MB each)"]}),uploadFileDeleteInvalidFilePrompt:"Remove failed files to submit.",uploadFileNotificationModalContent:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"DeepSeek's file upload feature is now live!"}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Key feature: "})," One-click text extraction for effortless document reading."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Ideal for:"})," Accurately extracting text from Chinese and English books, academic papers, and standard electronic documents."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Pro tip:"})," For documents with images or formulas, upload in PDF format for best results."]})]}),uploadFileNotificationModalOk:"Got it",uploadFileNotificationModalTitle:"\uD83C\uDF89 New Feature",uploadFileStatusContentEmpty:"No text extracted",uploadFileStatusContentFilter:"May violate terms",uploadFileStatusContentFilterForMobile:"May violate terms",uploadFileStatusFailed:"Upload failed",uploadFileStatusParsing:"Parsing...",uploadFileStatusUploading:"Uploading...",uploadingFiles:"Parsing file...",uploadMax100MBSize:"You may not upload files larger than 100MB.",uploadMax50Files:"You can add at most 50 attachments to a message. Please select fewer attachments.\n",uploadMultipleFileTokenCountExceededPrompt:e=>{let{percent:t}=e;return"DeepSeek can only read  ".concat(t,"% of all files. Try replacing the attached files with smaller excerpts.")},uploadMultipleFileTokenCountExceededPrompt2:"Length limit reached. Try shortening or start a new chat.",usageEnvUnsafeTitle:"Abnormal usage environment",usageEnvUnsafeWarn:"The current usage environment may pose data and privacy risks. For your security, we recommend using our official product.",userMessageEdit:"Edit",viewConversationHistoryButton:"View history",viewPolicyButton:"View",wechatQrCodeDescription:()=>"Scan QR Code to contact customer service.",welcomeMessageChat:"Hi, I'm DeepSeek V2.5 Chat assistant. Feel free to ask me anything!",welcomeMessageChatV2:"Hi, I'm DeepSeek.",welcomeMessageCode:"Hi, I'm DeepSeek V2.5 Coder. Feel free to ask me anything about coding."}};n(5338);var e_=n(53429);let ew=(0,ex.ju)({getTracker:()=>eS.tracker,getHttpService:()=>eS.http,getChallengeUrl:"/api/v0/users/create_guest_challenge",solveChallenge:ef.xN,showErrorToast:(e,t)=>{eS.withToast(e=>{let n=eI.getTranslate()("completionWipNetworkErrorToast");e.error({node:n,description:JSON.stringify({url:t,text:n})})})},encoder:btoa}),eS=function(e){var t,n,d;let m=()=>{let t=e.user.getMemoryToken();if(t.token)return{token:t.token,source:"memory"};{let e=U.get();return e?{token:e,source:"localStorage"}:{token:null,source:"memory"}}},f=null===(t=e.ip.debugMock)||void 0===t?void 0:t.ip,x=f?()=>f:()=>B.getState().ip,b=f?()=>f:()=>B(e=>e.ip),_=null===(n=e.ip.debugMock)||void 0===n?void 0:n.region,T=_?()=>_:()=>B.getState().region,M=_?()=>_:()=>B(e=>e.region),{tracker:j,logger:k,withError:A,switchToConsoleChannel:R}=(0,l.Se)({customEventsApi:e.customEventsApi,lylaAdapter:i.V,staticEnv:e.staticEnv}),{monitor:N,http:L,httpClientErrorType:F,HTTP_CLIENT_ERROR:O,isHttpClientError:P,withDefaultHttpContext:D}=function(e){let{lylaAdapter:t,tracker:n,locale:{useLocale:a,getLocale:r},logger:s,withError:i,baseUrl:l,onToast:d,user:c,chat:u,staticEnv:m,cloudflareEnabled:f,onBeforeRequestInit:x}=e,E=new y;function b(e,t,a,r,s,i,l){let p=[h.Ts.MISSING_TOKEN,h.Ts.INVALID_TOKEN];if(a===h.Ts.USER_IS_BANNED)return d({level:"error",node:(0,o.createElement)(C("userIsBannedToast",i)),description:r("userIsBannedToast"),dedupeKey:"userIsBannedToast"}),c.onIsBanned(),t.unauthorizedReason="banned",{error:"userIsBanned",detail:null};if([h.Ts.POW_HEADER_ERROR,h.Ts.INVALID_POW_RESPONSE].includes(a))return d({level:"error",node:(0,o.createElement)(C("invalidPowResponseToast",i)),description:"".concat(r("invalidPowResponseToast"),", code: ").concat(a,", id: ").concat(t.logId),dedupeKey:"invalidPowResponseToast"}),{error:"invalidPowResponse",detail:null};if(p.includes(a)){switch(d({level:"error",node:(0,o.createElement)(C("invalidTokenToast",i)),description:r("invalidTokenToast"),dedupeKey:"invalidTokenToast"}),c.onTokenInvalid(),a){case h.Ts.MISSING_TOKEN:t.unauthorizedReason="missingToken";break;case h.Ts.INVALID_TOKEN:t.unauthorizedReason="invalidToken",n.error({name:"tokenInvalid",message:"用户 token 无效",payload:{requestHeaders:l.requestOptions.headers,responseHeaders:l.headers}})}return{error:"tokenInvalid",detail:null}}if(a===h.Ts.IP_ACCESS_RESTRICTED)return c.onIpAccessRestricted(),d({level:"error",node:(0,o.createElement)(C("ipAccessRestrictedToast",i)),description:r("ipAccessRestrictedToast"),dedupeKey:"ipAccessRestrictedToast"}),{error:"ipAccessRestricted",detail:null};if(a===h.Ts.MUTED){let t=0;if(e&&"object"==typeof e&&"data"in e){let n=e.data;if(n&&"object"==typeof n&&"end_at"in n){let e=n.end_at;"number"==typeof e&&(t=1e3*e)}}return u.onMuted({muteUntil:t}),{error:"muted",detail:null}}else if(a!==h.Ts.OK&&!s)return{error:"others",detail:"HTTP response code is ".concat(a,", and [context.mayMissingApiCode] is falsy")};else return{error:"none",detail:null}}let{lyla:_,isLylaError:I}=(0,p.w)(t,{baseUrl:l,context:h.bF,hooks:{onInit:[e=>{let t=S++;return e.context.id=t,e},async e=>(x&&await x(e),E.addRequest({requestOptions:e,id:e.context.id}),e)],onBeforeRequest:[e=>{var t;let a=(e.url||"").split("?")[0];if(e.context.path=a,e.context.startTime=Date.now(),n.info({name:"__httpRequest",message:"httpRequest ".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase()," ").concat(e.url||""),payload:{url:e.url||"",path:a,method:e.method||""}}),e.headers||(e.headers={}),e.headers["X-App-Version"]=m.appVersion,!e.context.withToken)return e;let{token:r,source:o}=c.getToken();return r&&(e.headers.Authorization="Bearer ".concat(r),e.context.tokenSource=o),e}],onHeadersReceived:[e=>{var t;let{headers:n,requestOptions:a}=e,r=null!==(t=n["x-ds-trace-id"])&&void 0!==t?t:h.WN;a.context.logId=r}],onAfterResponse:[(e,t)=>{var o;E.removeRequest(e.context.id);let l=Date.now()-e.context.startTime;e.context.duration=l;let d=e.requestOptions.method||"",c=e.requestOptions.url||"",u=null!==(o=e.headers["x-ds-trace-id"])&&void 0!==o?o:h.WN;e.context.logId=u;let p=null,g=null;try{"text"===e.requestOptions.responseType?(p=e.json.code,g=e.json):p=h.Ts.OK}catch(t){s.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.body.slice(0,100)]})}let m=v(r()),{error:f,detail:C}=b(g,e.context,p,m,e.context.mayMissingApiCode,a,e);if("none"===f)n.info({name:"__httpResponse",message:"httpResponse ".concat(d.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(f),payload:{url:c,path:e.context.path,method:d,metricDuration:l,status:"".concat(e.status),logId:u}});else{let a=Error("HTTP response code is ".concat(p,", error: ").concat(f,", detail: ").concat(C," (logId: ").concat(u,", url: ").concat(c,")"));a.name="BIZ_ERROR[".concat(p,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(d.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(f),payload:i(a,{url:c,path:e.context.path,method:d,metricDuration:l,status:"".concat(e.status),logId:u,errorType:"biz",code:"".concat(p)})}),t(a)}return e}],onResponseError:[(e,t)=>{var o,l,d,c,u,p,C,x;E.removeRequest(e.context.id);let{requestOptions:y}=e,_=Date.now()-y.context.startTime;e.context.duration=_;let w=y.method||"",S=y.url||"";m.dev&&e.type===g.PF.ABORTED&&s.debug("丢弃请求");let I=h.WN;if(e.response&&(I=null!==(c=e.response.headers["x-ds-trace-id"])&&void 0!==c?c:h.WN,e.response.context.logId=I),e.response){let o=null,l=null;try{"text"===e.response.requestOptions.responseType?(o=e.response.json.code,l=e.response.json):o=h.Ts.OK}catch(t){s.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.response.body]})}let d=v(r()),{error:c,detail:u}=b(l,e.context,o,d,!0,a,e.response);if("none"!==c){let a=Error("HTTP response code is ".concat(o,", error: ").concat(c,", detail: ").concat(u," (logId: ").concat(I,", url: ").concat(S,")"));a.name="BIZ_ERROR[".concat(o,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(w.toUpperCase()," ").concat(e.response.requestOptions.url||"",", ").concat(_,"ms, reason: ").concat(c),payload:i(a,{url:S,path:e.response.context.path,method:w,duration:_,metricDuration:_,status:"".concat(e.response.status),logId:I,errorType:"biz",code:"".concat(o)})}),t(e);return}}if(f&&(null===(o=e.response)||void 0===o?void 0:o.status)===403&&(null===(l=e.response)||void 0===l?void 0:l.headers["cf-mitigated"])==="challenge"&&(null===(d=e.response)||void 0===d?void 0:d.body)){let a=Error("HTTP response challenged (logId: ".concat(I,", url: ").concat(S,")"));a.name="CF_CHALLENGED",e.context.unauthorizedReason="cfChallenged",n.error({name:"__httpResponse",message:"httpResponse ".concat(w.toUpperCase()," ").concat(S,", ").concat(_,"ms"),payload:i(a,{url:S,method:w,duration:_,metricDuration:_,path:e.context.path,status:"".concat(null!==(p=null===(u=e.response)||void 0===u?void 0:u.status)&&void 0!==p?p:-1),logId:I,errorType:"client",code:"challenged"}),options:{consoleOnlyArgs:[e]}}),t(e);return}if(e.type!==g.PF.ABORTED){n.error({name:"__httpResponse",message:"httpResponse ".concat(w.toUpperCase()," ").concat(S,", ").concat(_,"ms"),payload:i(e,{url:S,method:w,duration:_,metricDuration:_,path:e.context.path,status:"".concat(null!==(x=null===(C=e.response)||void 0===C?void 0:C.status)&&void 0!==x?x:-1),logId:I,errorType:"client",code:"none"}),options:{consoleOnlyArgs:[e]}});return}}],onNonResponseError:[e=>{E.removeRequest(e.context.id),e.type!==g.PF.INVALID_JSON&&n.error({name:"__httpNonResponseError",message:e.message,payload:i(e,{})})}]}}),T=_.withRetry({createState:()=>({}),onResolved:async e=>{let{response:t}=e;return{action:"resolve",value:t}},onRejected:async e=>{let{error:t,options:n}=e;return"cfChallenged"===t.context.unauthorizedReason?(await w(),{action:"retry",value:()=>n}):{action:"reject",value:t}}});return{http:T,monitor:E,httpClientErrorType:T.errorType,HTTP_CLIENT_ERROR:g.PF,withDefaultHttpContext:function(e){return{...h.bF,...e}},isHttpClientError:I}}({lylaAdapter:i.V,locale:{useLocale:ex,getLocale:ev},baseUrl:e.http.baseUrl,logger:k,tracker:j,withError:A,onToast:e=>{let{level:t,node:n,dedupeKey:a,description:r}=e;ej(e=>{e[t]({node:n,description:r},{dedupeKey:a})})},user:{getStatus:e.user.getStatus,getToken:m,onIpAccessRestricted:e.user.onIpAccessRestricted,onIsBanned:e.user.onIsBanned,onTokenInvalid:e.user.onTokenInvalid},chat:{onMuted:e.chat.onMuted},staticEnv:e.staticEnv,cloudflareEnabled:e.http.cloudflareEnabled,onBeforeRequestInit:e.http.onBeforeRequestInit}),{useApp:B,storageHandles:z,userTokenStorageHandle:U,debugPanelEnabledStorageHandle:W,DebugPanel:Z,toggleDebugPanel:q,eventbus$:et,bannerStorageHandle:eo,getLastSessionValue:es,useLastSessionValue:el,setLastSessionValue:ed,visibilityChange$:ef}=function(e){let{appConfig:t,tracker:n,withError:s}=e,i=new E.x,l=new Q.X(!c.jU||!document.hidden),d=new u({onGetError:(e,t)=>{let{key:a,value:r}=t;n.error({name:"__parseStorageValueFailed",message:"解析 storage 值失败",payload:s(e,{key:a,value:null===r?"null":r})})}}),h=t.createStorageHandles({storageHandleManager:d}),p=d.create("userToken",null,null),g={};for(let e in t.fg.defaultValue)g[e]=d[t.fg.defaultValue[e].saveToLocalStorage?"create":"createMock"]("__appKit_".concat(t.id,"_fg_").concat(e),t.fg.defaultValue[e].value,t.fg.defaultValue[e].storageVersion);let m=d.create("__appKit_".concat(t.id,"_debugPanelEnabled"),!1,null),{DebugPanel:f,toggleDebugPanel:C}=function(e){let{debugPanelEnabledStorageHandle:t,debugPanelFoldStorageHandle:n,debugPanelPositionStorageHandle:r}=e,s=e=>t.set(null!=e?e:!t.get()),i=e=>n.set(null!=e?e:!n.get());return{DebugPanel:function(e){let{items:l,className:d}=e,[c]=t.useState(),[u]=n.useState(),h=(0,a.jsx)("div",{style:{height:1,background:"#fff6",margin:"4px 0"}}),p=l.some(e=>e.alwaysShow)||c,[g,m]=(0,o.useState)(!1),f=ec(r),{divRef:C,style:v}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialPosition:t={x:20,y:20},boundaryPadding:n=10,disabled:a=!1,snapThreshold:r=20}=e,[s,i]=(0,o.useState)(t),[l,d]=(0,o.useState)(!1),c=(0,o.useRef)(null),u=(0,o.useRef)({x:0,y:0}),h=(0,o.useRef)({width:window.innerWidth,height:window.innerHeight}),p=(0,o.useCallback)(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!c.current)return{x:e,y:t};let o=c.current,s=window.innerWidth,i=window.innerHeight,d=o.offsetWidth,u=o.offsetHeight,h=Math.max(n,Math.min(e,s-d-n)),p=Math.max(n,Math.min(t,i-u-n));return(a||!l)&&(h<r+n&&(h=n),s-(h+d)<r+n&&(h=s-d-n),p<r+n&&(p=n),i-(p+u)<r+n&&(p=i-u-n)),{x:h,y:p}},[n,l,r]),g=(0,o.useCallback)(()=>{i(t)},[t]),m=(0,o.useCallback)(e=>{if(!a&&(d(!0),c.current)){let t=c.current.getBoundingClientRect();u.current={x:e.clientX-t.left,y:e.clientY-t.top}}},[a]),f=(0,o.useRef)(e.onDrag);f.current=e.onDrag;let C=(0,o.useCallback)(e=>{var t;if(!l)return;let{x:n,y:a}=p(e.clientX-u.current.x,e.clientY-u.current.y);null===(t=f.current)||void 0===t||t.call(f),i({x:n,y:a})},[l,p]),v=(0,o.useCallback)(()=>{d(!1),c.current&&i(e=>p(e.x,e.y,!0))},[p]),x=(0,o.useCallback)(()=>{if(!c.current)return;let e=window.innerWidth,t=window.innerHeight;e<h.current.width||t<h.current.height?i(e=>p(e.x,e.y,!0)):i(e=>p(e.x,e.y,!1)),h.current={width:e,height:t}},[p]);return(0,o.useEffect)(()=>{let e=c.current;return e&&e.addEventListener("mousedown",m),window.addEventListener("mousemove",C),window.addEventListener("mouseup",v),window.addEventListener("resize",x),()=>{e&&e.removeEventListener("mousedown",m),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",v),window.removeEventListener("resize",x)}},[m,C,v,x]),(0,o.useEffect)(()=>{i(e=>p(e.x,e.y))},[]),{divRef:c,style:{position:"fixed",top:"".concat(s.y,"px"),left:"".concat(s.x,"px"),cursor:a?"default":l?"grabbing":"default"},isDragging:l,reset:g}}({disabled:g,initialPosition:f.getInitialPosition(),onDrag:()=>f.update(C.current)}),x=[{type:"button",label:"".concat(g?"解锁":"锁定","面板"),desc:"现在".concat(g?"不可拖拽":"可以拖拽"),onClick:()=>m(e=>!e)},...l];return p?(0,a.jsxs)("div",{ref:C,className:d,style:{borderRadius:8,fontSize:12,lineHeight:1.4,padding:8,color:"#fff",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.75)",width:300,...v},children:[(0,a.jsx)("button",{onClick:()=>i(),children:u?"Debug":"收起"}),!u&&(0,a.jsx)("button",{onClick:()=>s(!1),style:{marginLeft:"1em",color:"red"},children:"关闭"}),u?null:h,u?null:x.map((e,t)=>{if(!e.alwaysShow&&!c)return null;let n=0!==t;switch(e.type){case"text":return(0,a.jsxs)(o.Fragment,{children:[n?h:null,(0,a.jsx)("div",{children:e.label},t)]},t);case"button":return(0,a.jsxs)(o.Fragment,{children:[n?h:null,(0,a.jsx)("button",{onClick:e.onClick,style:{padding:"2px 8px",borderRadius:4},children:e.label}),(0,a.jsx)("div",{children:e.desc})]},t)}})]}):null},toggleDebugPanel:s}}({debugPanelEnabledStorageHandle:m,debugPanelFoldStorageHandle:d.create("__appKit_debugPanelFold",!1,null),debugPanelPositionStorageHandle:d.create("__appKit_debugPanelPosition","0.000#0.000",null)}),v=d.create("__appKit_".concat(t.id,"_banner"),{closedBannerId:null,cachedBannerOptions:null},null),x=(0,r.Ue)((e,n)=>{let a=t.theme.defaultPreference,r=null;t.theme.saveToLocalStorage&&(a=(r=d.create("__appKit_".concat(t.id,"_themePreference"),t.theme.defaultPreference,t.theme.localStorageVersion)).get());let o=null,s=t.locale.defaultPreference;t.locale.saveToLocalStorage&&(s=(o=d.create("__appKit_".concat(t.id,"_localePreference"),t.locale.defaultPreference,t.locale.localStorageVersion)).get());let l=null,u=!1;t.debug.saveToLocalStorage&&(u=(l=d.create("__appKit_".concat(t.id,"_debug"),!1,null)).get());let{defaultRegion:h,defaultIp:p}=function(){var e,t;if(!c.jU)return{defaultIp:"__IP__",defaultRegion:"__REGION__"};let n=null===(e=document.querySelector("meta[name=ip]"))||void 0===e?void 0:e.content,a=null===(t=document.querySelector("meta[name=region]"))||void 0===t?void 0:t.content;return{defaultIp:n&&"__IP__"!==n?n:null,defaultRegion:a&&"__REGION__"!==a?a:null}}();return{themePreference:a,localePreference:s,visible:!!c.jU&&!document.hidden,debug:u,region:h,ip:p,isIpLoading:null===h&&null===p,getFgByKey:e=>g[e].get(),useFgByKey:e=>g[e].useState(),setFgByKey:(e,t)=>g[e].set(t),setThemePreference:t=>{null==r||r.set(t),i.next({name:"themePreferenceChange",payload:t}),e(e=>({...e,themePreference:t}))},setLocalePreference:t=>{i.next({name:"localePreferenceChange",payload:[t,n().localePreference]}),null==o||o.set(t),e(e=>({...e,localePreference:t}))},setDebug:n=>{t.debug.saveToLocalStorage&&(null==l||l.set(n)),e(e=>({...e,debug:n}))}}}),{useLastSessionValue:y,setLastSessionValue:b,getLastSessionValue:_}=function(e,t,n){let a={};for(let e in n)a[e]=n[e].defaultValue;let r=e.create("__appKit_".concat(t,"_lastSessionValue"),a,null),o=r.get(),s={};for(let e in n)s[e]=void 0===o[e]?n[e].defaultValue:o[e];return r.set(s),{useLastSessionValue:function(){return r.useState()},getLastSessionValue:function(){return r.get()},setLastSessionValue:function(e){let t=e(r.get());r.set(t)}}}(d,t.id,t.lastSessionValue);return{eventbus$:i,userTokenStorageHandle:p,debugPanelEnabledStorageHandle:m,bannerStorageHandle:v,useApp:x,storageHandles:h,getLastSessionValue:_,useLastSessionValue:y,setLastSessionValue:b,DebugPanel:f,toggleDebugPanel:C,visibilityChange$:l}}({appConfig:e,withError:A,tracker:j});W.subscribe(e=>{e&&R("debugPanel")},{immediately:!0});let eC=f?()=>!1:()=>B(e=>e.isIpLoading);function ev(){return X(B)}function ex(){return J(B(e=>e.localePreference))}let eE=f&&_?"CN"===_?()=>!0:()=>!1:()=>{let e=B(e=>e.region);return!!(B(e=>e.isIpLoading)||null===e)||"CN"===e},ey=(d={onError:(e,t)=>{j.error({name:"__componentDidCatch",message:"ErrorBoundary onError",payload:A(e,{componentStack:t.componentStack||"[none]"}),options:{consoleOnlyArgs:[e,t]}})}},function(e){let t=e.onError,n=(0,o.useCallback)((e,n)=>{d.onError(e,n),null==t||t(e,n)},[t]);return(0,a.jsx)(I,{...e,onError:n})}),{PageVisit:eb,NextPageVisitRecorder:e_,NextPageVisitSetup:ew,ttiReporter:eS}=function(e){let{tracker:t,getTheme:n}=e,r={},s=new ee(t);return{ttiReporter:s,PageVisit:function(e){let{children:i}=e,l=c.jU?window.location.pathname:"",d=(0,o.useRef)(!1),u=(0,o.useRef)(-1),h=(0,o.useRef)(0);return(0,o.useMemo)(()=>{l in r||(r[l]=0),h.current=r[l]},[l]),(0,o.useEffect)(()=>{let e=s.getCurrentDuration(),a=h.current;u.current=e,t.info({name:"__pageVisit",message:"访问页面 [".concat(l,"] [").concat(a,"]：").concat(e,"ms"),payload:{pathname:l,metricVisitIndex:a,metricDuration:e,referrer:document.referrer||"none",appTheme:n()}}),d.current||s.report(l,a,u.current,!1),r[l]=a+1},[l]),(0,a.jsx)($.Provider,{value:(0,o.useMemo)(()=>({reportTti:e=>{s.report(l,h.current,u.current,e)},ttiIsTakenOverRef:d}),[l]),children:i})},NextPageVisitRecorder:function(){let e=c.jU?window.location.pathname:"",a=(0,o.useMemo)(()=>c.jU?(e in r||(r[e]=0),r[e]):0,[e]),i=(0,o.useRef)(-1);return(0,o.useEffect)(()=>{let o=s.getCurrentDuration();i.current=o,t.info({name:"__pageVisit",message:"访问页面 [".concat(e,"] [").concat(a,"]：").concat(o,"ms"),payload:{pathname:e,metricVisitIndex:a,metricDuration:o,referrer:document.referrer||"none",appTheme:n()}}),s.report(e,a,i.current,!1),r[e]=a+1},[]),null},NextPageVisitSetup:function(e){let{usePathname:t}=e,n=t();return(0,o.useMemo)(()=>{s.resetNavigationStartTime()},[n]),null}}}({tracker:j,getTheme:()=>B.getState().themePreference}),{notificationContextReceiverNode:eI,withNotification:eT}=function(){let e=[],t={current:null};return{withNotification:n=>{t.current?n(t.current):e.push(n)},notificationContextReceiverNode:(0,a.jsx)(V,{setNotification:n=>{t.current||(t.current=n,e.forEach(e=>e(n)))}})}}(),{toastContextReceiverNode:eM,withToast:ej}=function(){let e=[],t={current:null};return{withToast:n=>{t.current?n(t.current):e.push(n)},toastContextReceiverNode:(0,a.jsx)(G,{setToast:n=>{t.current||(t.current=n,e.forEach(e=>e(n)))}})}}(),ek=c.jU?K.parse(navigator.userAgent).platform.type:void 0,eA=!!c.jU&&("mobile"===ek||"tablet"===ek),eR=function(e){let{useLocale:t,http:n,withDefaultHttpContext:r,bannerApiUrl:s,bannerStorageHandle:i,logger:l,ErrorBoundary:d,mock:c,appId:u}=e;if("@deepseek/chat"!==u&&"@deepseek/blog"!==u&&"@deepseek/platform"!==u||!s)return()=>null;let h=function(e){let{condition:d,deployEnv:h,style:p,className:g,theme:m}=e,[f,C]=i.useState(),{data:v}=c?{data:{json:c,body:""}}:(0,eu.ZP)(s,()=>n.get(s,{context:r({withToken:!1,mayMissingApiCode:!0})}).then(e=>{let{json:t,body:n}=e;return{json:t,body:n}}),{onSuccess:e=>{let{json:t,body:n}=e;try{if(!eg(t)){l.error("banner 数据格式错误：".concat(n));return}let e=em(t,u);if(!e){l.info("没有match的banner option, 关闭banner"),C({...f,closedBannerId:t.id});return}C({...f,cachedBannerOptions:e}),e.id!==f.closedBannerId&&_(!0)}catch(e){l.error("解析 banner 数据失败：".concat(e,", ").concat(n))}}}),x=(0,o.useMemo)(()=>{try{let e=v?v.json:f.cachedBannerOptions;if(eg(e))return em(e,u);return l.error("banner 数据格式错误：".concat(JSON.stringify(e))),null}catch(e){return l.error("解析 banner 数据失败：".concat(e)),null}},[v,f.cachedBannerOptions]),E=(0,o.useMemo)(()=>x?x.items.find(e=>e.showCondition.includes(d)&&e.showDeployEnv.includes(h)):null,[d,h,x]),y=t(),[b,_]=(0,o.useState)(()=>!!x&&f.closedBannerId!==x.id);if(!x||!E||!E.show||!b)return null;let w=E.content[y];return E.type&&w&&x.id?(0,a.jsx)(eh,{type:E.type,closable:E.closable,style:p,className:g,theme:m,onClose:()=>{_(!1),C({...f,closedBannerId:x.id})},children:(0,a.jsx)(ep.C,{showMarkdownLink:!0,aProps:{style:{textDecoration:"underline"},theme:{boxShadowColorFocus:"currentColor",textColor:"inherit"}},children:w})}):null};return function(e){return(0,a.jsx)(d,{renderFallback:()=>null,children:(0,a.jsx)(h,{...e})})}}({useLocale:ex,bannerStorageHandle:eo,http:L,logger:k,withDefaultHttpContext:D,bannerApiUrl:e.banner.bannerApiUrl,ErrorBoundary:ey,mock:e.banner.mock,appId:e.id});!function(e){let{tracker:t,withError:n}=e;c.jU&&(window.addEventListener("error",e=>{t.error({name:"__globalError",message:"window.onerror",payload:n(e.error,{event:"error",message:e.message,filename:e.filename,lineno:"".concat(e.lineno),colno:"".concat(e.colno)}),options:{consoleOnlyArgs:[e]}})}),window.addEventListener("unhandledrejection",e=>{t.error({name:"__globalError",message:"window.onunhandledrejection",payload:n(e.reason,{event:"unhandledrejection"}),options:{consoleOnlyArgs:[e]}})}))}({tracker:j,withError:A}),c.jU&&c.mL&&document.body.classList.add("apple"),function(e){let{useApp:t,eventbus$:n}=e;if(!c.jU)return;let a=X(t);document.body.classList.add(a),en(a),n.subscribe({next:e=>{let{name:t,payload:n}=e;if("localePreferenceChange"===t){let e=J(n[0]);document.body.classList.remove(J(n[1])),document.body.classList.add(e),en(e)}}})}({useApp:B,eventbus$:et});let{getOsTheme:eN}=function(e){let{useApp:t,eventbus$:n}=e;if(!c.jU)return{getOsTheme:()=>"light"};let a=document.createElement("style");a.textContent="\nbody.change-theme * {\n  transition: none !important;\n}\n\nbody.change-theme *::before {\n  transition: none !important;\n}\n\nbody.change-theme *::after {\n  transition: none !important;\n}\n",document.head.appendChild(a);let r=null;function o(){return c.jU?(r||(r=function(e){let t=window.matchMedia("(prefers-color-scheme: dark)"),n=window.matchMedia("(prefers-color-scheme: light)");return(t.addEventListener?(t.addEventListener("change",t=>l(t,e)),n.addEventListener("change",t=>d(t,e))):t.addListener&&(t.addListener(t=>l(t,e)),n.addListener(t=>d(t,e))),t.matches)?"dark":"light"}(n)),r):"light"}function s(e,n){document.body.classList.add("change-theme"),n&&t.setState(e=>({...e})),"light"===e?(document.body.classList.remove("dark"),document.body.classList.add("light"),document.body.removeAttribute("data-ds-dark-theme")):(document.body.classList.remove("light"),document.body.classList.add("dark"),document.body.dataset.dsDarkTheme="dark"),setTimeout(()=>{document.body.classList.remove("change-theme")},0)}let i=t.getState().themePreference;return s("system"===i?o():i,!1),n.subscribe({next:e=>{let{name:n,payload:a}=e;"systemThemeChange"===n?"system"===t.getState().themePreference&&s(a,!0):"themePreferenceChange"===n&&("system"!==a?s(a,!1):s(o(),!1))}}),{getOsTheme:o};function l(e,t){e.matches&&(r="dark",t.next({name:"systemThemeChange",payload:"dark"}))}function d(e,t){e.matches&&(r="light",t.next({name:"systemThemeChange",payload:"light"}))}}({useApp:B,eventbus$:et});return!function(e){let{useApp:t,tracker:n,eventbus$:a,visibilityChange$:r}=e;c.jU&&(document.addEventListener("visibilitychange",()=>{a.next({name:"visibilityChange",payload:!document.hidden}),r.next(!document.hidden),n.info({name:"__pageVisibilityChange",message:document.hidden?"页面隐藏":"页面显示",payload:{visible:"".concat(!document.hidden)}})}),a.subscribe({next:e=>{let{name:n,payload:a}=e;"visibilityChange"===n&&t.setState(e=>({...e,visible:a}))}}))}({useApp:B,tracker:j,eventbus$:et,visibilityChange$:ef}),!function(e){let{useApp:t,tracker:n,ipApiUrl:a,http:r,syncIpFromHtml:o,withError:s,withDefaultHttpContext:i}=e;if(!c.jU)return;let{ip:l,region:d}=t.getState();o&&(l&&d?n.info({name:"__getIpFromHtmlOk",message:"获取离线地区信息成功",payload:{ip:l,region:d}}):n.error({name:"__getIpFromHtmlFailed",message:"获取离线地区信息失败",payload:{ip:l||h.WN,region:d||h.WN}})),a&&(function(){if(!a)throw Error("[app-kit]: ipApiUrl 未配置");return r.get(a,{context:i({withToken:!1})}).then(e=>{let{json:t}=e,n=t.data;return"biz_data"in n?n.biz_data:n})})().then(e=>{let{code:a,ip:r}=e;o&&n.info({name:"__compareRegion",message:"对比地区信息",payload:{ipSame:"".concat(l===r),htmlIp:null!=l?l:h.WN,apiIp:r,regionSame:"".concat(ea(d,a)),htmlRegion:null!=d?d:h.WN,apiRegion:a}}),t.setState(e=>({...e,ip:r,code:a,region:a,isIpLoading:!1})),n.info({name:"__getIpFromApiOk",message:"通过 API 获取地区信息，IP：".concat(r,"，Region：").concat(a),payload:{ip:r,region:a}})}).catch(e=>{t.setState(e=>({...e,isIpLoading:!1})),n.error({name:"__getIpFromApiFailed",message:"通过 API 获取 IP 信息失败",payload:s(e,{})})})}({tracker:j,syncIpFromHtml:e.ip.syncIpFromHtml,ipApiUrl:e.ip.ipApiUrl,http:L,withDefaultHttpContext:D,withError:A,useApp:B}),{useApp:B,visibilityChange$:ef,DebugPanel:Z,toggleDebugPanel:q,logger:k,tracker:j,isMobile:eA,getLastSessionValue:es,useLastSessionValue:el,setLastSessionValue:ed,Banner:eR,useIsDebug:()=>B(e=>e.debug),getIsDebug:()=>B.getState().debug,setIsDebug(e){B.getState().setDebug(e)},setFgByKey:function(e,t){B.getState().setFgByKey(e,t)},resolvePathRelativeToPublicPath:t=>(function(e,t){if(!e)return t;let n=e.trim();return(n.endsWith("/")&&(n=n.slice(0,-1)),n=n.startsWith("/")?n:"/".concat(n),t.startsWith(n))?t.slice(n.length,t.length)||"/":t})(e.publicPath,t),useTheme:()=>{let e=B(e=>e.themePreference),[t,n]=(0,o.useState)(eN());return((0,o.useLayoutEffect)(()=>{if("system"===e){n(eN());let e=et.subscribe({next:e=>{let{name:t,payload:a}=e;"systemThemeChange"===t&&n(a)}});return()=>e.unsubscribe()}},[e]),"system"===e)?t:e},useLocale:ex,getLocale:ev,getIp:x,useIp:b,getRegion:T,PageVisit:eb,NextPageVisitRecorder:e_,NextPageVisitSetup:ew,startApp:function(t){let{container:n,node:r,router:o,onBeforeRender:i,onAfterRender:l,onVisibilityChange:d}=t,u=document.querySelector(n);if(o.subscribe(()=>{eS.resetNavigationStartTime()}),u){if(d&&et.subscribe({next:e=>{let{name:t,payload:n}=e;"visibilityChange"===t&&d(n)}}),i(),(0,s.createRoot)(u).render(r),l(),e.checkUpdate.enabled){let t=!0;if("function"!=typeof e.checkUpdate.enabled||e.checkUpdate.enabled({storageHandles:z})||(t=!1),t||e.checkUpdate.debugForceShow){let t=e.checkUpdate.versionApiUrl;!function(e){let{debugForceShow:t,tracker:n,currentAppVersion:r,useLocale:o,getAppVersion:s,withNotification:i,withError:l}=e;if(!c.jU)return;let d=e=>i(t=>{let n=ei("updateVersionNotificationTitle",o),r=ei("updateVersionNotificationContent",o),s=ei("updateVersionNotificationRefreshButton",o);t.warning({title:(0,a.jsx)(n,{}),content:(0,a.jsx)(r,{version:e}),footer:(0,a.jsx)(er.z,{variant:"text",type:"primary",size:"l",onClick:()=>window.location.reload(),children:(0,a.jsx)(s,{})})})});if(t){d("[debug force show version]");return}let u=[];function h(){s().then(e=>{/^\d+\.\d+/.test(e)?!(e===r||u.includes(e))&&(u.push(e),n.info({name:"__newVersionFound",message:"有更新的版本，发送升级提示",payload:{currentVersion:r,newVersion:e}}),d(e)):n.error({name:"__checkUpdateFailed",message:"最新版本格式不合法 ".concat(e),payload:{reason:"invalidVersion"}})}).catch(e=>{n.error({name:"__checkUpdateFailed",message:"最新版本检查失败",payload:l(e,{reason:"api"})})})}document.addEventListener("visibilitychange",()=>{document.hidden||h()}),setTimeout(()=>{h()},5e3),setInterval(h,36e5)}({debugForceShow:e.checkUpdate.debugForceShow,withError:A,withNotification:eT,tracker:j,useLocale:ex,getAppVersion:()=>L.get(t,{context:D({mayMissingApiCode:!0})}).then(e=>{let{body:t}=e;return t}),currentAppVersion:e.staticEnv.appVersion})}}}else throw Error("找不到容器 ".concat(n))},useIsMainlandChina:eE,useIsIpLoading:eC,withError:A,useRegion:M,getUserTokenWithSource:m,getStorageUserToken:()=>U.get(),setStorageUserToken:e=>U.set(e),ErrorBoundary:ey,useFgByKey:function(e){return B.getState().useFgByKey(e)},getFgByKey:function(e){return B.getState().getFgByKey(e)},storageHandles:z,withNotification:eT,withToast:ej,WithToastAndNotification:function(e){let{children:t,toastProviderProps:n,notificationProviderProps:r}=e;return(0,a.jsx)(Y,{...n,onToast:(e,t)=>{var a;null==n||null===(a=n.onToast)||void 0===a||a.call(n,e,t),"string"==typeof e?j[t]({name:"__toast",message:"Toast 弹出",payload:{content:e}}):j[t]({name:"__toast",message:"Toast 弹出",payload:{content:e.description}})},children:(0,a.jsxs)(H,{...r,onNotification:(e,t,n)=>{var a;null==r||null===(a=r.onNotification)||void 0===a||a.call(r,e,t,n),j[n]({name:"__notification",message:"通知弹出",payload:{title:e,content:t}})},children:[eI,eM,t]})})},http:{http:L,monitor:N,httpClientErrorType:F,HTTP_CLIENT_ERROR:O,isHttpClientError:P,withDefaultHttpContext:D},httpWithCoreType:{http:L,httpClientErrorType:F,HTTP_CLIENT_ERROR:O,isHttpClientError:P,withDefaultHttpContext:D},isNetworkError:e=>P(e)&&e.type===O.NETWORK,openLink:e=>{let{href:t}=e;j.info({name:"__openLink",message:"打开链接 ".concat(t),payload:{href:t}}),function(e){let{href:t}=e,n=document.createElement("a");document.body.appendChild(n),n.href=t,n.target="_blank",n.rel="noopener noreferrer",n.click(),document.body.removeChild(n)}({href:t})}}}({id:"@deepseek/chat",fg:{defaultValue:{enableDataFinderDebug:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableCustomCharacterFnModule:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableHcaptcha:{value:!1,storageVersion:null,saveToLocalStorage:!0}}},debug:{saveToLocalStorage:!0},locale:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},theme:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},ip:{syncIpFromHtml:!0,ipApiUrl:null},staticEnv:ev,user:{getMemoryToken:()=>{let e=ey.L.getState().user;return e?{token:e.token}:{token:null}},getStatus:()=>({status:h.IY.OK}),onIpAccessRestricted(){},onIsBanned(){eE.A.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!0}})},onTokenInvalid(){eE.A.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!1}})}},chat:{onMuted(e){let{muteUntil:t}=e;eC.aK.getState().setMuted({isMuted:!0,muteUntil:t})}},checkUpdate:{enabled:e=>{let{storageHandles:{debugVersionUpdateDisabledStorageHandle:t}}=e;return!t.get()},debugForceShow:!1,versionApiUrl:"/version.txt"},createStorageHandles(e){let{storageHandleManager:t}=e,n=t.create("__debugVersionUpdateDisabled",!1,"20241018.1"),a=t.create("__debugMockEnabled",!1,null),r=t.create("completionApiSlideWindow",[],null),o=t.create("targetBeforeOauthLogin","chat",null),s=t.create("__debugTokensPerSecond",0,null),i=t.create("exportedHistoryClosed",!1,null),l=t.create("thinkingEnabled",!1,"2");return{slideWindowStorageHandle:r,debugVersionUpdateDisabledStorageHandle:n,mockStorageHandle:a,targetBeforeOauthLoginStorageHandle:o,debugTokensPerSecondStorageHandle:s,exportedHistoryClosedStorageHandle:i,thinkingEnabledStorageHandle:l,searchEnabledStorageHandle:t.create("searchEnabled",!1,null),closeUnsafeEnvWarnStorageHandle:t.create("closeUnsafeEnvWarn",!1,null)}},http:{baseUrl:void 0,cloudflareEnabled:!0,onBeforeRequestInit:async e=>{await ew(e),e.headers={...e.headers,...(0,h.Ag)({platform:ev.clientPlatform,version:"1.2.0-sse-hint",locale:eI.getLocale()})}}},banner:{bannerApiUrl:"/downloads/status.json"},lastSessionValue:{userIsMuted:{defaultValue:!1},userMuteUntil:{defaultValue:0},loginMethod:{defaultValue:"code"},siderCollapsed:{defaultValue:!1}},publicPath:void 0,customEventsApi:async e=>{let{event:t}=e;e_.N.reportEvent(t)}}),eI=(e=>{let t={},n={useLocale:e.useLocale,getLocale:e.getLocale,useTranslate:()=>{let t=e.useLocale();return(0,o.useMemo)(()=>{let e=e=>eb[t][e];return Object.assign(e,eb[t]),e},[t])},useTranslateWithLocale:()=>(0,o.useCallback)((e,t)=>eb[t][e],[]),ensureTranslateComponent:e=>t[e]?t[e]:t[e]=function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];let o=n.useTranslate()(e);return"function"==typeof o?o(...a):o},getTranslate:()=>t=>eb[e.getLocale()][t]};return n})(eS)},63439:function(e,t,n){n.d(t,{IY:()=>C,rq:()=>v,ze:()=>m}),n(82538);var a=n(27753),r=n(86239),o=n(27428),s=n(7291),i=n(77642),l=n(80269),d=n(48207),c=n(71780),u=n(49166),h=n(76763);let p=()=>(0,a.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.09749 3.0978C3.42344 2.77184 3.95192 2.77184 4.27787 3.0978L9.05304 7.87297L13.8282 3.0978C14.1542 2.77185 14.6826 2.77185 15.0086 3.0978C15.3345 3.42376 15.3345 3.95223 15.0086 4.27818L10.2334 9.05334L15.0086 13.8285C15.3345 14.1544 15.3345 14.6829 15.0086 15.0089C14.6826 15.3348 14.1541 15.3348 13.8282 15.0089L9.05304 10.2337L4.27789 15.0089C3.95193 15.3348 3.42346 15.3348 3.09751 15.0089C2.77156 14.6829 2.77156 14.1544 3.09751 13.8285L7.87266 9.05334L3.09749 4.27817C2.77154 3.95222 2.77154 3.42375 3.09749 3.0978Z"})}),g=(0,r.createContext)({leftSlot:null,rightSlot:null}),m=()=>(0,r.useContext)(g),f=(0,r.createContext)({entered:!1}),C=()=>(0,r.useContext)(f),v=e=>{let{onClose:t,className:n,children:m,title:C}=e,v=h.a.useTranslate(),x=(0,r.useRef)(null),[E,y]=(0,r.useState)(!0),[b,_]=(0,r.useState)(!0),[w,S]=(0,r.useState)(!1),I=(0,r.useMemo)(()=>({entered:w}),[w]),[T,M]=(0,r.useState)(null),[j,k]=(0,r.useState)(null),A=(0,r.useMemo)(()=>({leftSlot:T,rightSlot:j}),[T,j]);return b?(0,a.jsxs)(a.Fragment,{children:[E&&(0,o.createPortal)((0,a.jsx)("div",{className:s.contentSidebarMask,"aria-hidden":!E}),document.body),(0,a.jsx)(u.Z,{in:E,timeout:{enter:200,exit:200},classNames:{appearActive:s.appearActive,appearDone:s.appearDone,exit:s.exit,exitActive:s.exitActive},appear:!0,nodeRef:x,onEntered:()=>S(!0),onExited:()=>{_(!1),t()},children:(0,a.jsx)("div",{ref:x,className:(0,i.Z)(s.contentSidebar,n),"aria-hidden":!E,children:(0,a.jsxs)("div",{className:s.contentContainer,style:{width:"var(--sidebar-width)",maxWidth:"inherit"},children:[(0,a.jsxs)("div",{className:s.contentSidebarTitle,children:[(0,a.jsx)("div",{ref:M,className:s.leftSlot}),"string"==typeof C?(0,a.jsx)("div",{role:"heading",children:C}):C,(0,a.jsx)("div",{ref:k,className:s.rightSlot}),(0,a.jsx)(l.u,{renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,a.jsx)(d.h,{domProps:t,domRef:n,onClick:()=>y(!1),className:s.contentSidebarClose,children:(0,a.jsx)(c.J,{size:18,children:(0,a.jsx)(p,{})})})},children:v.sidebarClose})]}),(0,a.jsx)("div",{className:s.contentSidebarInner,children:(0,a.jsx)(g.Provider,{value:A,children:(0,a.jsx)(f.Provider,{value:I,children:m})})})]})})})]}):null}},38842:function(e,t,n){n.d(t,{A6:()=>C,C2:()=>u,Ll:()=>c,Qf:()=>s,T0:()=>p,Zv:()=>m,_8:()=>f,dY:()=>l,eE:()=>h,hm:()=>d,mt:()=>g,ug:()=>i,vi:()=>o});var a=n(27753),r=n(86239);function o(){return(0,a.jsxs)("svg",{viewBox:"-2 0 175 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"path",d:"M75.32 25.23L72.83 25.23L72.83 21.37L75.32 21.37C76.86 21.37 78.42 20.99 79.43 19.92C80.44 18.85 80.81 17.2 80.81 15.57C80.81 13.94 80.44 12.3 79.43 11.23C78.42 10.16 76.86 9.78 75.32 9.78C73.77 9.78 72.22 10.16 71.21 11.23C70.19 12.3 69.83 13.94 69.83 15.57L69.83 31.44L65.46 31.44L65.46 5.92L69.83 5.92L69.83 7.54L70.63 7.54C70.71 7.45 70.8 7.36 70.9 7.27C71.99 6.27 73.66 5.92 75.32 5.92C77.89 5.92 80.48 6.56 82.17 8.34C83.85 10.12 84.46 12.86 84.46 15.58C84.46 18.29 83.85 21.03 82.17 22.81C80.48 24.6 77.89 25.23 75.32 25.23Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M8.79 6.59L11.28 6.59L11.28 10.45L8.79 10.45C7.25 10.45 5.69 10.83 4.68 11.91C3.67 12.98 3.3 14.62 3.3 16.25C3.3 17.88 3.67 19.52 4.68 20.59C5.69 21.66 7.25 22.05 8.79 22.05C10.34 22.05 11.89 21.66 12.9 20.59C13.92 19.52 14.28 17.88 14.28 16.25L14.28 0.39L18.65 0.39L18.65 25.91L14.28 25.91L14.28 24.28L13.48 24.28C13.4 24.38 13.31 24.47 13.21 24.55C12.12 25.55 10.45 25.91 8.79 25.91C6.22 25.91 3.63 25.27 1.94 23.48C0.26 21.7 -0.35 18.97 -0.35 16.25C-0.35 13.53 0.26 10.8 1.94 9.01C3.63 7.23 6.22 6.59 8.79 6.59Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M40.59 15.91L40.59 17.46L28.95 17.46L28.95 14.36L36.67 14.36C36.49 13.23 36.08 12.18 35.36 11.42C34.3 10.31 32.69 9.91 31.08 9.91C29.48 9.91 27.86 10.31 26.81 11.42C25.76 12.52 25.38 14.22 25.38 15.91C25.38 17.6 25.76 19.3 26.81 20.41C27.86 21.52 29.48 21.91 31.08 21.91C32.69 21.91 34.3 21.52 35.36 20.41C35.5 20.25 35.64 20.08 35.76 19.9L40.08 19.9C39.71 21.24 39.1 22.45 38.2 23.4C36.44 25.25 33.75 25.91 31.08 25.91C28.41 25.91 25.72 25.25 23.97 23.4C22.21 21.55 21.58 18.72 21.58 15.91C21.58 13.1 22.21 10.27 23.97 8.42C25.72 6.58 28.41 5.92 31.08 5.92C33.75 5.92 36.44 6.58 38.2 8.42C39.96 10.27 40.59 13.1 40.59 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M62.52 15.91L62.52 17.46L50.88 17.46L50.88 14.36L58.61 14.36C58.43 13.23 58.02 12.18 57.29 11.42C56.24 10.31 54.63 9.91 53.02 9.91C51.42 9.91 49.8 10.31 48.75 11.42C47.7 12.52 47.32 14.22 47.32 15.91C47.32 17.6 47.7 19.3 48.75 20.41C49.8 21.52 51.42 21.91 53.02 21.91C54.63 21.91 56.24 21.52 57.29 20.41C57.44 20.25 57.58 20.08 57.7 19.9L62.02 19.9C61.64 21.24 61.04 22.45 60.14 23.4C58.38 25.25 55.69 25.91 53.02 25.91C50.35 25.91 47.66 25.25 45.9 23.4C44.15 21.55 43.52 18.72 43.52 15.91C43.52 13.1 44.15 10.27 45.9 8.42C47.66 6.58 50.35 5.92 53.02 5.92C55.69 5.92 58.38 6.58 60.14 8.42C61.89 10.27 62.52 13.1 62.52 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M96.9 25.91C99.57 25.91 102.26 25.52 104.01 24.43C105.77 23.34 106.4 21.67 106.4 20.01C106.4 18.35 105.77 16.68 104.01 15.59C102.26 14.5 99.57 14.11 96.9 14.11L96.99 14.11C95.85 14.11 94.7 13.96 93.96 13.53C93.21 13.11 92.94 12.46 92.94 11.82C92.94 11.17 93.21 10.53 93.96 10.1C94.7 9.68 95.85 9.53 96.99 9.53C98.13 9.53 99.28 9.68 100.03 10.1C100.78 10.53 101.04 11.17 101.04 11.82L105.49 11.82C105.49 10.16 104.92 8.49 103.34 7.4C101.75 6.31 99.32 5.92 96.9 5.92C94.48 5.92 92.05 6.31 90.46 7.4C88.87 8.49 88.3 10.16 88.3 11.82C88.3 13.48 88.87 15.15 90.46 16.24C92.05 17.33 94.48 17.72 96.9 17.72C98.16 17.72 99.53 17.87 100.36 18.29C101.19 18.71 101.48 19.36 101.48 20.01C101.48 20.65 101.19 21.3 100.36 21.72C99.53 22.14 98.26 22.3 97 22.3C95.74 22.3 94.47 22.14 93.65 21.72C92.82 21.3 92.52 20.65 92.52 20.01L87.4 20.01C87.4 21.67 88.03 23.34 89.78 24.43C91.54 25.52 94.22 25.91 96.9 25.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M128.33 15.91L128.33 17.46L116.69 17.46L116.69 14.36L124.42 14.36C124.24 13.23 123.83 12.18 123.1 11.42C122.05 10.31 120.44 9.91 118.83 9.91C117.23 9.91 115.61 10.31 114.56 11.42C113.51 12.52 113.13 14.22 113.13 15.91C113.13 17.6 113.51 19.3 114.56 20.41C115.61 21.52 117.23 21.91 118.83 21.91C120.44 21.91 122.05 21.52 123.1 20.41C123.25 20.25 123.39 20.08 123.51 19.9L127.83 19.9C127.45 21.24 126.85 22.45 125.95 23.4C124.19 25.25 121.5 25.91 118.83 25.91C116.16 25.91 113.47 25.25 111.71 23.4C109.96 21.55 109.33 18.72 109.33 15.91C109.33 13.1 109.96 10.27 111.71 8.42C113.47 6.58 116.16 5.92 118.83 5.92C121.5 5.92 124.19 6.58 125.95 8.42C127.7 10.27 128.33 13.1 128.33 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M150.27 15.91L150.27 17.46L138.63 17.46L138.63 14.36L146.36 14.36C146.17 13.23 145.77 12.18 145.04 11.42C143.99 10.31 142.37 9.91 140.77 9.91C139.17 9.91 137.55 10.31 136.5 11.42C135.44 12.52 135.07 14.22 135.07 15.91C135.07 17.6 135.44 19.3 136.5 20.41C137.55 21.52 139.17 21.91 140.77 21.91C142.37 21.91 143.99 21.52 145.04 20.41C145.19 20.25 145.32 20.08 145.45 19.9L149.77 19.9C149.39 21.24 148.79 22.45 147.88 23.4C146.13 25.25 143.44 25.91 140.77 25.91C138.1 25.91 135.4 25.25 133.65 23.4C131.9 21.55 131.27 18.72 131.27 15.91C131.27 13.1 131.9 10.27 133.65 8.42C135.4 6.58 138.1 5.92 140.77 5.92C143.44 5.92 146.13 6.58 147.88 8.42C149.64 10.27 150.27 13.1 150.27 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("rect",{id:"rect",x:"153.211426",y:"-0.499512",width:"4.371000",height:"26.415646",fill:"currentColor",fillOpacity:"1.000000"}),(0,a.jsx)("path",{id:"polygon",d:"M165.04 15.31L172.21 25.91L166.79 25.91L159.62 15.31L166.79 6.81L172.21 6.81L165.04 15.31Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})}function s(){return(0,a.jsxs)("svg",{viewBox:"0 0 241 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsx)("path",{id:"path",d:"M57.25 3.64C56.64 3.33 56.37 3.91 56.01 4.21C55.89 4.3 55.79 4.43 55.68 4.54C54.79 5.52 53.74 6.16 52.37 6.08C50.38 5.97 48.67 6.61 47.16 8.16C46.84 6.24 45.77 5.1 44.15 4.36C43.3 3.98 42.45 3.6 41.85 2.77C41.44 2.17 41.32 1.51 41.12 0.86C40.98 0.47 40.85 0.07 40.41 0C39.93 -0.07 39.74 0.34 39.55 0.68C38.8 2.09 38.5 3.64 38.53 5.2C38.6 8.73 40.06 11.54 42.96 13.54C43.29 13.76 43.38 13.99 43.27 14.33C43.08 15.02 42.84 15.68 42.63 16.37C42.5 16.81 42.3 16.91 41.84 16.72C40.25 16.04 38.87 15.04 37.65 13.82C35.59 11.79 33.72 9.54 31.39 7.78C30.85 7.37 30.3 6.99 29.73 6.63C27.36 4.28 30.05 2.35 30.67 2.12C31.32 1.88 30.89 1.06 28.79 1.06C26.69 1.07 24.77 1.79 22.31 2.75C21.96 2.89 21.58 3 21.19 3.08C18.97 2.65 16.66 2.56 14.24 2.83C9.7 3.35 6.07 5.54 3.4 9.27C0.19 13.76 -0.56 18.87 0.36 24.19C1.33 29.8 4.14 34.44 8.46 38.07C12.94 41.84 18.1 43.68 23.98 43.33C27.56 43.12 31.54 42.63 36.02 38.76C37.16 39.33 38.34 39.56 40.31 39.74C41.83 39.88 43.29 39.66 44.43 39.42C46.2 39.04 46.08 37.37 45.43 37.06C40.24 34.6 41.38 35.6 40.34 34.79C42.98 31.6 46.96 28.3 48.52 17.59C48.64 16.74 48.54 16.2 48.52 15.51C48.51 15.09 48.6 14.93 49.07 14.88C50.38 14.73 51.64 14.37 52.8 13.72C56.16 11.84 57.52 8.77 57.84 5.08C57.89 4.51 57.83 3.93 57.25 3.64ZM27.91 36.83C22.88 32.8 20.44 31.47 19.43 31.53C18.49 31.59 18.65 32.68 18.86 33.4C19.08 34.11 19.36 34.6 19.76 35.22C20.03 35.63 20.22 36.24 19.48 36.7C17.86 37.72 15.04 36.35 14.91 36.29C11.63 34.32 8.89 31.72 6.95 28.16C5.09 24.74 4 21.07 3.82 17.16C3.78 16.21 4.05 15.88 4.97 15.7C6.19 15.48 7.44 15.43 8.66 15.61C13.8 16.37 18.17 18.71 21.84 22.42C23.94 24.53 25.52 27.06 27.15 29.52C28.89 32.14 30.75 34.63 33.13 36.68C33.97 37.4 34.64 37.94 35.28 38.34C33.35 38.56 30.12 38.61 27.91 36.83ZM30.33 21.02C30.33 20.6 30.66 20.26 31.07 20.26C31.17 20.26 31.25 20.28 31.33 20.31C31.43 20.35 31.53 20.41 31.6 20.49C31.73 20.63 31.81 20.82 31.81 21.02C31.81 21.44 31.48 21.77 31.06 21.77C30.65 21.77 30.33 21.44 30.33 21.02ZM37.82 24.93C37.34 25.14 36.86 25.31 36.4 25.33C35.68 25.36 34.9 25.07 34.48 24.71C33.82 24.14 33.35 23.83 33.15 22.84C33.06 22.42 33.11 21.77 33.19 21.4C33.36 20.6 33.17 20.08 32.61 19.61C32.16 19.23 31.58 19.12 30.95 19.12C30.72 19.12 30.5 19.02 30.34 18.93C30.07 18.8 29.86 18.47 30.06 18.05C30.13 17.92 30.45 17.6 30.53 17.54C31.38 17.04 32.37 17.2 33.29 17.58C34.14 17.93 34.78 18.58 35.7 19.5C36.65 20.61 36.82 20.91 37.35 21.74C37.78 22.39 38.16 23.06 38.43 23.83C38.59 24.3 38.38 24.7 37.82 24.93Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M143.32 34.23L140.83 34.23L140.83 30.37L143.32 30.37C144.86 30.37 146.42 29.99 147.43 28.92C148.44 27.85 148.81 26.21 148.81 24.57C148.81 22.94 148.44 21.3 147.43 20.23C146.42 19.16 144.86 18.78 143.32 18.78C141.77 18.78 140.22 19.16 139.21 20.23C138.19 21.3 137.83 22.94 137.83 24.57L137.83 40.44L133.46 40.44L133.46 14.92L137.83 14.92L137.83 16.54L138.63 16.54C138.71 16.45 138.8 16.36 138.9 16.27C139.99 15.27 141.66 14.92 143.32 14.92C145.89 14.92 148.48 15.56 150.17 17.34C151.85 19.12 152.46 21.86 152.46 24.58C152.46 27.29 151.85 30.03 150.17 31.81C148.48 33.6 145.89 34.23 143.32 34.23Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M76.79 15.59L79.28 15.59L79.28 19.45L76.79 19.45C75.25 19.45 73.69 19.83 72.68 20.91C71.67 21.98 71.3 23.62 71.3 25.25C71.3 26.88 71.67 28.52 72.68 29.59C73.69 30.66 75.25 31.05 76.79 31.05C78.34 31.05 79.89 30.66 80.9 29.59C81.92 28.52 82.28 26.88 82.28 25.25L82.28 9.39L86.65 9.39L86.65 34.91L82.28 34.91L82.28 33.28L81.48 33.28C81.4 33.38 81.31 33.47 81.21 33.55C80.12 34.55 78.45 34.91 76.79 34.91C74.22 34.91 71.63 34.27 69.94 32.48C68.26 30.7 67.65 27.97 67.65 25.25C67.65 22.53 68.26 19.8 69.94 18.01C71.63 16.23 74.22 15.59 76.79 15.59Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M108.59 24.91L108.59 26.46L96.95 26.46L96.95 23.36L104.67 23.36C104.49 22.23 104.08 21.18 103.36 20.42C102.3 19.31 100.69 18.91 99.08 18.91C97.48 18.91 95.86 19.31 94.81 20.42C93.76 21.52 93.38 23.22 93.38 24.91C93.38 26.6 93.76 28.3 94.81 29.41C95.86 30.52 97.48 30.91 99.08 30.91C100.69 30.91 102.3 30.52 103.36 29.41C103.51 29.25 103.64 29.08 103.76 28.9L108.08 28.9C107.71 30.24 107.1 31.45 106.2 32.4C104.45 34.25 101.75 34.91 99.08 34.91C96.41 34.91 93.72 34.25 91.97 32.4C90.21 30.55 89.58 27.72 89.58 24.91C89.58 22.1 90.21 19.27 91.97 17.42C93.72 15.58 96.41 14.92 99.08 14.92C101.75 14.92 104.45 15.58 106.2 17.42C107.96 19.27 108.59 22.1 108.59 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M130.52 24.91L130.52 26.46L118.88 26.46L118.88 23.36L126.61 23.36C126.43 22.23 126.02 21.18 125.29 20.42C124.24 19.31 122.63 18.91 121.02 18.91C119.42 18.91 117.8 19.31 116.75 20.42C115.7 21.52 115.32 23.22 115.32 24.91C115.32 26.6 115.7 28.3 116.75 29.41C117.8 30.52 119.42 30.91 121.02 30.91C122.63 30.91 124.24 30.52 125.29 29.41C125.44 29.25 125.58 29.08 125.7 28.9L130.02 28.9C129.64 30.24 129.04 31.45 128.14 32.4C126.38 34.25 123.69 34.91 121.02 34.91C118.35 34.91 115.66 34.25 113.9 32.4C112.15 30.55 111.52 27.72 111.52 24.91C111.52 22.1 112.15 19.27 113.9 17.42C115.66 15.58 118.35 14.92 121.02 14.92C123.69 14.92 126.38 15.58 128.14 17.42C129.89 19.27 130.52 22.1 130.52 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M164.9 34.91C167.57 34.91 170.26 34.52 172.01 33.43C173.77 32.34 174.4 30.67 174.4 29.01C174.4 27.35 173.77 25.68 172.01 24.59C170.26 23.5 167.57 23.11 164.9 23.11L164.99 23.11C163.85 23.11 162.7 22.96 161.96 22.53C161.21 22.11 160.94 21.46 160.94 20.82C160.94 20.17 161.21 19.53 161.96 19.1C162.7 18.68 163.85 18.53 164.99 18.53C166.13 18.53 167.28 18.68 168.03 19.1C168.78 19.53 169.04 20.17 169.04 20.82L173.49 20.82C173.49 19.16 172.92 17.49 171.34 16.4C169.75 15.31 167.32 14.92 164.9 14.92C162.48 14.92 160.05 15.31 158.46 16.4C156.87 17.49 156.3 19.16 156.3 20.82C156.3 22.48 156.87 24.15 158.46 25.24C160.05 26.33 162.48 26.72 164.9 26.72C166.16 26.72 167.53 26.87 168.36 27.29C169.19 27.71 169.48 28.36 169.48 29.01C169.48 29.65 169.19 30.3 168.36 30.72C167.53 31.14 166.26 31.3 165 31.3C163.74 31.3 162.47 31.14 161.65 30.72C160.82 30.3 160.52 29.65 160.52 29.01L155.4 29.01C155.4 30.67 156.03 32.34 157.78 33.43C159.53 34.52 162.22 34.91 164.9 34.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M196.33 24.91L196.33 26.46L184.69 26.46L184.69 23.36L192.42 23.36C192.24 22.23 191.83 21.18 191.1 20.42C190.05 19.31 188.44 18.91 186.83 18.91C185.23 18.91 183.61 19.31 182.56 20.42C181.51 21.52 181.13 23.22 181.13 24.91C181.13 26.6 181.51 28.3 182.56 29.41C183.61 30.52 185.23 30.91 186.83 30.91C188.44 30.91 190.05 30.52 191.1 29.41C191.25 29.25 191.39 29.08 191.51 28.9L195.83 28.9C195.45 30.24 194.85 31.45 193.95 32.4C192.19 34.25 189.5 34.91 186.83 34.91C184.16 34.91 181.47 34.25 179.71 32.4C177.96 30.55 177.33 27.72 177.33 24.91C177.33 22.1 177.96 19.27 179.71 17.42C181.47 15.58 184.16 14.92 186.83 14.92C189.5 14.92 192.19 15.58 193.95 17.42C195.7 19.27 196.33 22.1 196.33 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"path",d:"M218.27 24.91L218.27 26.46L206.63 26.46L206.63 23.36L214.36 23.36C214.17 22.23 213.77 21.18 213.04 20.42C211.99 19.31 210.37 18.91 208.77 18.91C207.17 18.91 205.55 19.31 204.5 20.42C203.44 21.52 203.07 23.22 203.07 24.91C203.07 26.6 203.44 28.3 204.5 29.41C205.55 30.52 207.17 30.91 208.77 30.91C210.37 30.91 211.99 30.52 213.04 29.41C213.19 29.25 213.32 29.08 213.45 28.9L217.77 28.9C217.39 30.24 216.79 31.45 215.88 32.4C214.13 34.25 211.44 34.91 208.77 34.91C206.1 34.91 203.4 34.25 201.65 32.4C199.9 30.55 199.27 27.72 199.27 24.91C199.27 22.1 199.9 19.27 201.65 17.42C203.4 15.58 206.1 14.92 208.77 14.92C211.44 14.92 214.13 15.58 215.88 17.42C217.64 19.27 218.27 22.1 218.27 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("rect",{id:"rect",x:"221.211182",y:"8.500488",width:"4.371000",height:"26.415646",fill:"#4D6BFE",fillOpacity:"1.000000"}),(0,a.jsx)("path",{id:"polygon",d:"M233.04 24.31L240.21 34.91L234.79 34.91L227.62 24.31L234.79 15.81L240.21 15.81L233.04 24.31Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})]})}function i(){return(0,a.jsx)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:(0,a.jsx)("path",{id:"path",d:"M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z",fillRule:"nonzero",fill:"#4D6BFE"})})}function l(){return(0,a.jsxs)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip1325_20400",children:(0,a.jsx)("rect",{id:"新建会话0730",width:"30.000000",height:"30.000000",fill:"white",fillOpacity:"0"})})}),(0,a.jsxs)("g",{clipPath:"url(#clip1325_20400)",children:[(0,a.jsx)("path",{id:"path",d:"M10.51 26.52C10.35 26.52 10.19 26.49 10.04 26.43C9.89 26.37 9.76 26.28 9.64 26.17C9.53 26.06 9.44 25.93 9.37 25.78C9.31 25.63 9.28 25.48 9.28 25.32L9.25 22.87C8.89 22.82 8.53 22.74 8.19 22.62C7.84 22.5 7.51 22.36 7.19 22.19C6.86 22.01 6.56 21.81 6.28 21.58C5.99 21.36 5.73 21.11 5.49 20.83C5.25 20.56 5.04 20.27 4.85 19.96C4.67 19.65 4.51 19.33 4.38 18.99C4.25 18.65 4.16 18.3 4.09 17.95C4.03 17.6 4 17.24 4 16.88L4 10.38C4 9.99 4.03 9.6 4.11 9.21C4.19 8.82 4.31 8.45 4.46 8.08C4.61 7.72 4.8 7.37 5.03 7.04C5.25 6.72 5.5 6.41 5.78 6.13C6.07 5.86 6.38 5.61 6.71 5.39C7.04 5.17 7.4 4.98 7.77 4.83C8.14 4.68 8.52 4.57 8.91 4.49C9.31 4.41 9.7 4.38 10.11 4.38L14.35 4.38C14.5 4.38 14.63 4.4 14.77 4.46C14.9 4.51 15.02 4.59 15.12 4.69C15.22 4.79 15.3 4.9 15.35 5.03C15.41 5.16 15.43 5.3 15.43 5.44C15.43 5.58 15.41 5.71 15.35 5.84C15.3 5.97 15.22 6.09 15.12 6.19C15.02 6.29 14.9 6.37 14.77 6.42C14.63 6.47 14.5 6.5 14.35 6.5L10.11 6.5C9.85 6.5 9.59 6.53 9.34 6.58C9.08 6.62 8.83 6.7 8.6 6.8C8.36 6.89 8.13 7.01 7.91 7.15C7.7 7.3 7.5 7.46 7.31 7.64C7.13 7.82 6.97 8.01 6.82 8.22C6.68 8.44 6.56 8.66 6.46 8.9C6.36 9.13 6.28 9.37 6.23 9.62C6.18 9.87 6.16 10.12 6.16 10.38L6.16 16.88C6.16 17.14 6.18 17.39 6.23 17.65C6.29 17.9 6.36 18.15 6.46 18.39C6.56 18.62 6.69 18.85 6.83 19.07C6.98 19.28 7.15 19.48 7.33 19.66C7.52 19.85 7.72 20.01 7.94 20.15C8.16 20.3 8.39 20.42 8.63 20.52C8.87 20.62 9.13 20.69 9.38 20.74C9.64 20.79 9.9 20.82 10.17 20.82C10.33 20.82 10.49 20.85 10.64 20.91C10.79 20.97 10.92 21.06 11.04 21.17C11.15 21.28 11.24 21.41 11.31 21.56C11.37 21.71 11.4 21.86 11.41 22.02L11.42 23.53L14.15 21.56C14.85 21.07 15.62 20.82 16.48 20.82L19.87 20.82C20.13 20.82 20.38 20.79 20.64 20.74C20.89 20.69 21.14 20.62 21.38 20.52C21.62 20.42 21.85 20.3 22.06 20.16C22.28 20.02 22.48 19.86 22.66 19.68C22.84 19.5 23.01 19.3 23.15 19.09C23.29 18.88 23.42 18.66 23.52 18.42C23.61 18.19 23.69 17.94 23.74 17.69C23.79 17.44 23.82 17.19 23.82 16.94L23.82 13.58C23.82 13.44 23.84 13.3 23.9 13.17C23.95 13.04 24.03 12.93 24.13 12.83C24.23 12.73 24.35 12.65 24.48 12.6C24.62 12.54 24.75 12.52 24.9 12.52C25.04 12.52 25.18 12.54 25.31 12.6C25.44 12.65 25.56 12.73 25.66 12.83C25.76 12.93 25.84 13.04 25.9 13.17C25.95 13.3 25.98 13.44 25.98 13.58L25.98 16.94C25.98 17.33 25.94 17.72 25.86 18.11C25.78 18.5 25.67 18.87 25.51 19.24C25.36 19.6 25.17 19.95 24.95 20.27C24.73 20.6 24.47 20.9 24.19 21.18C23.9 21.46 23.6 21.71 23.26 21.93C22.93 22.15 22.58 22.33 22.21 22.48C21.83 22.63 21.45 22.75 21.06 22.83C20.67 22.9 20.27 22.94 19.87 22.94L17.19 22.94C16.33 22.94 15.56 23.19 14.86 23.69L11.24 26.29C11.02 26.44 10.78 26.52 10.51 26.52Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("rect",{id:"rect",x:"17.770508",y:"6.396484",rx:"1.062250",width:"8.060087",height:"2.124500",fill:"currentColor",fillOpacity:"1.000000"}),(0,a.jsx)("rect",{id:"rect",x:"20.718750",y:"3.500000",rx:"1.081197",width:"2.162393",height:"7.918844",fill:"currentColor",fillOpacity:"1.000000"})]})]})}let d=(0,r.memo)(function(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 20",fill:"none",children:(0,a.jsx)("path",{d:"M7 20c-1.856-.002-3.635-.7-4.947-1.94C.74 16.819.003 15.137 0 13.383V4.828a4.536 4.536 0 0 1 .365-1.843 4.75 4.75 0 0 1 1.087-1.567A5.065 5.065 0 0 1 3.096.368a5.293 5.293 0 0 1 3.888 0c.616.244 1.174.6 1.643 1.05.469.45.839.982 1.088 1.567.25.586.373 1.212.364 1.843v8.555a2.837 2.837 0 0 1-.92 2.027A3.174 3.174 0 0 1 7 16.245c-.807 0-1.582-.3-2.158-.835a2.837 2.837 0 0 1-.92-2.027v-6.22a1.119 1.119 0 1 1 2.237 0v6.22a.777.777 0 0 0 .256.547.868.868 0 0 0 .585.224c.219 0 .429-.08.586-.224a.777.777 0 0 0 .256-.546V4.828A2.522 2.522 0 0 0 7.643 3.8a2.64 2.64 0 0 0-.604-.876 2.816 2.816 0 0 0-.915-.587 2.943 2.943 0 0 0-2.168 0 2.816 2.816 0 0 0-.916.587 2.64 2.64 0 0 0-.604.876 2.522 2.522 0 0 0-.198 1.028v8.555c0 1.194.501 2.339 1.394 3.183A4.906 4.906 0 0 0 7 17.885a4.906 4.906 0 0 0 3.367-1.319 4.382 4.382 0 0 0 1.395-3.183v-6.22a1.119 1.119 0 0 1 2.237 0v6.22c-.002 1.754-.74 3.436-2.052 4.677C10.635 19.3 8.856 19.998 7 20z",fill:"currentColor"})})}),c=(0,a.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M9.10999 27C8.92999 27 8.76001 26.96 8.60001 26.9C8.43001 26.83 8.29 26.74 8.16 26.61C8.03 26.49 7.94 26.3499 7.87 26.1899C7.79999 26.0299 7.76001 25.8599 7.76001 25.6899L7.73001 23.04C7.34001 22.98 6.95001 22.8799 6.57001 22.7599C6.19001 22.6299 5.83001 22.48 5.48001 22.29C5.13001 22.1 4.79999 21.88 4.48999 21.63C4.17999 21.39 3.89 21.1199 3.63 20.82C3.37 20.52 3.13999 20.21 2.92999 19.87C2.72999 19.53 2.56001 19.18 2.42001 18.82C2.28001 18.45 2.17001 18.07 2.10001 17.69C2.03001 17.3 2 16.92 2 16.53V9.46995C2 9.03995 2.04 8.61995 2.12 8.19995C2.21 7.77995 2.34 7.36995 2.5 6.96995C2.67 6.57995 2.88 6.19995 3.12 5.84995C3.36 5.48995 3.64001 5.15995 3.95001 4.85995C4.26001 4.55995 4.59999 4.28995 4.95999 4.04995C5.32999 3.80995 5.70999 3.60995 6.10999 3.44995C6.51999 3.27995 6.94 3.15995 7.37 3.07995C7.79999 2.98995 8.23001 2.94995 8.67001 2.94995H13.3C13.46 2.94995 13.61 2.97995 13.76 3.03995C13.9 3.09995 14.03 3.17995 14.14 3.28995C14.25 3.39995 14.33 3.51995 14.39 3.65995C14.45 3.79995 14.48 3.94995 14.48 4.09995C14.48 4.25995 14.45 4.39995 14.39 4.54995C14.33 4.68995 14.25 4.80995 14.14 4.91995C14.03 5.02995 13.9 5.10995 13.76 5.16995C13.61 5.22995 13.46 5.25995 13.3 5.25995H8.67001C8.38001 5.25995 8.09999 5.27995 7.82999 5.33995C7.54999 5.38995 7.27999 5.46995 7.01999 5.57995C6.75999 5.67995 6.50999 5.80995 6.26999 5.96995C6.03999 6.11995 5.82 6.29995 5.62 6.48995C5.42 6.68995 5.23999 6.89995 5.07999 7.12995C4.92999 7.35995 4.78999 7.59995 4.67999 7.85995C4.57999 8.10995 4.49 8.37995 4.44 8.64995C4.38 8.91995 4.35999 9.18995 4.35999 9.46995V16.53C4.35999 16.81 4.38 17.08 4.44 17.36C4.5 17.63 4.58 17.9 4.69 18.16C4.8 18.42 4.93 18.67 5.09 18.9C5.25 19.13 5.43001 19.3499 5.64001 19.5499C5.84001 19.75 6.05999 19.92 6.29999 20.08C6.53999 20.24 6.79 20.37 7.06 20.47C7.32 20.58 7.6 20.66 7.88 20.72C8.16001 20.77 8.44001 20.7999 8.73001 20.7999C8.91001 20.7999 9.08 20.83 9.25 20.9C9.41 20.97 9.55999 21.0599 9.67999 21.18C9.80999 21.3099 9.91001 21.45 9.98001 21.61C10.05 21.77 10.08 21.94 10.09 22.11L10.1 23.74L13.08 21.61C13.84 21.07 14.69 20.7999 15.63 20.7999H19.32C19.61 20.7999 19.89 20.77 20.16 20.72C20.44 20.67 20.71 20.59 20.97 20.4799C21.23 20.3699 21.48 20.24 21.72 20.09C21.95 19.94 22.17 19.76 22.37 19.57C22.57 19.3699 22.75 19.16 22.91 18.93C23.07 18.7 23.2 18.46 23.31 18.2C23.41 17.95 23.5 17.68 23.55 17.41C23.61 17.14 23.63 16.87 23.63 16.59V12.94C23.63 12.79 23.66 12.64 23.72 12.5C23.78 12.36 23.87 12.23 23.98 12.13C24.09 12.02 24.22 11.93 24.36 11.88C24.51 11.82 24.66 11.79 24.82 11.79C24.97 11.79 25.12 11.82 25.27 11.88C25.41 11.93 25.54 12.02 25.65 12.13C25.76 12.23 25.85 12.36 25.91 12.5C25.97 12.64 26 12.79 26 12.94V16.59C26 17.02 25.95 17.44 25.87 17.86C25.78 18.28 25.66 18.69 25.49 19.08C25.32 19.48 25.11 19.8499 24.87 20.2099C24.63 20.57 24.35 20.9 24.04 21.2C23.73 21.5 23.39 21.7699 23.03 22.0099C22.67 22.2499 22.28 22.45 21.88 22.61C21.47 22.77 21.06 22.9 20.63 22.9799C20.2 23.07 19.76 23.11 19.32 23.11H16.4C15.47 23.11 14.62 23.3799 13.86 23.9199L9.91 26.74C9.67 26.91 9.39999 27 9.10999 27Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M24.6805 5.14453H18.1874C17.5505 5.14453 17.0342 5.66086 17.0342 6.29778C17.0342 6.9347 17.5505 7.45102 18.1874 7.45102H24.6805C25.3175 7.45102 25.8338 6.9347 25.8338 6.29778C25.8338 5.66086 25.3175 5.14453 24.6805 5.14453Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M22.6137 3.1804C22.6137 2.52848 22.0852 2 21.4333 2C20.7814 2 20.2529 2.52848 20.2529 3.1804V9.4168C20.2529 10.0687 20.7814 10.5972 21.4333 10.5972C22.0852 10.5972 22.6137 10.0687 22.6137 9.4168V3.1804Z",fill:"currentColor"})]}),u=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.757 6.94a1 1 0 0 1 0-1.415l4.465-4.464a1 1 0 0 1 1.414 1.414L6.172 6.939a1 1 0 0 1-1.415 0z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.172 6.94a1 1 0 0 0 0-1.415L1.707 1.061A1 1 0 0 0 .293 2.475l4.464 4.464a1 1 0 0 0 1.415 0z",fill:"currentColor"})]}),h=(0,a.jsxs)("svg",{width:"6",height:"9",viewBox:"0 0 6 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.695.68c.26-.24.683-.24.943 0l3.667 3.385c.26.24.26.63 0 .87a.707.707 0 0 1-.943 0L.695 1.551a.582.582 0 0 1 0-.87z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.695 8.32a.582.582 0 0 1 0-.87l3.667-3.385c.26-.24.682-.24.943 0 .26.24.26.63 0 .87L1.638 8.32a.707.707 0 0 1-.943 0z",fill:"currentColor"})]}),p=(0,a.jsxs)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",children:[(0,a.jsx)("path",{d:"M725.333 1024H298.667a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h426.666a128 128 0 0 1 128 128v768a128 128 0 0 1-128 128zM298.667 85.333A42.667 42.667 0 0 0 256 128v768a42.667 42.667 0 0 0 42.667 42.667h426.666A42.667 42.667 0 0 0 768 896V128a42.667 42.667 0 0 0-42.667-42.667z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M469.33299999999997 853.333a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0zM554.667 213.333h-85.334a42.667 42.667 0 0 1 0-85.333h85.334a42.667 42.667 0 0 1 0 85.333z",fill:"currentColor"})]}),g=(0,r.memo)(function(){return(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.898 10.148c0-1.137.214-2.202.641-3.195.428-1 1.02-1.878 1.779-2.636a8.348 8.348 0 0 1 2.626-1.779c1-.427 2.068-.64 3.205-.64 1.138 0 2.203.213 3.195.64 1 .428 1.879 1.02 2.637 1.779a8.313 8.313 0 0 1 1.778 2.636c.427.993.641 2.058.641 3.195a7.92 7.92 0 0 1-.455 2.688 8.169 8.169 0 0 1-1.24 2.306l5.056 5.087c.11.11.193.238.248.383.062.145.093.3.093.465 0 .228-.052.434-.155.62-.097.187-.235.331-.414.435a1.16 1.16 0 0 1-.62.165c-.166 0-.324-.03-.476-.093a1.217 1.217 0 0 1-.403-.258l-5.087-5.098a8.528 8.528 0 0 1-2.234 1.138 7.93 7.93 0 0 1-2.564.413 8.067 8.067 0 0 1-3.205-.64 8.35 8.35 0 0 1-2.626-1.78 8.349 8.349 0 0 1-1.779-2.625 8.066 8.066 0 0 1-.64-3.206zm1.768 0c0 .896.166 1.737.497 2.523a6.59 6.59 0 0 0 1.395 2.058 6.717 6.717 0 0 0 2.068 1.396 6.32 6.32 0 0 0 2.523.506c.896 0 1.734-.169 2.513-.506a6.59 6.59 0 0 0 3.464-3.453 6.32 6.32 0 0 0 .506-2.524c0-.896-.169-1.733-.507-2.512a6.556 6.556 0 0 0-1.395-2.068 6.334 6.334 0 0 0-2.068-1.396 6.246 6.246 0 0 0-2.513-.507 6.32 6.32 0 0 0-2.523.507 6.556 6.556 0 0 0-3.464 3.464 6.359 6.359 0 0 0-.496 2.512zm3.816.755a.753.753 0 0 1-.538-.217.753.753 0 0 1-.217-.538c0-.207.072-.386.217-.537a.735.735 0 0 1 .538-.228h5.324c.207 0 .383.076.528.228.152.151.227.33.227.537a.735.735 0 0 1-.227.538.718.718 0 0 1-.527.217H7.481z",fill:"currentColor"})})}),m=(0,r.memo)(function(){return(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.898 10.148c0-1.137.214-2.202.641-3.195.428-1 1.02-1.878 1.779-2.636a8.348 8.348 0 0 1 2.626-1.779c1-.427 2.068-.64 3.205-.64 1.138 0 2.203.213 3.195.64 1 .428 1.879 1.02 2.637 1.779a8.313 8.313 0 0 1 1.778 2.636c.427.993.641 2.058.641 3.195a7.92 7.92 0 0 1-.455 2.688 8.169 8.169 0 0 1-1.24 2.306l5.056 5.087c.11.11.193.238.248.383.062.145.093.3.093.465 0 .228-.052.434-.155.62-.097.187-.235.331-.414.435a1.16 1.16 0 0 1-.62.165c-.166 0-.324-.03-.476-.093a1.217 1.217 0 0 1-.403-.258l-5.087-5.098a8.528 8.528 0 0 1-2.234 1.138 7.93 7.93 0 0 1-2.564.413 8.067 8.067 0 0 1-3.205-.64 8.35 8.35 0 0 1-2.626-1.78 8.349 8.349 0 0 1-1.779-2.625 8.066 8.066 0 0 1-.64-3.206zm1.768 0c0 .896.166 1.737.497 2.523a6.59 6.59 0 0 0 1.395 2.058 6.717 6.717 0 0 0 2.068 1.396 6.32 6.32 0 0 0 2.523.506c.896 0 1.734-.169 2.513-.506a6.59 6.59 0 0 0 3.464-3.453 6.32 6.32 0 0 0 .506-2.524c0-.896-.169-1.733-.507-2.512a6.556 6.556 0 0 0-1.395-2.068 6.334 6.334 0 0 0-2.068-1.396 6.246 6.246 0 0 0-2.513-.507 6.32 6.32 0 0 0-2.523.507 6.556 6.556 0 0 0-3.464 3.464 6.359 6.359 0 0 0-.496 2.512zm3.071 0a.73.73 0 0 1 .217-.537.735.735 0 0 1 .538-.228h1.902V7.491a.73.73 0 0 1 .218-.538.735.735 0 0 1 .537-.227c.214 0 .393.076.538.227a.714.714 0 0 1 .227.538v1.892h1.893c.213 0 .392.076.537.228a.73.73 0 0 1 .217.537.73.73 0 0 1-.217.538.73.73 0 0 1-.537.217h-1.893v1.892a.747.747 0 0 1-.227.548.73.73 0 0 1-.538.217.753.753 0 0 1-.537-.217.765.765 0 0 1-.218-.548v-1.892H7.492a.753.753 0 0 1-.538-.217.73.73 0 0 1-.217-.538z",fill:"currentColor"})})}),f=()=>(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z",fill:"currentColor"})]}),C=()=>(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M12 22a9.661 9.661 0 0 1-3.882-.784 10.051 10.051 0 0 1-3.185-2.15 10.186 10.186 0 0 1-2.159-3.184A9.764 9.764 0 0 1 2 12c0-1.381.258-2.675.774-3.882a10.04 10.04 0 0 1 2.159-3.185 10.051 10.051 0 0 1 3.185-2.149A9.66 9.66 0 0 1 11.999 2a9.66 9.66 0 0 1 3.882.784 10.021 10.021 0 0 1 3.195 2.15 9.91 9.91 0 0 1 2.15 3.184c.522 1.207.783 2.5.783 3.882a9.661 9.661 0 0 1-.784 3.882 10.052 10.052 0 0 1-5.344 5.334A9.661 9.661 0 0 1 12 22zm-1.743-6.05l5.586-3.292a.732.732 0 0 0 .32-.397.749.749 0 0 0 0-.503.652.652 0 0 0-.32-.387L10.257 8.06a.866.866 0 0 0-.542-.126.76.76 0 0 0-.455.203c-.123.11-.184.265-.184.465v6.806c0 .2.061.361.184.484a.75.75 0 0 0 .445.203.948.948 0 0 0 .552-.145z",fill:"currentColor"})})},10021:function(e,t,n){n.d(t,{Ge:()=>p,JK:()=>u,Kj:()=>d,tA:()=>c,vj:()=>l,zV:()=>h}),n(36631),n(82538);var a=n(27753),r=n(86239),o=n(82313);let s=e=>()=>{throw Error("".concat(e," not provided"))},i=(0,r.createContext)({zoomIn:o.Z,zoomOut:o.Z,downloadSvg:o.Z,downloadPng:o.Z,setZoomOut:s("setZoomOut"),setZoomIn:s("setZoomIn"),setDownloadSvg:s("setDownloadSvg"),setDownloadPng:s("setDownloadPng"),renderStatus:"init",setRenderStatus:s("setRenderStatus")}),l=(0,r.memo)(function(e){let{children:t}=e,n=(0,r.useRef)(s("zoomOut")),o=(0,r.useRef)(s("zoomIn")),l=(0,r.useRef)(s("downloadSvg")),d=(0,r.useRef)(s("downloadPng")),[c,u]=(0,r.useState)("init"),h=(0,r.useMemo)(()=>({setZoomOut:e=>n.current=e,setZoomIn:e=>o.current=e,zoomOut:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.call(n)},zoomIn:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.call(o)},downloadSvg:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.call(l)},setDownloadSvg:e=>l.current=e,downloadPng:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.call(d)},setDownloadPng:e=>d.current=e,renderStatus:c,setRenderStatus:u}),[c]);return(0,a.jsx)(i.Provider,{value:h,children:t})}),d=e=>{let{zoomOut:t,zoomIn:n}=e,{setZoomIn:a,setZoomOut:o}=(0,r.useContext)(i);a(n),o(t)},c=e=>{let{downloadSvg:t,downloadPng:n}=e,{setDownloadSvg:a,setDownloadPng:o}=(0,r.useContext)(i);a(t),o(n)},u=()=>(0,r.useContext)(i),h=()=>(0,r.useContext)(i).renderStatus,p=()=>(0,r.useContext)(i).setRenderStatus},72371:function(e,t,n){let a,r,o,s;var i,l,d,c,u,h,p,g,m,f={};n.r(f),n.d(f,{load_abap:()=>cr,load_abnf:()=>co,load_actionscript:()=>cs,load_ada:()=>ci,load_agda:()=>cl,load_al:()=>cd,load_antlr4:()=>cc,load_apacheconf:()=>cu,load_apex:()=>ch,load_apl:()=>cp,load_applescript:()=>cg,load_aql:()=>cm,load_arduino:()=>cf,load_arff:()=>cC,load_armasm:()=>cv,load_arturo:()=>cx,load_asciidoc:()=>cE,load_asm6502:()=>cy,load_asmatmel:()=>cb,load_aspnet:()=>c_,load_autohotkey:()=>cw,load_autoit:()=>cS,load_avisynth:()=>cI,load_avro_idl:()=>cT,load_awk:()=>cM,load_bash:()=>cj,load_basic:()=>ck,load_batch:()=>cA,load_bbcode:()=>cR,load_bbj:()=>cN,load_bicep:()=>cL,load_birb:()=>cF,load_bison:()=>cO,load_bnf:()=>cP,load_bqn:()=>cD,load_brainfuck:()=>cB,load_brightscript:()=>cz,load_bro:()=>cH,load_bsl:()=>cU,load_c:()=>cV,load_cfscript:()=>cW,load_chaiscript:()=>cG,load_cil:()=>cZ,load_cilkc:()=>cq,load_cilkcpp:()=>cY,load_clike:()=>cK,load_clojure:()=>cQ,load_cmake:()=>cX,load_cobol:()=>cJ,load_coffeescript:()=>c$,load_concurnas:()=>c1,load_cooklang:()=>c0,load_coq:()=>c2,load_core:()=>c3,load_cpp:()=>c5,load_crystal:()=>c4,load_csharp:()=>c9,load_cshtml:()=>c6,load_csp:()=>c7,load_css:()=>ue,load_css_extras:()=>c8,load_csv:()=>ut,load_cue:()=>un,load_cypher:()=>ua,load_d:()=>ur,load_dart:()=>uo,load_dataweave:()=>us,load_dax:()=>ui,load_dhall:()=>ul,load_diff:()=>ud,load_django:()=>uc,load_dns_zone_file:()=>uu,load_docker:()=>uh,load_dot:()=>up,load_ebnf:()=>ug,load_editorconfig:()=>um,load_eiffel:()=>uf,load_ejs:()=>uC,load_elixir:()=>uv,load_elm:()=>ux,load_erb:()=>uE,load_erlang:()=>uy,load_etlua:()=>ub,load_excel_formula:()=>u_,load_factor:()=>uw,load_false:()=>uS,load_firestore_security_rules:()=>uI,load_flow:()=>uT,load_fortran:()=>uM,load_fsharp:()=>uj,load_ftl:()=>uk,load_gap:()=>uA,load_gcode:()=>uR,load_gdscript:()=>uN,load_gedcom:()=>uL,load_gettext:()=>uF,load_gherkin:()=>uO,load_git:()=>uP,load_glsl:()=>uD,load_gml:()=>uB,load_gn:()=>uz,load_go:()=>uU,load_go_module:()=>uH,load_gradle:()=>uV,load_graphql:()=>uW,load_groovy:()=>uG,load_haml:()=>uZ,load_handlebars:()=>uq,load_haskell:()=>uY,load_haxe:()=>uK,load_hcl:()=>uQ,load_hlsl:()=>uX,load_hoon:()=>uJ,load_hpkp:()=>u$,load_hsts:()=>u1,load_http:()=>u0,load_ichigojam:()=>u2,load_icon:()=>u3,load_icu_message_format:()=>u5,load_idris:()=>u4,load_iecst:()=>u9,load_ignore:()=>u6,load_inform7:()=>u7,load_ini:()=>u8,load_io:()=>he,load_j:()=>ht,load_java:()=>hn,load_javadoc:()=>ha,load_javadoclike:()=>hr,load_javascript:()=>ho,load_javastacktrace:()=>hs,load_jexl:()=>hi,load_jolie:()=>hl,load_jq:()=>hd,load_js_extras:()=>hc,load_js_templates:()=>hu,load_jsdoc:()=>hh,load_json:()=>hp,load_json5:()=>hg,load_jsonp:()=>hm,load_jsstacktrace:()=>hf,load_jsx:()=>hC,load_julia:()=>hv,load_keepalived:()=>hx,load_keyman:()=>hE,load_kotlin:()=>hy,load_kumir:()=>hb,load_kusto:()=>h_,load_latex:()=>hw,load_latte:()=>hS,load_less:()=>hI,load_lilypond:()=>hT,load_linker_script:()=>hM,load_liquid:()=>hj,load_lisp:()=>hk,load_livescript:()=>hA,load_llvm:()=>hR,load_log:()=>hN,load_lolcode:()=>hL,load_lua:()=>hF,load_magma:()=>hO,load_makefile:()=>hP,load_markdown:()=>hD,load_markup:()=>hz,load_markup_templating:()=>hB,load_mata:()=>hH,load_matlab:()=>hU,load_maxscript:()=>hV,load_mel:()=>hW,load_mermaid:()=>hG,load_metafont:()=>hZ,load_mizar:()=>hq,load_mongodb:()=>hY,load_monkey:()=>hK,load_moonscript:()=>hQ,load_n1ql:()=>hX,load_n4js:()=>hJ,load_nand2tetris_hdl:()=>h$,load_naniscript:()=>h1,load_nasm:()=>h0,load_neon:()=>h2,load_nevod:()=>h3,load_nginx:()=>h5,load_nim:()=>h4,load_nix:()=>h9,load_nsis:()=>h6,load_objectivec:()=>h7,load_ocaml:()=>h8,load_odin:()=>pe,load_opencl:()=>pt,load_openqasm:()=>pn,load_oz:()=>pa,load_parigp:()=>pr,load_parser:()=>po,load_pascal:()=>ps,load_pascaligo:()=>pi,load_pcaxis:()=>pl,load_peoplecode:()=>pd,load_perl:()=>pc,load_php:()=>ph,load_php_extras:()=>pu,load_phpdoc:()=>pp,load_plant_uml:()=>pg,load_plsql:()=>pm,load_powerquery:()=>pf,load_powershell:()=>pC,load_processing:()=>pv,load_prolog:()=>px,load_promql:()=>pE,load_properties:()=>py,load_protobuf:()=>pb,load_psl:()=>p_,load_pug:()=>pw,load_puppet:()=>pS,load_pure:()=>pI,load_purebasic:()=>pT,load_purescript:()=>pM,load_python:()=>pj,load_q:()=>pk,load_qml:()=>pA,load_qore:()=>pR,load_qsharp:()=>pN,load_r:()=>pL,load_racket:()=>pF,load_reason:()=>pO,load_regex:()=>pP,load_rego:()=>pD,load_renpy:()=>pB,load_rescript:()=>pz,load_rest:()=>pH,load_rip:()=>pU,load_roboconf:()=>pV,load_robotframework:()=>pW,load_ruby:()=>pG,load_rust:()=>pZ,load_sas:()=>pq,load_sass:()=>pY,load_scala:()=>pK,load_scheme:()=>pQ,load_scss:()=>pX,load_shell_session:()=>pJ,load_smali:()=>p$,load_smalltalk:()=>p1,load_smarty:()=>p0,load_sml:()=>p2,load_solidity:()=>p3,load_solution_file:()=>p5,load_soy:()=>p4,load_sparql:()=>p9,load_splunk_spl:()=>p6,load_sqf:()=>p7,load_sql:()=>p8,load_squirrel:()=>ge,load_stan:()=>gt,load_stata:()=>gn,load_stylus:()=>ga,load_supercollider:()=>gr,load_swift:()=>go,load_systemd:()=>gs,load_t4_cs:()=>gi,load_t4_templating:()=>gl,load_t4_vb:()=>gd,load_tap:()=>gc,load_tcl:()=>gu,load_textile:()=>gh,load_toml:()=>gp,load_tremor:()=>gg,load_tsx:()=>gm,load_tt2:()=>gf,load_turtle:()=>gC,load_twig:()=>gv,load_typescript:()=>gx,load_typoscript:()=>gE,load_unrealscript:()=>gy,load_uorazor:()=>gb,load_uri:()=>g_,load_v:()=>gw,load_vala:()=>gS,load_vbnet:()=>gI,load_velocity:()=>gT,load_verilog:()=>gM,load_vhdl:()=>gj,load_vim:()=>gk,load_visual_basic:()=>gA,load_warpscript:()=>gR,load_wasm:()=>gN,load_web_idl:()=>gL,load_wgsl:()=>gF,load_wiki:()=>gO,load_wolfram:()=>gP,load_wren:()=>gD,load_xeora:()=>gB,load_xml_doc:()=>gz,load_xojo:()=>gH,load_xquery:()=>gU,load_yaml:()=>gV,load_yang:()=>gW,load_zig:()=>gG}),n(16798);var C=n(27753);n(70538),n(78272),n(5265),n(16326),n(62173),n(17410),n(82538),"undefined"!=typeof window&&(Worker=(i=Worker,class extends i{constructor(e,t){if(t&&"module"===t.type){super(e,t);return}let n=String(e);super(n.includes("://")&&!n.startsWith(location.origin)?URL.createObjectURL(new Blob(["importScripts=((i)=>(...a)=>i(...a.map((u)=>''+new URL(u,\"".concat(n,'"))))(importScripts);importScripts("').concat(n,'")')],{type:"text/javascript"})):e,t)}})),n(36631);var v=n(65708);let x="",E=null,y=null,b=null,_=!1,w=new v.B,S=!1,I=!1,T=!1;async function M(){if(_)return null==y||y.info("Intercom SDK 正在加载中或加载完成，返回对应 Promise"),w.promise;_=!0,null==y||y.info("Intercom SDK 开始加载");try{let e=await n.e("825").then(n.t.bind(n,59891,19));return null==y||y.info("Intercom SDK 加载完成"),w.resolve(e),e}catch(e){throw _=!1,w.reject(e),null==E||E.error({name:"__intercomMessagerSdkLoadFailed",message:"Intercom SDK 加载失败",payload:b(e,{})}),e}}function j(){if(!E||!y||!b||!x)throw Error("[@deepseek/intercom-messager]: you must call `setupIntercomMessager` before calling other functions")}async function k(){var e,t;if(j(),null==E||E.info({name:"__intercomMessagerShowCalled",message:"调用了 Intercom 的 show 方法",payload:void 0}),!_)throw Error("[@deepseek/intercom-messager]: you must call `bootIntercomMessager` before calling `showIntercomMessager`");await w.promise,o||(o=new v.B),null===(e=(t=window).Intercom)||void 0===e||e.call(t,"show");try{await o.promise}catch{}}async function A(){var e,t;if(null==E||E.info({name:"__intercomMessagerHideCalled",message:"调用了 Intercom 的 hide 方法",payload:void 0}),j(),!_)throw Error("[@deepseek/intercom-messager]: you must call `bootIntercomMessager` before calling `hideIntercomMessager`");await w.promise,o&&(o.reject(),o=void 0),null===(e=(t=window).Intercom)||void 0===e||e.call(t,"hide")}async function R(e){var t,n,a,r,s,i;let{email:l,mobile:d,userId:c}=e;null==E||E.info({name:"__intercomMessagerBootCalled",message:"调用了 Intercom 的 boot 方法",payload:void 0}),j();let u=await M();if(I){if(!T)return;null==y||y.info("Intercom SDK 开始 boot，非首次启动"),null===(s=(i=window).Intercom)||void 0===s||s.call(i,"boot",{app_id:x,email:l,name:h(),user_id:c,hide_default_launcher:!0}),T=!1}else null==y||y.info("Intercom SDK 开始 boot，首次启动"),u.default.default({app_id:x,email:l,name:h(),user_id:c,hide_default_launcher:!0}),I=!0;function h(){return"".concat(d||"",":").concat(l||"",":").concat(c||"")}null===(t=(n=window).Intercom)||void 0===t||t.call(n,"onShow",()=>{null==E||E.info({name:"__intercomMessagerOnShow",message:"Intercom 显示弹窗",payload:void 0}),o&&(o.resolve(),o=void 0),S=!0}),null===(a=(r=window).Intercom)||void 0===a||a.call(r,"onHide",()=>{null==E||E.info({name:"__intercomMessagerOnHide",message:"Intercom 隐藏弹窗",payload:void 0}),o&&(o.reject(),o=void 0),S=!1})}function N(){return j(),null==E||E.info({name:"__intercomMessagerGetShowCalled",message:"获取了 Intercom 的 show 状态，".concat(S),payload:{show:"".concat(S)}}),S}async function L(){var e,t;j(),null==E||E.info({name:"__intercomMessagerShutdownCalled",message:"调用了 Intercom 的 shutdown 方法",payload:void 0}),await w.promise,null==o||o.reject(),S=!1,null===(e=(t=window).Intercom)||void 0===e||e.call(t,"shutdown"),T=!0}let F=async e=>{var t,n;await w.promise,null===(t=(n=window).Intercom)||void 0===t||t.call(n,"update",{dataFinderSSID:e})};var O=n(23090);let P=null,D=new v.B,B="CN";async function z(e,t){let{tintColor:n}=t,a=new v.B;return initSMCaptcha({...e,..."US"===B?{domains:["captcha-fjny.fengkongcloud.cn"]}:"SG"===B?{domains:["captcha-xjp.fengkongcloud.cn"]}:"GLOBAL"===B?{domains:["captcha.fengkongcloud.com"]}:void 0,onError(e,t){null==P||P.error({name:"__shumeiError",message:"数美验证码初始化失败",payload:{errorType:e,code:t.code,message:t.message}})},style:{slideBar:{border:"1px solid ".concat(n),button:{boxShadow:"none",background:n}}}},e=>{a.resolve(e)}),await a.promise}var H=n(80539);let U="",V=!1;n(63393);let W=null,G=new v.B;async function Z(){if(document.querySelector("script[data-fp]"))return;window._smReadyFuncs=[],window.SMSdk={ready:function(e){e&&window._smReadyFuncs.push(e)}};let e=document.createElement("script");return e.src="https://cdn.deepseek.com/static/chat/fp-1.min.js",e.dataset.fp="true",null==W||W.info({name:"__shumeiDeviceIdScriptSetup",message:"数美设备识别 script 设置",payload:{}}),document.head.appendChild(e),e.onload=()=>{G.resolve(),null==W||W.info({name:"__shumeiDeviceIdScriptLoadOk",message:"数美设备识别 script 加载成功",payload:{}})},e.onerror=e=>{G.reject(e),null==W||W.error({name:"__shumeiDeviceIdScriptLoadFailed",message:"数美设备识别 script 加载失败",payload:W.withError(e,{reason:"other"})})},await G.promise}async function q(){let e="",t=new v.B;try{return window.SMSdk.ready(()=>{e=window.SMSdk.getDeviceId?window.SMSdk.getDeviceId():e,t.resolve()}),await t.promise,e}catch(e){return t.reject(e),null==W||W.error({name:"__shumeiDeviceIdError",message:"数美设备识别 获取deviceId 失败",payload:W.withError(e,{reason:"other"})}),null}}var Y=n(86239),K=n(55124);function Q(e){let{children:t,disabled:n,arrowVariant:a,showArrow:r,leaveDelay:o,enterDelay:s}=e,i=(0,Y.useContext)(K.d),l=null!=n?n:i.disabled,d=null!=a?a:i.arrowVariant,c=null!=r?r:i.showArrow,u=null!=o?o:i.leaveDelay,h=null!=s?s:i.enterDelay;return(0,C.jsx)(K.d.Provider,{value:(0,Y.useMemo)(()=>({disabled:l,arrowVariant:d,showArrow:c,leaveDelay:u,enterDelay:h}),[l,d,c,u,h]),children:t})}var X=n(15184),J=n(17260);let $=e=>{let{children:t,fontFamily:n,inputHeightL:a,inputHeightM:r,inputHeightS:o,inputHeightXs:s,fontWeightStrong:i,fontSizeM:l,lineHeightM:d,fontSizeSp:c,lineHeightSp:u,fontSizeS:h,lineHeightS:p,fontSizeXsp:g,lineHeightXsp:m,fontSizeXs:f,lineHeightXs:v,easeInOut:x,easeIn:E,easeOut:y,fontFamilyCode:b,transitionDuration:_,transitionDurationFast:w,transitionDurationSlow:S,rgbInfo:I,rgbHover:T,rgbInput:M,label1:j,label2:k,label3:A,rgbError:R,rgbWarning:N,rgbSuccess:L,transparent:F,background1:O,backgroundElevated:P,materialRegular:D,separatorColor:B,rgbPrimary:z,rgbLink:H,rgbPrimaryForeground:U,segmentedButtonColor:V,segmentedSeparatorColor:W,buttonColor:G,buttonHoverColor:Z,secondaryButtonColor:q,borderedSecondaryButtonColor:K,inputPrefixColor:Q,secondaryButtonHoverColor:$,modalContentColor:ee,rgbInputFocus:et,borderedButtonHoverColor:en,textPrimaryButtonColor:ea,tabsActiveColor:er}=e,eo=(0,Y.useMemo)(()=>({"--ds-font-family":n,"--ds-input-height-l":a,"--ds-input-height-m":r,"--ds-input-height-s":o,"--ds-input-height-xs":s,"--ds-font-weight-strong":i,"--ds-font-size-m":l,"--ds-line-height-m":d,"--ds-font-size-sp":c,"--ds-line-height-sp":u,"--ds-font-size-s":h,"--ds-line-height-s":p,"--ds-font-size-xsp":g,"--ds-line-height-xsp":m,"--ds-font-size-xs":f,"--ds-line-height-xs":v,"--ds-ease-in-out":x,"--ds-ease-in":E,"--ds-ease-out":y,"--ds-font-family-code":b,"--ds-transition-duration":_,"--ds-transition-duration-fast":w,"--ds-transition-duration-slow":S,"--ds-rgb-info":I,"--ds-rgb-hover":T,"--ds-rgb-input":M,"--ds-rgb-input-focus":et,"--ds-rgb-label-1":j,"--ds-rgb-label-2":k,"--ds-rgb-label-3":A,"--ds-rgb-error":R,"--ds-rgb-warning":N,"--ds-rgb-success":L,"--ds-rgba-transparent":F,"--ds-rgb-bg-base":O,"--ds-rgb-elevated":P,"--ds-rgb-header":D,"--ds-rgb-separator":B,"--ds-rgb-primary":z,"--ds-rgb-link":H,"--ds-rgb-primary-foreground":U,"--ds-rgb-segmented-button":V,"--ds-rgb-segmented-separator":W,"--ds-button-color":G,"--ds-button-hover-color":Z,"--ds-secondary-button-color":q,"--ds-secondary-button-hover-color":$,"--ds-button-bordered-hover-color":en,"--ds-bordered-secondary-button-color":K,"--ds-input-prefix-color":Q,"--ds-modal-content-color":ee,"--ds-text-primary-button-color":ea,"--ds-tabs-active-color":er,fontSize:"var(--ds-font-size-m)",lineHeight:"var(--ds-line-height-m)"}),[n,a,r,o,s,i,l,d,c,u,h,p,g,m,f,v,x,E,y,b,_,w,S,I,T,M,et,j,k,A,R,N,L,F,O,P,D,B,z,H,U,V,W,G,Z,q,$,en,K,Q,ee,ea,er]);return(0,C.jsx)(X.W.Provider,{value:eo,children:(0,C.jsx)("div",{className:"".concat(J.F,"-theme"),style:eo,children:t})})};var ee=n(33326),et=n(80740),en=n(37804),ea=n(27428),er=n(77642),eo=n(24287),es=n(49166);function ei(e){let{children:t,appear:n,in:a}=e,r=(0,Y.useRef)(null);return(0,C.jsx)(es.Z,{nodeRef:r,appear:n,in:a,timeout:100,classNames:{appear:"".concat(J.F,"-fade-in-enter"),appearActive:"".concat(J.F,"-fade-in-active"),enter:"".concat(J.F,"-fade-in-enter"),enterActive:"".concat(J.F,"-fade-in-active"),exit:"".concat(J.F,"-fade-in-exit"),exitActive:"".concat(J.F,"-fade-in-exit-active")},unmountOnExit:!0,children:t(r)})}n(16849),n(79573);var el=n(84127);let ed=n(83050).ZP;var ec=n(65286),eu=n(72252);function eh(e){let{autoFocus:t,children:n,show:a=!1,onShowChange:r,returnFocus:o=!0,appear:s=!0,closeOnMaskClick:i=!0,closeOnEscapeKeydown:l=!0,onAfterClose:d,onOpenEffect:c}=e,u=(0,Y.useCallback)(e=>{l&&"Escape"===e.key&&(null==r||r(!1))},[r,l]),h=(0,X.B)(),p=(0,el.C)(a),g=(0,el.C)(a),m=(0,ec.II)(c);(0,Y.useEffect)(()=>{if(a){var e;null===(e=m.current)||void 0===e||e.call(m)}},[a,m]);let f=(0,Y.useRef)(!1),v=i?e=>{f.current&&e.target===e.currentTarget&&(null==r||r(!1))}:void 0;return(0,C.jsxs)(C.Fragment,{children:[(0,ea.createPortal)((0,C.jsx)(ei,{appear:s,in:a,children:e=>(0,C.jsx)("div",{ref:e,className:"".concat(J.F,"-modal-overlay"),style:{zIndex:p}})}),document.body),(0,ea.createPortal)((0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-theme"),"".concat(J.F,"-modal-wrapper"),!a&&"".concat(J.F,"-modal-wrapper--hide")),style:{...h,zIndex:g},onMouseDown:e=>{if(e.target!==e.currentTarget)return;f.current=!0;let t=()=>{setTimeout(()=>{f.current=!1},0),(0,eu.S)("mouseup",document,t)};(0,eu.on)("mouseup",document,t)},onClick:v,"data-transform-origin":"center",children:(0,C.jsx)(eo.j,{in:a,appear:s,onExited:d,children:e=>(0,C.jsx)("div",{ref:e,className:"".concat(J.F,"-modal"),onClick:v,onKeyDown:u,children:(0,C.jsx)(ed,{returnFocus:o,autoFocus:t,children:n})})})}),document.body)]})}var ep=n(1838);function eg(e){let{title:t,footer:n,onClose:a,domRef:r,children:o,variant:s,afterTitle:i,headerWrapperStyle:l,titleDomProps:d,titleStyle:c,contentDomProps:u,footerDomProps:h,domProps:p,style:g,theme:m,newCloseButton:f,hideClose:v,closeButtonProps:x}=e,E=(0,X.B)(),y=(0,Y.useMemo)(()=>({...E,...null==p?void 0:p.style,...g,"--ds-modal-content-color":null==m?void 0:m.color,"--ds-modal-content-text-color":null==m?void 0:m.textColor}),[null==p?void 0:p.style,g,null==m?void 0:m.color,null==m?void 0:m.textColor,E]),b=f?ep.m:ep.P;return(0,C.jsxs)("div",{tabIndex:-1,...p,className:(0,er.Z)("".concat(J.F,"-modal-content"),"".concat(J.F,"-elevated"),s&&"".concat(J.F,"-modal-content--").concat(s),null==p?void 0:p.className),style:y,ref:r,role:"dialog",children:[(0,C.jsxs)("div",{className:"".concat(J.F,"-modal-content__header-wrapper"),style:l,children:[(0,C.jsx)("div",{...d,style:{...null==d?void 0:d.style,...c},className:(0,er.Z)("".concat(J.F,"-modal-content__title"),null==d?void 0:d.className),children:t}),i,v?null:(0,C.jsx)(b,{...x,onClick:a})]}),o?(0,C.jsx)("div",{...u,children:o}):null,n?(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-modal-content__footer"),null==h?void 0:h.className),...h,children:n}):null]})}function em(e){let{children:t}=e;return(0,C.jsx)("div",{className:"".concat(J.F,"-modal-content__button-group"),children:t})}n(2130);let ef=(0,Y.createContext)(null);function eC(){let e=(0,Y.useContext)(ef);if(!e)throw Error("useModalApi must be used within a ModalProvider");return e}let ev=(0,Y.createContext)(null);function ex(e){let{children:t}=e,n=(0,Y.useRef)(0),[a,r]=(0,Y.useState)([]),o=(0,Y.useCallback)(e=>{let t=n.current++,{transformedOptions:a,handle:o}=function(e){let{props:t,key:n}=e,a={current:void 0},r={current:void 0},o={current:void 0};return{transformedOptions:{modalKey:n,modalContentProps:t.modalContentProps,modalProps:t.modalProps,setShowRef:a,setModalPropsRef:r,setModalContentPropsRef:o},handle:{close:()=>{var e;null===(e=a.current)||void 0===e||e.call(a,!1)},setModalProps:e=>{var t;null==r||null===(t=r.current)||void 0===t||t.call(r,e)},setModalContentProps:e=>{var t;null==o||null===(t=o.current)||void 0===t||t.call(o,e)}}}}({props:e,key:t});return r(e=>e.concat({key:t,props:a,handle:o})),o},[]),s=(0,ec.$0)(()=>{a.forEach(e=>{let{handle:t}=e;t.close()})}),i=(0,Y.useMemo)(()=>({open:o,closeAll:s}),[o,s]);return(0,C.jsxs)(ef.Provider,{value:i,children:[t,(0,C.jsx)(ev.Provider,{value:r,children:a.map(e=>{let{key:t,props:n}=e;return(0,C.jsx)(eE,{...n},t)})})]})}let eE=(0,Y.memo)(function(e){var t;let{modalKey:n,modalContentProps:a,setShowRef:r,setModalContentPropsRef:o,setModalPropsRef:s,modalProps:i}=e,l=(0,Y.useContext)(ev);if(!l)throw Error("ModalWrapper must be used within a ModalProvider");let[d,c]=(0,Y.useState)(!0),[u,h]=(0,Y.useState)(a),[p,g]=(0,Y.useState)(i);r.current=c,o.current=h,s.current=g;let m=(0,Y.useMemo)(()=>({...p,onAfterClose:()=>{var e;null==p||null===(e=p.onAfterClose)||void 0===e||e.call(p),l(e=>e.filter(e=>e.key!==n))}}),[p,n,l]),f=null==u?void 0:u.onClose,v=null==m?void 0:m.onShowChange,x=(0,Y.useCallback)(()=>{c(!1),null==v||v(!1),null==f||f()},[f,v]),E={...u,onClose:x},y=(0,Y.useCallback)(e=>{null==v||v(e),c(e)},[v]),b={...m,appear:!0,show:d,onShowChange:y,children:null!==(t=null==m?void 0:m.children)&&void 0!==t?t:(0,C.jsx)(eg,{...E})};return(0,C.jsx)(eh,{...b})});function ey(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,C.jsx)("path",{d:"M11.038 3.34834C11.0732 3.1627 11.0333 2.97067 10.927 2.81447C10.8206 2.65827 10.6566 2.55071 10.471 2.51545C10.2853 2.48019 10.0933 2.52011 9.93711 2.62644C9.78092 2.73277 9.67336 2.89679 9.63809 3.08242L8.67035 8.20036L4.16496 8.20131C3.97606 8.20131 3.79489 8.27635 3.66131 8.40993C3.52773 8.54351 3.45269 8.72468 3.45269 8.91359C3.45269 9.10249 3.52773 9.28366 3.66131 9.41724C3.79489 9.55082 3.97606 9.62586 4.16496 9.62586L8.40063 9.62396L7.50221 14.3725L3.21526 14.3744C3.02636 14.3744 2.84519 14.4494 2.71161 14.583C2.57803 14.7166 2.50299 14.8977 2.50299 15.0866C2.50299 15.2756 2.57803 15.4567 2.71161 15.5903C2.84519 15.7239 3.02636 15.7989 3.21526 15.7989L7.2325 15.797L6.31414 20.6557C6.29637 20.7478 6.29696 20.8425 6.31588 20.9343C6.3348 21.0262 6.37168 21.1134 6.42439 21.191C6.47711 21.2686 6.54463 21.335 6.62307 21.3864C6.70151 21.4378 6.78934 21.4732 6.8815 21.4906C6.97367 21.508 7.06836 21.507 7.16014 21.4877C7.25192 21.4684 7.33899 21.4311 7.41634 21.3781C7.49369 21.325 7.5598 21.2572 7.61088 21.1786C7.66196 21.0999 7.697 21.0119 7.714 20.9197L8.68269 15.7961L13.8814 15.7942L12.962 20.6557C12.9443 20.7478 12.9449 20.8425 12.9638 20.9343C12.9827 21.0262 13.0196 21.1134 13.0723 21.191C13.125 21.2686 13.1925 21.335 13.271 21.3864C13.3494 21.4378 13.4372 21.4732 13.5294 21.4906C13.6216 21.508 13.7163 21.507 13.808 21.4877C13.8998 21.4684 13.9869 21.4311 14.0642 21.3781C14.1416 21.325 14.2077 21.2572 14.2588 21.1786C14.3099 21.0999 14.3449 21.0119 14.3619 20.9197L15.3316 15.7932L19.835 15.7913C20.0239 15.7913 20.2051 15.7163 20.3387 15.5827C20.4723 15.4491 20.5473 15.268 20.5473 15.079C20.5473 14.8901 20.4723 14.709 20.3387 14.5754C20.2051 14.4418 20.0239 14.3668 19.835 14.3668L15.6013 14.3687L16.4997 9.62016L20.7847 9.61826C20.9736 9.61826 21.1548 9.54322 21.2884 9.40964C21.422 9.27607 21.497 9.0949 21.497 8.90599C21.497 8.71708 21.422 8.53591 21.2884 8.40233C21.1548 8.26876 20.9736 8.19371 20.7847 8.19371L16.7684 8.19561L17.6859 3.34834C17.7211 3.1627 17.6812 2.97067 17.5749 2.81447C17.4685 2.65827 17.3045 2.55071 17.1189 2.51545C16.9333 2.48019 16.7412 2.52011 16.585 2.62644C16.4288 2.73277 16.3213 2.89679 16.286 3.08242L15.3192 8.19656L10.1205 8.19846L11.038 3.34834ZM9.85083 9.62396L15.0495 9.62111L14.1511 14.3696L8.95241 14.3715L9.85083 9.62396Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.63809 3.08262C9.67336 2.89698 9.78092 2.73296 9.93711 2.62663C10.0933 2.52031 10.2853 2.48038 10.471 2.51565C10.6566 2.55091 10.8206 2.65847 10.927 2.81467C11.0333 2.97086 11.0732 3.1629 11.038 3.34853L10.1205 8.19866L15.3192 8.19676L16.286 3.08262C16.3213 2.89698 16.4288 2.73296 16.585 2.62663C16.7412 2.52031 16.9333 2.48038 17.1189 2.51565C17.3045 2.55091 17.4685 2.65847 17.5749 2.81467C17.6812 2.97086 17.7211 3.1629 17.6859 3.34853L16.7684 8.19581L20.7847 8.19391C20.9736 8.19391 21.1548 8.26895 21.2884 8.40253C21.422 8.53611 21.497 8.71728 21.497 8.90619C21.497 9.09509 21.422 9.27626 21.2884 9.40984C21.1548 9.54342 20.9736 9.61846 20.7847 9.61846L16.4997 9.62036L15.6013 14.3689L19.835 14.367C20.0239 14.367 20.2051 14.442 20.3387 14.5756C20.4723 14.7092 20.5473 14.8903 20.5473 15.0792C20.5473 15.2682 20.4723 15.4493 20.3387 15.5829C20.2051 15.7165 20.0239 15.7915 19.835 15.7915L15.3316 15.7934L14.3619 20.9199C14.3449 21.0121 14.3099 21.1001 14.2588 21.1788C14.2077 21.2574 14.1416 21.3252 14.0642 21.3783C13.9869 21.4313 13.8998 21.4686 13.808 21.4879C13.7163 21.5072 13.6216 21.5082 13.5294 21.4908C13.4372 21.4734 13.3494 21.438 13.271 21.3866C13.1925 21.3352 13.125 21.2688 13.0723 21.1912C13.0196 21.1136 12.9827 21.0264 12.9638 20.9345C12.9449 20.8427 12.9443 20.748 12.962 20.6559L13.8814 15.7944L8.68269 15.7963L7.714 20.9199C7.697 21.0121 7.66196 21.1001 7.61088 21.1788C7.5598 21.2574 7.49369 21.3252 7.41634 21.3783C7.33898 21.4313 7.25192 21.4686 7.16014 21.4879C7.06836 21.5072 6.97367 21.5082 6.8815 21.4908C6.78934 21.4734 6.70151 21.438 6.62307 21.3866C6.54463 21.3352 6.47711 21.2688 6.42439 21.1912C6.37168 21.1136 6.3348 21.0264 6.31588 20.9345C6.29696 20.8427 6.29637 20.748 6.31414 20.6559L7.2325 15.7972L3.21526 15.7991C3.02636 15.7991 2.84519 15.7241 2.71161 15.5905C2.57803 15.4569 2.50299 15.2757 2.50299 15.0868C2.50299 14.8979 2.57803 14.7168 2.71161 14.5832C2.84519 14.4496 3.02636 14.3746 3.21526 14.3746L7.50221 14.3727L8.40063 9.62416L4.16496 9.62606C3.97606 9.62606 3.79489 9.55102 3.66131 9.41744C3.52773 9.28386 3.45269 9.10269 3.45269 8.91378C3.45269 8.72488 3.52773 8.54371 3.66131 8.41013C3.79489 8.27655 3.97606 8.20151 4.16496 8.20151L8.67035 8.20056L9.63809 3.08262ZM8.42175 7.90061L9.34332 3.02688C9.39343 2.76308 9.54633 2.52974 9.7683 2.37864C9.99027 2.22754 10.2632 2.1708 10.527 2.22092C10.7908 2.27103 11.0239 2.42388 11.175 2.64585C11.326 2.86775 11.3828 3.14056 11.3327 3.40429M11.3327 3.40429L10.4826 7.89853L15.0706 7.89685L15.9912 3.02689C16.0413 2.76309 16.1942 2.52974 16.4162 2.37864C16.6382 2.22754 16.9111 2.1708 17.1749 2.22092C17.4387 2.27103 17.6718 2.42388 17.8229 2.64585C17.974 2.86782 18.0307 3.14072 17.9806 3.40452L17.1306 7.89564L20.7846 7.89391C21.0531 7.89391 21.3107 8.00056 21.5005 8.1904C21.6904 8.38024 21.797 8.63771 21.797 8.90619C21.797 9.17466 21.6904 9.43213 21.5005 9.62197C21.3107 9.81178 21.0533 9.91843 20.7849 9.91846L16.7483 9.92025L15.9634 14.0687L19.8349 14.067C20.1034 14.067 20.361 14.1736 20.5508 14.3635C20.7407 14.5533 20.8473 14.8108 20.8473 15.0792C20.8473 15.3477 20.7407 15.6052 20.5508 15.795C20.361 15.9848 20.1036 16.0915 19.8352 16.0915L15.5801 16.0933L14.6569 20.9743C14.6327 21.1051 14.5829 21.2306 14.5104 21.3422C14.4378 21.454 14.3438 21.5503 14.2339 21.6257C14.124 21.7011 14.0002 21.754 13.8698 21.7814C13.7394 21.8089 13.6048 21.8103 13.4738 21.7856C13.3428 21.7609 13.218 21.7106 13.1065 21.6375C12.995 21.5644 12.8991 21.4701 12.8242 21.3598C12.7493 21.2496 12.6968 21.1256 12.67 20.9951C12.6431 20.8648 12.6422 20.7305 12.6673 20.5998L13.5193 16.0945L8.93131 16.0962L8.00903 20.9743C7.98483 21.1051 7.93493 21.2306 7.86248 21.3422C7.78989 21.454 7.69593 21.5503 7.586 21.6257C7.47607 21.7011 7.35234 21.754 7.2219 21.7814C7.09146 21.8089 6.95689 21.8103 6.8259 21.7856C6.69492 21.7609 6.5701 21.7106 6.45862 21.6375C6.34714 21.5644 6.25118 21.4701 6.17626 21.3598C6.10134 21.2496 6.04894 21.1256 6.02205 20.9951C5.9952 20.8647 5.99432 20.7303 6.01946 20.5996L6.87045 16.0974L3.2154 16.0991C2.94693 16.0991 2.68931 15.9925 2.49948 15.8026C2.30964 15.6128 2.20299 15.3553 2.20299 15.0868C2.20299 14.8184 2.30964 14.5609 2.49948 14.3711C2.68928 14.1812 2.94671 14.0746 3.21513 14.0746L7.25363 14.0728L8.03852 9.92432L4.1651 9.92606C3.89663 9.92606 3.63902 9.81941 3.44918 9.62957C3.25934 9.43973 3.15269 9.18226 3.15269 8.91378C3.15269 8.64531 3.25934 8.38784 3.44918 8.198C3.639 8.00817 3.89645 7.90152 4.1649 7.90151L8.42175 7.90061M9.85065 9.62416L8.95241 14.3717L14.1511 14.3698L15.0495 9.62131L9.85065 9.62416ZM10.0992 9.92402L9.31452 14.0716L13.9025 14.0699L14.6874 9.92151L10.0992 9.92402Z",fill:"currentColor"})]})}function eb(){return(0,C.jsx)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:(0,C.jsx)("path",{id:"path",d:"M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z",fillRule:"nonzero",fill:"#4D6BFE"})})}function e_(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",style:{width:16,height:16},children:[(0,C.jsx)("path",{fill:"#4285f4",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),(0,C.jsx)("path",{fill:"#34a853",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18l-2.909-2.26c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z"}),(0,C.jsx)("path",{fill:"#fbbc05",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z"}),(0,C.jsx)("path",{fill:"#ea4335",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]})}function ew(){return(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.97671 3.2998C3.0897 3.2998 1.55998 4.85786 1.55998 6.77981V17.2198C1.55998 19.1418 3.0897 20.6998 4.97671 20.6998H19.0233C20.9103 20.6998 22.44 19.1418 22.44 17.2198V6.7798C22.44 4.85785 20.9103 3.2998 19.0233 3.2998H4.97671ZM4.97671 5.23314C4.13804 5.23314 3.45816 5.92561 3.45816 6.77981V7.18001L12.0001 11.8068L20.5418 7.18021V6.7798C20.5418 5.9256 19.8619 5.23314 19.0233 5.23314H4.97671ZM20.5418 9.50025L12.4962 13.8582C12.3427 13.9434 12.1689 13.9881 11.9927 13.987C11.8501 13.9861 11.7059 13.9552 11.5695 13.8915C11.5467 13.8809 11.5243 13.8695 11.5022 13.8572L3.45816 9.50005V17.2198C3.45816 18.074 4.13804 18.7665 4.97671 18.7665H19.0233C19.8619 18.7665 20.5418 18.074 20.5418 17.2198V9.50025Z",fill:"currentColor"})})}function eS(){return(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"24",viewBox:"0 0 14 24",fill:"none",children:(0,C.jsx)("path",{d:"M12.9104 1.68956C12.4369 1.21603 11.7947 0.95 11.125 0.95H2.875C2.20533 0.95 1.56308 1.21603 1.08956 1.68956C0.616026 2.16308 0.35 2.80533 0.35 3.475V20.525C0.35 21.1947 0.616026 21.8369 1.08956 22.3104C1.56308 22.784 2.20533 23.05 2.875 23.05H11.125C11.7947 23.05 12.4369 22.784 12.9104 22.3104C13.384 21.8369 13.65 21.1947 13.65 20.525V3.475C13.65 2.80533 13.384 2.16308 12.9104 1.68956ZM2.875 2.7H11.125C11.3305 2.7 11.5277 2.78165 11.673 2.92699C11.8183 3.07233 11.9 3.26946 11.9 3.475V20.525C11.9 20.7305 11.8183 20.9277 11.673 21.073C11.5277 21.2183 11.3305 21.3 11.125 21.3H2.875C2.44721 21.3 2.1 20.9528 2.1 20.525V3.475C2.1 3.26946 2.18165 3.07233 2.32699 2.92699C2.47233 2.78165 2.66946 2.7 2.875 2.7ZM8.99289 18.2555C8.82858 18.0916 8.6059 17.9997 8.37383 18L5.62383 18.0044C5.39177 18.0047 5.16933 18.0972 5.00546 18.2615C4.84158 18.4258 4.74969 18.6485 4.75 18.8806C4.75031 19.1126 4.84279 19.3351 5.00711 19.4989C5.17142 19.6628 5.3941 19.7547 5.62617 19.7544L8.37617 19.75C8.60823 19.7497 8.83067 19.6572 8.99454 19.4929C9.15842 19.3286 9.25031 19.1059 9.25 18.8738C9.24969 18.6418 9.15721 18.4193 8.99289 18.2555Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})})}function eI(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,C.jsx)("path",{d:"M12.9819 14.7816C12.9819 14.2394 12.5423 13.7998 12.0001 13.7998C11.4578 13.7998 11.0182 14.2394 11.0182 14.7816V17.0289C11.0182 17.5711 11.4578 18.0107 12.0001 18.0107C12.5423 18.0107 12.9819 17.5711 12.9819 17.0289V14.7816Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00012 6.51953V9.52051H6.42405C4.54628 9.52051 3.02405 11.0427 3.02405 12.9205V19.1205C3.02405 20.9983 4.54628 22.5205 6.42405 22.5205H17.576C19.4538 22.5205 20.976 20.9983 20.976 19.1205V12.9205C20.976 11.0427 19.4538 9.52051 17.576 9.52051H17.0001V6.51953C17.0001 3.75811 14.7615 1.51953 12.0001 1.51953C9.2387 1.51953 7.00012 3.75811 7.00012 6.51953ZM12.0001 3.51953C10.3433 3.51953 9.00012 4.86268 9.00012 6.51953V9.52051H15.0001V6.51953C15.0001 4.86268 13.657 3.51953 12.0001 3.51953ZM17.576 11.5205H6.42405C5.65085 11.5205 5.02405 12.1473 5.02405 12.9205V19.1205C5.02405 19.8937 5.65085 20.5205 6.42405 20.5205H17.576C18.3492 20.5205 18.976 19.8937 18.976 19.1205V12.9205C18.976 12.1473 18.3492 11.5205 17.576 11.5205Z",fill:"currentColor"})]})}n(43536);let eT=()=>(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{fill:"currentColor",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})});function eM(){return(0,Y.useMemo)(()=>(0,C.jsxs)("svg",{width:"267.000000",height:"216.000000",viewBox:"0 0 267 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1083_4283",children:(0,C.jsx)("rect",{width:"267.000000",height:"216.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsxs)("g",{clipPath:"url(#clip1083_4283)",children:[(0,C.jsx)("path",{id:"path",d:"M163.073 215.13C159.634 215.362 156.195 215.652 152.785 215.971C143.15 216.899 133.5 216.696 123.865 216.522C116.363 216.377 108.846 215.956 101.373 214.971C95.5831 214.202 89.9093 213.202 84.4242 211.216C82.6394 210.578 80.9126 211.477 79.2148 211.868C75.0792 212.825 70.9146 213.376 66.6629 213.55C63.4995 213.68 60.3217 214.014 57.1583 213.796C49.1338 213.231 41.0222 213.144 33.3169 210.404C32.6204 210.158 31.9529 209.853 31.2854 209.52C29.2249 208.505 29.2249 208.505 30.4002 206.592C31.2419 205.243 30.2116 203.823 28.1801 203.127C24.4218 201.837 20.5183 200.967 17.0212 198.995C16.0345 198.444 15.0913 197.778 14.2206 197.053C13.1758 196.198 13.4951 193.197 14.8446 192.167C17.2534 190.355 19.9814 189.036 22.9271 188.34C24.5959 187.949 26.2356 187.427 27.9624 187.166C31.445 186.644 34.8696 185.774 38.3522 185.224C42.5168 184.557 46.696 184.049 50.8751 183.513C52.2971 183.325 53.7482 183.672 55.1703 183.209C55.8233 182.991 56.0555 183.513 56.0555 184.122C56.0555 185.615 56.041 187.108 56.0555 188.601C56.0555 189.297 55.7798 189.573 55.0397 189.674C52.9646 189.935 50.9621 190.5 49.0902 191.457C48.2631 191.878 47.6246 191.718 46.8846 191.138C45.477 190.007 42.8651 190.544 41.8203 192.081C40.9206 193.4 41.6897 195.574 43.2424 196.589C46.5363 198.734 50.3092 199.735 54.053 199.865C57.6081 199.996 61.3084 199.575 64.7475 198.14C69.3329 196.227 74.0054 194.458 78.9972 193.864C80.5933 193.675 82.2621 193.965 83.8583 193.777C87.6601 193.356 91.2879 194.038 94.8866 195.168C97.8323 196.096 100.531 197.56 103.071 199.184C105.9 200.996 109.006 201.764 112.184 202.46C116.842 203.46 121.412 203.04 125.94 201.735C127.971 201.155 130.046 200.648 131.875 199.561C133.297 198.72 134.414 199.662 135.531 200.141C139.478 201.822 143.512 202.953 147.851 203.17C153.51 203.446 158.604 201.866 163.61 199.387C167.02 197.691 170.183 195.531 174.058 194.704C176.815 194.11 179.514 193.878 182.315 193.777C185.928 193.646 189.497 193.748 192.922 194.878C196.347 196.009 199.67 197.401 203.022 198.734C204.299 199.242 205.634 199.59 206.969 199.648C211.336 199.822 215.704 199.894 219.869 198.227C221.088 197.749 222.263 197.241 223.351 196.502C224.483 195.734 225.542 194.849 225.18 193.298C224.788 191.646 223.642 190.616 221.944 190.558C220.725 190.515 219.303 190.152 218.374 191.457C218.084 191.863 217.779 191.602 217.474 191.457C215.646 190.529 213.658 190.123 211.656 189.819C210.712 189.674 210.408 189.268 210.451 188.355C210.524 187.036 210.538 185.702 210.451 184.397C210.364 183.237 210.93 182.904 211.888 183.136C225.064 183.064 238.37 186.238 240.619 186.789C246.554 188.239 248.528 189.544 251.749 191.878C254.23 193.675 254.172 196.299 251.691 198.01C248.455 200.242 244.682 201.199 241.026 202.431C240.053 202.764 239.052 203.011 238.138 203.417C236.266 204.258 235.99 205.388 237.369 206.809C238.37 207.838 237.819 208.418 236.948 208.969C234.452 210.535 231.623 211.173 228.778 211.738C218.272 213.84 207.636 214.13 196.985 213.738C192.095 213.565 187.234 212.738 182.503 211.332C182.053 211.202 181.937 211.173 181.212 211.231C180.907 211.26 180.573 211.173 180.515 210.694C179.964 209.027 177.918 207.664 174.812 207.534C171.707 207.403 170.72 207.635 167.368 208.708C165.105 209.433 160.215 214.202 163.073 215.13ZM216.676 201.663C214.137 201.561 209.755 201.518 207.346 202.083C203.167 203.069 199.133 203.997 195.026 205.272C194.547 205.417 194.126 205.765 193.72 206.055C192.922 206.635 192.617 207.519 193.053 208.331C193.488 209.158 194.243 209.404 195.36 209.172C199.815 208.244 203.965 206.273 208.507 205.62C212.512 205.055 216.502 204.953 220.493 205.345C223.685 205.649 226.66 206.925 229.664 208.012C231.057 208.52 231.956 207.824 232.537 206.882C233.204 205.78 232.319 205.142 231.361 204.649C230.926 204.432 223.032 201.605 216.676 201.663ZM62.121 209.042C63.6301 209.042 65.1393 209.042 66.6339 209.042C67.5481 209.042 68.5203 208.882 68.5348 207.766C68.5493 206.737 67.6787 206.345 66.75 206.229C66.3001 206.171 65.8213 206.2 65.3569 206.229C57.6081 206.476 49.9899 205.707 42.5168 203.605C41.0802 203.199 39.5856 202.924 38.1055 202.707C37.2639 202.576 36.6254 203.069 36.4513 203.91C36.2626 204.823 36.8576 205.272 37.6702 205.49C38.2361 205.635 38.8166 205.693 39.368 205.838C46.8266 207.737 54.3432 209.331 62.121 209.042ZM78.3442 206.244C76.095 206.606 73.4395 207.548 70.813 208.578C70.0149 208.882 70.1455 209.23 70.7405 209.752C72.2206 211.071 73.7152 210.143 75.0357 209.679C77.8508 208.694 80.5788 208.679 83.3069 209.781C84.2791 210.172 85.2078 210.491 86.2671 210.404C86.746 210.361 87.2103 210.274 87.3119 209.708C87.3989 209.187 87.1232 208.766 86.6734 208.592C84.1485 207.65 81.7397 206.2 78.3442 206.244Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M245.669 178.178C249.602 178.541 253.244 179.613 256.857 180.802C259.063 181.527 261.254 182.339 263.3 183.469C263.605 183.629 264.025 183.687 264.199 183.933C264.664 184.6 266.144 184.789 265.462 185.977C264.78 187.152 263.808 186.485 262.908 186.079C258.25 183.991 253.534 182.034 248.484 181.049C247.381 180.831 246.337 180.353 245.292 179.903C244.871 179.715 244.131 179.628 244.247 178.947C244.378 178.12 245.292 178.41 245.669 178.178Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M2.97476 186.586C2.32176 186.717 1.74133 186.354 1.61073 185.818C1.48013 185.311 1.90096 184.847 2.42334 184.499C5.78987 182.266 9.62074 181.193 13.4371 180.063C15.5557 179.439 17.7178 178.947 19.8799 178.483C20.6635 178.309 21.4761 178.323 22.2887 178.323C22.8547 178.323 23.5076 178.468 23.6382 179.106C23.7979 179.816 23.0433 179.845 22.637 180.034C20.2427 181.135 17.5872 181.266 15.0768 182.005C11.4636 183.078 7.98101 184.426 4.61449 186.05C4.10661 186.296 3.62775 186.688 2.97476 186.586Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M10.7671 206.07C10.1576 206.795 9.50463 207.461 8.47437 207.171C5.65926 206.374 3.14886 204.968 0.885178 203.141C0.362778 202.721 -0.449829 202.228 0.261215 201.315C0.928711 200.474 1.9735 199.633 2.82964 200.445C5.00626 202.504 7.61822 203.837 10.1286 205.388C10.3608 205.533 10.5349 205.809 10.7671 206.07Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M264.765 200.373C265.622 200.373 266.362 200.59 266.724 201.3C267.087 202.025 266.608 202.591 266.042 203.069C263.764 204.968 261.37 206.606 258.366 207.215C257.423 207.403 256.813 206.824 256.494 206.36C256.175 205.881 256.799 205.287 257.408 204.997C258.163 204.635 258.918 204.243 259.672 203.866C260.978 203.228 262.342 202.75 263.097 201.271C263.314 200.851 264.011 200.228 264.765 200.373Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M212.773 168.726C222.35 167.175 226.486 159.014 224.628 150.722C224.222 148.924 223.264 147.3 222.321 145.691C219.274 140.443 215.182 136.036 211.075 131.63C210.611 131.137 210.103 130.774 210.045 129.933C209.61 124.396 209.653 118.858 209.74 113.32C209.885 104.158 209.029 95.1559 206.635 86.284C204.516 78.4558 201.512 71.0045 197.174 64.2056C193.967 59.1753 189.686 54.9423 185.101 51.0862C162.957 32.3855 137.984 26.5143 110.094 35.0964C89.7352 41.3589 75.0792 54.5798 65.1973 73.2805C62.4693 78.4413 60.5974 83.9066 59.0882 89.5602C57.4775 95.5474 56.1861 101.52 55.9104 107.725C55.5911 114.9 55.7943 122.076 55.7362 129.252C55.7362 130.18 55.4751 130.832 54.8075 131.513C50.2802 136.109 46.4203 141.197 43.2424 146.836C41.5882 149.75 40.732 152.78 41.1238 156.1C41.5881 159.999 43.373 163.189 46.4928 165.653C49.0032 167.639 51.8764 168.61 54.9672 168.944C55.9249 169.045 56.0265 169.437 56.07 170.234C56.3602 175.786 55.5331 181.295 55.6056 186.833C55.6056 187.789 55.1703 188.079 54.2416 188.152C52.3987 188.311 50.6429 188.92 48.9742 189.718C48.3647 190.007 47.6972 190.355 47.6392 191.153C47.5811 192.023 48.3067 192.327 48.9306 192.588C52.8921 194.298 56.9116 194.125 60.9602 192.892C61.7873 192.646 61.8598 192.023 61.8598 191.254C61.8598 182.165 62.0049 173.075 61.8743 164C61.8453 161.739 62.5854 160.521 64.4428 159.304C69.5941 155.94 74.3682 152.041 77.9234 146.952C81.7542 141.458 79.6937 135.79 73.3524 133.601C70.102 132.485 66.7645 132.441 63.4125 132.905C62.1501 133.079 61.8743 132.688 61.8889 131.485C61.9469 123.497 61.9614 115.509 61.9324 107.522C61.9324 106.376 62.092 106.057 63.3545 106.376C70.8421 108.319 78.3587 110.146 85.8608 112.088C87.1233 112.407 87.9794 112.247 88.9661 111.363C93.7257 107.043 99.1383 103.709 105.218 101.592C119.018 96.7796 133.181 96.1273 147.532 98.2148C158.865 99.8529 169.269 103.608 177.584 111.9C178.295 112.61 178.948 112.45 179.79 112.219C187.277 110.232 194.779 108.304 202.253 106.304C203.718 105.912 204.153 106.231 204.139 107.783C204.095 115.712 204.139 123.642 204.182 131.572C204.182 132.572 204.037 133.065 202.876 132.92C201.788 132.789 200.671 132.891 199.583 132.847C196.114 132.673 192.791 132.833 189.672 134.746C186.827 136.5 184.941 141.168 186.174 144.184C188.104 148.866 191.456 152.374 195.302 155.534C195.998 156.1 196.796 155.882 197.42 156.433C199.118 157.941 201.135 158.999 203.051 160.173C203.733 160.594 204.008 161.043 204.008 161.826C204.008 164.479 204.095 167.146 204.095 169.799C204.124 176.975 204.168 184.151 204.095 191.327C204.095 192.559 204.531 193.037 205.619 193.371C207.085 193.835 208.623 193.501 210.059 194.009L210.756 194.009C211.627 193.588 212.57 193.835 213.469 193.704C214.616 193.53 215.762 193.371 216.734 192.675C218.2 191.617 218.098 190.239 216.473 189.515C214.877 188.804 213.179 188.456 211.467 188.181C210.611 188.036 210.233 187.789 210.277 186.905C210.538 182.005 209.406 177.163 209.697 172.235C209.871 169.147 209.74 169.219 212.773 168.726ZM69.2314 134.253C60.9166 134.804 53.4871 137.095 47.2474 142.618C49.1919 136.776 62.9191 131.47 69.2314 134.253ZM194.736 96.4606C191.732 97.3159 189.019 98.9106 185.971 99.6644C179.819 101.187 173.448 96.6636 172.868 90.3286C172.012 80.8333 180.065 73.9183 189.367 76.1798C193.459 77.1801 196.753 79.3546 199.307 82.6888C200.468 84.211 201.092 85.9071 201.034 88.0236C201.034 92.1406 198.842 95.3009 194.736 96.4606Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M123.734 29.6746C124.764 29.3557 139.856 29.0803 146.415 30.095C146.792 25.7315 146.168 21.5565 145.051 17.4539C143.571 12.0177 142.163 6.53796 138.434 2.04401C136.315 -0.507385 134.022 -0.724854 131.643 1.60913C130.133 3.07324 129.045 4.85638 128.145 6.74091C124.852 13.7138 123.27 21.0926 122.965 28.7614C122.951 29.2977 122.907 29.921 123.734 29.6746Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M182.895 86.7189C180.225 86.7334 178.048 88.8354 178.077 91.3433C178.121 93.7643 180.472 96.1852 182.706 96.0982C185.318 95.9968 187.205 93.9817 187.161 91.3288C187.118 88.5455 185.42 86.7044 182.895 86.7189Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"polygon",d:"M187.161 71.8453L168.094 75.7449L166.89 92.3291L169.066 98.7221L181.125 103.187L198.741 100.041L204.052 98.1132L204.052 86.7189L195.461 75.7449L187.161 71.8453Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M189.149 83.0948C188.279 80.1229 188.046 79.0647 186.204 74.8896C184.245 71.309 182.895 68.7866 180.646 66.9455C178.223 64.9885 175.364 63.5823 172.317 64.2636C172.041 64.3651 170.764 65.0319 170.445 65.3654C169.443 66.3947 169.792 67.5834 170.474 68.2212C170.88 68.6271 171.446 69.1345 172.157 69.3665C174.072 69.9608 175.712 70.8016 176.742 72.3528C178.005 74.2663 178.092 75.9624 176.844 78.1949C176.278 79.2242 175.538 81.1087 175.407 82.4424C175.103 85.5447 176.249 86.9219 177.729 89.2123C178.687 90.691 180.776 92.3001 182.982 92.851C184.404 93.2279 186.015 93.1699 187.655 93.0105C189.556 92.822 190.542 91.8508 190.499 90.2851C190.397 87.7772 189.846 85.4142 189.149 83.0948Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M77.0382 81.5001C77.8073 78.5138 78.0105 77.441 79.7227 73.208C81.5656 69.5693 82.8281 67.0035 85.0192 65.0899C87.3845 63.0604 90.1851 61.5672 93.2614 62.1326C93.5516 62.2195 94.8286 62.8429 95.1623 63.1763C96.1926 64.1766 95.8878 65.3798 95.2349 66.0322C94.8431 66.4526 94.2917 66.9745 93.5951 67.2209C91.6942 67.8732 90.0835 68.772 89.1113 70.3522C87.9214 72.2947 87.8779 74.0053 89.1838 76.1943C89.7788 77.2091 90.5769 79.0646 90.751 80.3984C91.1573 83.4861 90.0545 84.9068 88.6469 87.2408C87.7473 88.7484 85.7012 90.4155 83.5101 91.0389C82.1025 91.4593 80.4918 91.4448 78.8521 91.3578C76.9367 91.2274 75.9209 90.285 75.9209 88.7194C75.9354 86.197 76.4288 83.8486 77.0382 81.5001Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("ellipse",{id:"circle",cx:"93.667694",cy:"73.237000",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,C.jsx)("ellipse",{id:"circle",cx:"172.200531",cy:"74.498230",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,C.jsx)("g",{opacity:"0.500000",children:(0,C.jsx)("path",{id:"path",d:"M183.867 187.992C188.148 188.224 192.298 189.051 196.521 190.645C196.55 190.051 196.593 189.645 196.593 189.254C196.593 164.769 196.593 140.284 196.593 115.799C196.593 115.567 196.579 115.335 196.593 115.103C196.637 114.407 196.39 114.19 195.679 114.378C193.967 114.813 179.224 118.409 164.8 121.946L164.8 192.689C170.604 189.196 177.004 187.601 183.867 187.992Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,C.jsx)("g",{opacity:"0.700000",children:(0,C.jsx)("path",{id:"path",d:"M132.992 129.73L132.992 194.429C134.777 194.4 136.388 195.183 138.013 195.792C147.242 199.285 155.89 198.242 164.234 193.008C164.423 192.892 164.611 192.791 164.8 192.675L164.8 121.931C153.017 124.816 141.437 127.643 137.302 128.672C135.865 129.035 134.429 129.484 132.992 129.73Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,C.jsx)("g",{opacity:"0.200000",children:(0,C.jsx)("path",{id:"path",d:"M127.826 129.18C127.173 128.875 114.447 125.468 101.184 121.989L101.184 191.95C102.418 192.617 103.608 193.371 104.739 194.241C109.644 197.459 115.187 197.56 120.643 197.56C123.807 197.56 127.057 196.792 129.93 195.168C130.438 194.878 130.99 194.791 131.527 194.632C132.02 194.487 132.499 194.429 132.978 194.429L132.978 129.73C131.294 130.02 129.597 130.006 127.826 129.18Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,C.jsx)("g",{opacity:"0.100000",children:(0,C.jsx)("path",{id:"path",d:"M71.3935 114.335C69.5216 113.915 69.5216 114.552 69.5506 115.944C69.6232 121.076 69.6957 126.222 69.5942 131.354C69.5651 132.833 70.1165 133.152 71.3645 133.398C74.1941 133.949 76.7335 135.167 78.5764 137.457C79.3164 138.385 79.6067 139.704 80.4048 140.559C83.8148 144.213 83.3214 148.301 81.5511 152.273C79.4906 156.912 75.6307 160.115 71.4951 162.855C70.015 163.827 69.5071 164.841 69.5216 166.494C69.5942 172.032 69.5651 177.584 69.5796 183.122C69.5796 184.89 69.5506 186.644 69.5796 188.413C69.6232 190.616 69.8118 190.689 71.8724 190.051C73.1929 189.631 74.4698 189.138 75.8338 188.833C81.2754 187.674 92.1731 187.094 101.199 191.95L101.199 121.989C87.9069 118.51 74.0925 114.929 71.3935 114.335Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,C.jsx)("path",{id:"path",d:"M155.527 150.127L118.089 187.529L110.587 180.048L148.04 142.647L155.527 150.127Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M118.06 142.632L155.498 180.034L148.011 187.529L110.573 150.113L118.06 142.632Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),[])}n(98067);var ej=n(22960);n(72575);let ek=(0,Y.createContext)(null);function eA(){return(0,Y.useContext)(ek)}function eR(e){let{status:t="none",labelSize:n="m",label:a,labelSuffix:r,children:o,description:s,feedback:i,className:l,showFeedbackPlaceholder:d,contentStyle:c,feedbackStyle:u,style:h}=e,p=(0,Y.useMemo)(()=>({status:t}),[t]),g=(0,ej.y)(i,i,!!i),m=(0,ej.y)(i,t,!!i),[f,v]=(0,Y.useState)(!1);return(0,C.jsx)(ek.Provider,{value:p,children:(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-form-item"),"".concat(J.F,"-form-item--").concat(f?m.current:t),"".concat(J.F,"-form-item--label-").concat(n),l),style:h,children:[a?(0,C.jsxs)("label",{className:"".concat(J.F,"-form-item__label"),children:[(0,C.jsx)("span",{className:"".concat(J.F,"-form-item__label-text"),children:a}),r&&(0,C.jsx)("span",{className:"".concat(J.F,"-form-item__label-suffix"),children:r})]}):null,(0,C.jsx)("div",{className:"".concat(J.F,"-form-item__content"),style:c,children:o}),s?(0,C.jsx)("div",{className:"".concat(J.F,"-form-item__description"),children:s}):null,d||i?(0,C.jsx)("div",{className:"".concat(J.F,"-form-item__feedback"),style:u,"data-transform-origin":"top",children:(0,C.jsx)(eo.j,{onExit:()=>v(!0),onExited:()=>v(!1),appear:!1,in:!!i,children:e=>(0,C.jsx)("div",{ref:e,className:"".concat(J.F,"-form-item__feedback-content"),children:i||g.current})})}):null]})})}n(13176);let eN=(0,Y.memo)(function(){return(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.80769 2.80754C2.41717 3.19807 2.41717 3.83123 2.80769 4.22176L19.7783 21.1923C20.1688 21.5828 20.8019 21.5828 21.1925 21.1923C21.583 20.8018 21.583 20.1686 21.1925 19.7781L4.22191 2.80754C3.83138 2.41702 3.19822 2.41702 2.80769 2.80754ZM0.853566 11.0499C1.81667 9.66931 2.87124 8.49162 3.9897 7.52506L5.33664 8.87201C4.34176 9.71473 3.38404 10.7628 2.49107 12.0246C4.64797 15.3395 8.05011 17.8002 11.9841 17.8002C12.6828 17.8002 13.3682 17.7204 14.0349 17.5703L15.5771 19.1125C14.4412 19.4899 13.238 19.6998 11.9841 19.6998C7.16233 19.6998 3.20136 16.6654 0.820516 12.9394C0.639165 12.6577 0.545108 12.3286 0.550199 11.9935C0.555305 11.6575 0.660199 11.3301 0.851082 11.0534L0.853566 11.0499ZM7.8 11.9998C7.8 11.7895 7.81547 11.5827 7.84532 11.3807L12.6191 16.1545C12.4171 16.1843 12.2103 16.1998 12 16.1998C9.68041 16.1998 7.8 14.3194 7.8 11.9998ZM11.3808 7.84513L16.1547 12.619C16.1845 12.4169 16.2 12.2102 16.2 11.9998C16.2 9.68021 14.3196 7.7998 12 7.7998C11.7896 7.7998 11.5829 7.81527 11.3808 7.84513ZM21.5137 12.0017C20.7374 13.196 19.7909 14.2808 18.7162 15.1805L20.0631 16.5274C21.2822 15.4826 22.335 14.2461 23.1806 12.9222C23.3571 12.6472 23.4509 12.3273 23.4509 12.0005C23.4509 11.673 23.3565 11.3522 23.1793 11.0767L23.178 11.0747C20.7897 7.38605 16.7263 4.2998 11.9841 4.2998C10.7917 4.2998 9.60227 4.50324 8.43887 4.90318L9.97269 6.43699C10.6474 6.27837 11.3204 6.2002 11.9841 6.2002C15.8389 6.2002 19.3439 8.71129 21.5137 12.0017Z",fill:"currentColor"})})}),eL=(0,Y.memo)(function(){return(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.853566 11.0498C3.9301 6.63986 7.93993 4.2998 11.9841 4.2998C16.7263 4.2998 20.7897 7.38605 23.178 11.0747L23.1793 11.0767C23.3565 11.3522 23.4509 11.673 23.4509 12.0005C23.4509 12.3273 23.3571 12.6472 23.1806 12.9222C20.7935 16.6596 16.7554 19.6998 11.9841 19.6998C7.16233 19.6998 3.20136 16.6654 0.820516 12.9394C0.639165 12.6577 0.545108 12.3286 0.550199 11.9935C0.555305 11.6575 0.660199 11.3301 0.851082 11.0534L0.853566 11.0498ZM2.49107 12.0246C4.64797 15.3395 8.05011 17.8002 11.9841 17.8002C15.8763 17.8002 19.3535 15.3248 21.5137 12.0017C19.3439 8.71129 15.8389 6.2002 11.9841 6.2002C8.75169 6.2002 5.30085 8.05427 2.49107 12.0246ZM7.8 11.9998C7.8 9.68021 9.68041 7.7998 12 7.7998C14.3196 7.7998 16.2 9.68021 16.2 11.9998C16.2 14.3194 14.3196 16.1998 12 16.1998C9.68041 16.1998 7.8 14.3194 7.8 11.9998ZM12 9.5332C10.6377 9.5332 9.53334 10.6376 9.53334 11.9999C9.53334 13.3622 10.6377 14.4665 12 14.4665C13.3623 14.4665 14.4667 13.3622 14.4667 11.9999C14.4667 10.6376 13.3623 9.5332 12 9.5332Z",fill:"currentColor"})})});var eF=n(48207);function eO(e){let{type:t="text",status:n,icon:a,placeholder:r,className:o,prefix:s,disabled:i=!1,variant:l="filled",maxLength:d,style:c,size:u="m",passwordVisible:h=!1,defaultValue:p,value:g,readOnly:m,domRef:f,domProps:v,inputDomRef:x,inputDomProps:E,componentRef:y,theme:b,autosize:_,onKeyDown:w,onFocus:S,onBlur:I,onChange:T,autoFocus:M}=e,j=eA(),k=(null!=n?n:null==j?void 0:j.status)||"none",A=null==v?void 0:v.onMouseDown,R=(0,Y.useCallback)(e=>{var t;null==A||A(e),e.target!==N.current&&(e.preventDefault(),null===(t=N.current)||void 0===t||t.focus())},[A]),N=(0,Y.useRef)(null);x&&(N=x);let L=(0,Y.useRef)(!1),F=(0,Y.useCallback)(()=>{L.current=!0},[]),O=(0,Y.useCallback)(e=>{L.current=!1,null==T||T(e,{isComposing:!1})},[T]),[P,D]=(0,Y.useState)(null!=g?g:p),B=(0,ec.$0)(e=>{D(e.target.value),null==T||T(e,{isComposing:L.current})}),z=(0,Y.useRef)(null),[H,U]=(0,Y.useState)(null);(0,Y.useLayoutEffect)(()=>{if(_){var e;let t=null===(e=z.current)||void 0===e?void 0:e.offsetWidth;void 0!==t&&U(t)}},[P,_]),(0,Y.useImperativeHandle)(y,()=>({isComposingRef:L}),[L]),(0,Y.useLayoutEffect)(()=>{M&&N.current&&N.current.focus()},[M]);let{passwordIsVisible:V,setPasswordIsVisible:W,mergedInputType:G}=function(e){let{passwordVisible:t,inputType:n}=e,[a,r]=(0,Y.useState)(!1);return{passwordIsVisible:!!t&&a,setPasswordIsVisible:r,mergedInputType:"password"===n&&t&&a?"text":n}}({passwordVisible:h,inputType:t});return(0,C.jsxs)("div",{...v,className:(0,er.Z)("".concat(J.F,"-input"),"".concat(J.F,"-input--").concat(k),"".concat(J.F,"-input--").concat(l),"".concat(J.F,"-input--").concat(u),i&&"".concat(J.F,"-input--disabled"),null==v?void 0:v.className,o),style:{"--ds-input-text-color":null==b?void 0:b.textColor,"--ds-input-placeholder-color":null==b?void 0:b.placeholderColor,"--ds-input-icon-color":null==b?void 0:b.iconColor,"--ds-input-prefix-text-color":null==b?void 0:b.prefixTextColor,"--ds-input-padding":null==b?void 0:b.padding,"--ds-input-border-radius":null==b?void 0:b.borderRadius,"--ds-input-height":null==b?void 0:b.height,"--ds-input-font-size":null==b?void 0:b.fontSize,"--ds-input-line-height":null==b?void 0:b.lineHeight,"--ds-input-prefix-margin":null==b?void 0:b.prefixMargin,"--ds-input-icon-size":null==b?void 0:b.iconSize,"--ds-rgba-input":null==b?void 0:b.color,"--ds-input-font-weight":null==b?void 0:b.fontWeight,"--ds-input-focus-color":null==b?void 0:b.focusColor,"--ds-input-focus-border-color":null==b?void 0:b.focusBorderColor,width:_?H:void 0,...null==v?void 0:v.style,...c},onMouseDown:R,ref:f,children:[a?(0,C.jsx)("div",{className:"".concat(J.F,"-input__icon"),children:a}):null,void 0===s?null:(0,C.jsx)("div",{className:"".concat(J.F,"-input__prefix"),children:s}),(0,C.jsx)("input",{...E,defaultValue:p,value:g,readOnly:m,maxLength:d,disabled:i,type:G,className:"".concat(J.F,"-input__input"),ref:N,placeholder:r,onChange:B,onBlur:I,onFocus:S,onKeyDown:w,onMouseDown:R,onCompositionStart:F,onCompositionEnd:O,size:1}),_?(0,C.jsx)("div",{ref:z,className:"".concat(J.F,"-input__mirror"),children:P}):null,"password"===t&&h&&(0,C.jsx)("div",{className:"".concat(J.F,"-input__password-toggle"),children:(0,C.jsx)(eF.h,{onMousedown:e=>{e.preventDefault(),e.stopPropagation();let t=e=>{e.preventDefault(),(0,eu.S)("mouseup",document,t)};(0,eu.on)("mouseup",document,t)},onClick:()=>{W(!V)},children:V?(0,C.jsx)(eN,{}):(0,C.jsx)(eL,{})})})]})}var eP=n(71780);let eD={zh_CN:{bannedPageBackToHome:"回到首页",bannedPageSlogan:"由于违反用户使用规范，你的账户已被停用，如有疑问请查看[常见问题](https://api-docs.deepseek.com/zh-cn/faq)。",commonInvalidTokenToast:"登录信息已失效，请重新登录",commonMobileNumberVerificationToast:"请完成实名认证",commonUnderAuditingToast:"你的账户正在审核中",commonUserIsBannedToast:"由于违反用户使用规范，你的账户已被停用",contactUsButton:"联系我们",deleteAccount:"注销账号",deleteAccountFailedToast:"账号注销失败",deleteAccountFrequentFailToast:"注销失败，近期你的注销操作过于频繁，请稍后再试。",deleteAccountModalCancel:"取消",deleteAccountModalConfirm:"确认注销",deleteAccountModalConfirmText:"确认注销我的账号",deleteAccountModalContent:(e,t)=>"如点击“确认”，信息将无法找回，您将无法访问 DeepSeek 的所有服务，包括对话服务和开放平台。\n**如您的开放平台账户中尚有未消费的充值余额，注销即视为放弃余额。频繁重复注销可能会被系统判定为异常行为，导致账号受限或永久封禁。**\n如有任何疑问，请邮件（".concat(e,"）联系我们。\n确认要注销吗？\n如确认注销，请在输入框中输入**").concat(t,"**："),deleteAccountModalTitle:"注销账号",deleteAccountOkToast:"账号注销成功",deleteAccountSettingDialogButton:"注销",emailCodeCloudErrorToast:"邮箱服务出现异常，请稍后再试",emailCodeFrequentToast:"1 分钟内仅能发送一次验证码",emailDomainNotInWhitelistToast:"验证码发送失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",emailFormatErrorToast:"邮箱格式不正确",exectionEnvironmentExecptionToast:"当前浏览器运行环境异常，请切换执行环境尝试",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"扫码联系我们",forgotPassword:"忘记密码",forgotPasswordBackToSignIn:"返回登录",forgotPasswordButton:"重置密码",forgotPasswordCheckCodeFailedToast:"验证失败，请重试",forgotPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",forgotPasswordCodeInvalidToast:"验证码错误，请检查输入",forgotPasswordConfirmPasswordInputPlaceholder:"请确认新密码",forgotPasswordDescription:"请输入你注册的邮箱地址用于接收验证码，我们将为你重置密码。",forgotPasswordDescriptionCn:"请输入你注册的手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordFailedCodeExpiredToast:"密码重置失败，重置时效已过期，请返回上一步重新操作",forgotPasswordFailedCodeVerifyFailedToast:"密码重置失败，验证码错误，请返回上一步重新操作",forgotPasswordFailedEmailNotExistToast1:"邮箱地址未注册，请重试",forgotPasswordFailedEmailNotExistToast2:"密码重置失败，邮箱地址未注册，请返回上一步重新操作",forgotPasswordFailedMobileNotExistToast1:"手机号未注册，请重试",forgotPasswordFailedMobileNotExistToast2:"密码重置失败，手机号未注册，请返回上一步重新操作",forgotPasswordFailedToast:"密码重置失败，请稍后再试",forgotPasswordGeneralDescription:"请输入你注册的邮箱或手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordGetBack:"返回",forgotPasswordInputPlaceholder:"请输入邮箱 / +86手机号",forgotPasswordInvalidPasswordToast:"密码不合法，请重新输入",forgotPasswordNewPasswordDescription:e=>"你正在重置 ".concat(e," 的密码，请输入新密码。"),forgotPasswordNextStepButton:"下一步",forgotPasswordOkToast:"密码已重置，即将跳转到登录页面",forgotPasswordPasswordInputPlaceholder:"请输入新密码",forgotPasswordSecondaryDescription:"你的新密码将同时适用于 DeepSeek 的所有服务。",forgotPasswordTitle:"重置统一登录密码",goToSignIn:"返回登录",goToSignUp:"立即注册",hcaptchaLoadFailToast:"验证码加载失败，请刷新重试",inputEmail:"请输入邮箱",inputEmailVerificationCode:"请输入验证码",inputMobilePhoneNumber:"请输入手机号",inputPassword:"请输入密码",inputPasswordAgain:"请再次输入密码",inputSmsVerificationCode:"请输入验证码",loginAccountBannedToast:"由于违反用户使用规范，你的账户已被停用",mainlandLoginWaysTip:"你所在地区仅支持 手机号 / 微信 / 邮箱 登录",mainlandSignUpWaysTip:"你所在地区仅支持手机号注册，",mobileCodeAlreadyBoundToast:"手机号已被绑定",mobileCodeAlreadyVerifiedToast:"该账户已绑定手机号",mobileCodeCloudErrorToast:"短信服务出现异常，请稍后再试",mobileCodeFrequentToast:"1 分钟内仅能发送一次验证码",mobileVerficationFormAccountAlreadyExistsErrorToast:"绑定失败，该手机号已被绑定",mobileVerficationFormDescription:"为保障账号安全，首次登录请绑定手机号",mobileVerficationFormExistingMobileOkToast:"登录成功",mobileVerficationFormGetProfileFailedErrorToast:"绑定失败，获取微信账户信息失败",mobileVerficationFormInvalidAddrToast:"无效的页面地址，请重新扫码授权",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"绑定失败，该手机号账户已被禁用",mobileVerficationFormNewMobileOkToast:"登录成功",mobileVerficationFormRegistrationExpiredErrorToast:"绑定失效，请重新扫码授权",mobileVerficationFormSmsExpiredCodeErrorToast:"验证码无效，请重新获取并验证",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"验证码错误，请重新输入",mobileVerficationFormSubmitButton:"绑定",mobileVerficationFormTitle:"绑定手机号",mobileVerficationFormUnknownErrorToast:"绑定操作遇到问题，请稍后再试",overseaLoginWaysTip:"你所在地区仅支持 邮箱 / Google / +86手机号 登录",overseaSignUpWaysTip:"你所在地区仅支持邮箱注册，",passwordSignInAcknowledgement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t]}),privacyPolicy:"隐私政策",privacyPolicyFile:"DeepSeek隐私政策.html",registerAgreementCheckboxEmptyError:"请同意并勾选服务条款",registerConfirmPasswordEmptyError:"请填写确认密码",registerDescription:"只需一个 DeepSeek 账号，即可访问 DeepSeek 的所有服务。",registerEmailDomainNotSupportedToast:"注册失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",registerEmailEmptyError:"请填写邮箱地址",registerEmailExistToast:"邮箱已被注册",registerEmailInputInvalidError:"邮箱格式不正确",registerEmailPasscodeFailedToast:"验证码错误，请重新输入",registerInvalidPasswordToast:"密码不合法",registerMobileEmptyError:"请填写手机号码",registerMobileExistToast:"手机号已被注册",registerMobileInputInvalidError:"手机号码格式不正确",registerPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",registerPasswordEmptyError:"请填写密码",registerPasswordInvalidError:"密码包含非法字符",registerPasswordLengthError:"密码长度在 8 到 50 位之间",registerPasswordNotMatchError:"两次输入的密码不一致",registerRegisterFromMainlandToast:"本服务暂时只支持大陆用户的手机号注册",registerVerificationCodeEmptyError:"请填写验证码",registerVerificationCodeInvalidError:"验证码格式不正确",requestTooFrequentToast:"请求过于频繁，请稍后再试",sendVerificationCode:"发送验证码",serviceStatus:"服务状态",signIn:"登录",signInAgreement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["我已阅读并同意 ",e," 与 ",t]}),signInBySmsAgreement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["我已阅读并同意 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),signInDividerOr:"或",signInEmailAndPhoneEmptyError:"请填写手机号/邮箱地址",signInEmailAndPhoneInvalidError:"请填写有效的手机号/邮箱地址",signInEmailAndPhonePlaceholder:"请输入手机号/邮箱地址",signInFailed:"登录失败",signInFormTabByPasswordOption:"密码登录",signInFormTabBySmsOption:"验证码登录",signInOk:"登录成功",signInPasswordEmailErrorToast:"手机号码/邮箱地址或密码错误，请重新填写",signInPasswordEmptyError:"请填写密码",signInUserIsBannedToast:"由于违规次数过多，你的账户已被停用",signInWithGoogle:"使用 Google 账号登录",signInWithGoogleFailedToast:"Google 登录服务遇到问题，请稍后再试",signInWithGoogleGetProfileFailedToast:"获取 Google 用户信息失败，请稍后再试",signInWithGoogleNetworkFailedToast:"Google 服务器连接失败，请稍后再试",signInWithGoogleSwapCodeFailedToast:"Google 登录请求未成功，请稍后再试",signInWithWechat:"使用微信扫码登录",signInWithWechatAgreement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["扫码默认已阅读并同意 ",e," 与 ",t]}),signInWithWechatFailedToast:"微信登录服务遇到问题，请稍后再试",signInWithWechatGetProfileFailedToast:"获取微信用户信息失败，请稍后再试",signInWithWechatNetworkFailedToast:"微信服务器连接失败，请稍后再试",signInWithWechatQRcodeDialogDescription:"微信扫码登录",signInWithWechatSwapCodeFailedToast:"微信登录请求未成功，请稍后再试",signUp:"注册",signUpAcknowledgement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["注册即代表已阅读并同意我们的 ",e," 与 ",t]}),signUpByMobileOkToast:"注册成功",signUpFailedToast:"注册失败",signUpOkToast:"注册成功",smsSignInAcknowledgement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),submitApplication:"提交申请",termsOfUse:"用户协议",termsOfUseFile:"DeepSeek用户协议.html",underAuditingDescription:"正在审核中，请稍候片刻",validateMobileNumberAlreadyBoundToast:"该手机号已被绑定",validateMobileNumberAlreadyVerifiedToast:"该账户已绑定手机号",validateMobileNumberBackToSignIn:"返回登录",validateMobileNumberBindFailedToast:"绑定失败",validateMobileNumberEmptyError:"请至少选择一个用途",validateMobileNumberEmptyFeedback:"请输入手机号码",validateMobileNumberInvalidMobileFeedback:"手机号码格式不正确",validateMobileNumberInvalidToast:"手机号码格式不正确",validateMobileNumberNotMobileFeedback:"手机号码格式无法识别，请核对",validateMobileNumberOkToast:"绑定成功",validateMobileNumberOkToast2:"验证成功",validateMobileNumberUnknownErrorToast:"验证失败，请重试",validateMobileNumberUsage1:"商业办公",validateMobileNumberUsage2:"科学研究",validateMobileNumberUsage3:"兴趣娱乐",validateMobileNumberUsage4:"其他",validateMobileNumberUsageLabel:"用途",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"验证码无效，请重新获取并验证",validateMobileNumberVerificationCodeIncorrectToast:"验证码错误，请重新输入",validateMobileNumberVerificationCodeInvalidToast:"验证码格式不正确",verificationCodeCountDown:e=>"".concat(e," 秒后可再次获取"),verificationCodeSentFailed:"发送失败，请稍后再试",verificationEmailCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e,"，请检查你的收件箱和垃圾邮件文件夹。"),verificationSmsCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e),verifyPhoneModalBackButton:"返回",verifyPhoneModalCallingCodeInputPlaceholder:"地区",verifyPhoneModalCodeInputLabel:e=>"输入你（".concat(e,"）收到的短信验证码。短信验证码可能稍有延迟，请耐心等待。"),verifyPhoneModalCodeInputPlaceholder:"短信验证码",verifyPhoneModalPhoneInputLabel:"完成手机号验证，即刻领取 500 万 tokens",verifyPhoneModalPhoneInputPlaceholder:"手机号",verifyPhoneModalSendCodeButton:"发送验证码",verifyPhoneModalSendCodeCountdownButton:e=>"发送验证码（".concat(e," 秒）"),verifyPhoneModalTitle:"验证手机号",verifyPhoneModalVerifyButton:"验证"},en_US:{bannedPageBackToHome:"Go Home",bannedPageSlogan:"Your account was suspended due to violation of our policies. Refer to [FAQ](https://api-docs.deepseek.com/faq).",commonInvalidTokenToast:"You have signed out of your account, please log in again.",commonMobileNumberVerificationToast:"please verify your phone number.",commonUnderAuditingToast:"Your account is under review.",commonUserIsBannedToast:"Your account was suspended due to violation of our policies.",contactUsButton:"Contact us",deleteAccount:"Delete account",deleteAccountFailedToast:"Failed to delete account.",deleteAccountFrequentFailToast:"Account deletion failed. Frequent deletion attempts detected. Please try again later.",deleteAccountModalCancel:"Cancel",deleteAccountModalConfirm:"Confirm delete my account",deleteAccountModalConfirmText:"DELETE MY ACCOUNT",deleteAccountModalContent:(e,t)=>"Deletion will prevent you from accessing DeepSeek services, including DeepSeek Chat and Platform.\n**If there is any unused balance in your account, deletion will be considered as forfeiting the balance. Frequent account deletions may be flagged as suspicious activity, resulting in restrictions or bans.**\nIf you have any questions, please contact us by email at ".concat(e,".\nAre you sure you want to delete your account?\nTo verify, please type **").concat(t,"** below:"),deleteAccountModalTitle:"Delete account",deleteAccountOkToast:"Account deleted successfully.",deleteAccountSettingDialogButton:"Delete",emailCodeCloudErrorToast:"Sorry! We're having trouble sending you an email right now. Please try again later.",emailCodeFrequentToast:"Only one verification code can be sent within one minute.",emailDomainNotInWhitelistToast:"Error sending code. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",emailFormatErrorToast:"Email is invalid.",exectionEnvironmentExecptionToast:"The current browser operating environment is abnormal. Please switch execution environments and try again.",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"Scan QR code to contact us.",forgotPassword:"Forgot password?",forgotPasswordBackToSignIn:"Back to log in",forgotPasswordButton:"Reset password",forgotPasswordCheckCodeFailedToast:"Verification failed. Please try again.",forgotPasswordCodeExpiredToast:"The code has expired. Please try again.",forgotPasswordCodeInvalidToast:"Invalid code. Please try again.",forgotPasswordConfirmPasswordInputPlaceholder:"Confirm new password",forgotPasswordDescription:"Enter your email address and we will send you a verification code to reset your password.",forgotPasswordDescriptionCn:"Enter your phone number and we will send you a verification code to reset your password.",forgotPasswordFailedCodeExpiredToast:"Password reset failed as the reset time has expired. Please go back and try again.",forgotPasswordFailedCodeVerifyFailedToast:"Password reset failed due to an invalid verification code. Please go back and try again.",forgotPasswordFailedEmailNotExistToast1:"The email address is not registered. Please try again.",forgotPasswordFailedEmailNotExistToast2:"Password reset failed as the email address is not registered. Please go back and try again.",forgotPasswordFailedMobileNotExistToast1:"The phone number is not registered. Please try again.",forgotPasswordFailedMobileNotExistToast2:"Password reset failed as the phone number is not registered. Please go back and try again.",forgotPasswordFailedToast:"Password reset failed. Please try again.",forgotPasswordGeneralDescription:"Enter your phone number or email address and we will send you a verification code to reset your password.",forgotPasswordGetBack:"Get back",forgotPasswordInputPlaceholder:"Email address / +86 phone number",forgotPasswordInvalidPasswordToast:"Password is invalid. Please try again.",forgotPasswordNewPasswordDescription:e=>"Enter a new password below to change your password for ".concat(e,"."),forgotPasswordNextStepButton:"Continue",forgotPasswordOkToast:"Your password has been changed successfully. Redirecting...",forgotPasswordPasswordInputPlaceholder:"New password",forgotPasswordSecondaryDescription:"Your new password will apply to all DeepSeek services.",forgotPasswordTitle:"Reset password",goToSignIn:"Log in",goToSignUp:"Sign up",hcaptchaLoadFailToast:"Captcha failed to load, please refresh and try again",inputEmail:"Email address",inputEmailVerificationCode:"Code",inputMobilePhoneNumber:"Phone number",inputPassword:"Password",inputPasswordAgain:"Confirm password",inputSmsVerificationCode:"Code",loginAccountBannedToast:"Your account was suspended due to violation of our policies.",mainlandLoginWaysTip:"Only login via phone number, WeChat, email is supported in your region.",mainlandSignUpWaysTip:"Only phone number registration is supported in your region. ",mobileCodeAlreadyBoundToast:"This phone number has been bound.",mobileCodeAlreadyVerifiedToast:"The account is already bound with a phone number.",mobileCodeCloudErrorToast:"Sorry! We're having trouble sending you a message right now. Please try again later.",mobileCodeFrequentToast:"Only one verification code can be sent within one minute.",mobileVerficationFormAccountAlreadyExistsErrorToast:"Binding failed, this phone number has been bound.",mobileVerficationFormDescription:"To ensure account security, please bind your phone number upon first login.",mobileVerficationFormExistingMobileOkToast:"Login successfully.",mobileVerficationFormGetProfileFailedErrorToast:"Binding failed, unable to obtain WeChat account information.",mobileVerficationFormInvalidAddrToast:"Invalid URL detected, please rescan the QR code for authorization.",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"Bind failed, the account bound with this phone number has been banned.",mobileVerficationFormNewMobileOkToast:"Login successfully.",mobileVerficationFormRegistrationExpiredErrorToast:"Bind failed, please rescan the QR code for authorization.",mobileVerficationFormSmsExpiredCodeErrorToast:"The code has expired. Please try again.",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"Invalid code. Please try again.",mobileVerficationFormSubmitButton:"Submit",mobileVerficationFormTitle:"Bind phone number",mobileVerficationFormUnknownErrorToast:"Sorry! We're having trouble during binding. Please try again later.",overseaLoginWaysTip:"Only login via email, Google, or +86 phone number login is supported in your region.",overseaSignUpWaysTip:"Only email registration is supported in your region. ",passwordSignInAcknowledgement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),privacyPolicy:"Privacy Policy",privacyPolicyFile:"DeepSeek Privacy Policy.html",registerAgreementCheckboxEmptyError:"Please check the checkbox to continue.",registerConfirmPasswordEmptyError:"Please re-enter your password for confirmation.",registerDescription:"One DeepSeek account is all you need to access to all DeepSeek services.",registerEmailDomainNotSupportedToast:"Registration failed. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",registerEmailEmptyError:"Please enter your email address.",registerEmailExistToast:"Email is already registered.",registerEmailInputInvalidError:"Email is invalid.",registerEmailPasscodeFailedToast:"Invalid code. Please try again.",registerInvalidPasswordToast:"Password is invalid.",registerMobileEmptyError:"Please enter your phone number.",registerMobileExistToast:"Phone number is registered.",registerMobileInputInvalidError:"Please enter a valid phone number.",registerPasswordCodeExpiredToast:"The code has expired. Please try again.",registerPasswordEmptyError:"Please enter your password.",registerPasswordInvalidError:"Password contains invalid characters.",registerPasswordLengthError:"Password must be between 8 and 50 characters.",registerPasswordNotMatchError:"Password doesn't match.",registerRegisterFromMainlandToast:"Currently, Phone registration is only open to users in Mainland China.",registerVerificationCodeEmptyError:"Please enter the verification code.",registerVerificationCodeInvalidError:"Code is invalid",requestTooFrequentToast:"Too many requests. Please try again later.",sendVerificationCode:"Send code",serviceStatus:"Service Status",signIn:"Log in",signInAgreement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,"."]}),signInBySmsAgreement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),signInDividerOr:"OR",signInEmailAndPhoneEmptyError:"Please enter the phone number / email address.",signInEmailAndPhoneInvalidError:"Please enter a valid phone number / email address.",signInEmailAndPhonePlaceholder:"Phone number / email address",signInFailed:"Login failed.",signInFormTabByPasswordOption:"Password login",signInFormTabBySmsOption:"Code login",signInOk:"Login successfully.",signInPasswordEmailErrorToast:"Your password is incorrect or this account doesn’t exist. Please check and try again",signInPasswordEmptyError:"Please enter your password.",signInUserIsBannedToast:"As a result of violations, your account has been suspended.",signInWithGoogle:"Log in with Google",signInWithGoogleFailedToast:"Sorry! There's an issue with the Google login service. Please try again later.",signInWithGoogleGetProfileFailedToast:"Sorry! We're having trouble fetching user information from Google. Please try again later.",signInWithGoogleNetworkFailedToast:"Sorry! We're having trouble connecting to the Google server. Please try again later.",signInWithGoogleSwapCodeFailedToast:"Sorry! Google login request was unsuccessful. Please try again later.",signInWithWechat:"Log in with WeChat",signInWithWechatAgreement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["By scanning the QR code, I confirm that I have read, consent and agree to DeepSeek's"," ",e,"\xa0 and ",t,"."]}),signInWithWechatFailedToast:"Sorry! There's an issue with the WeChat login service. Please try again later.",signInWithWechatGetProfileFailedToast:"Sorry! We're having trouble fetching user information from WeChat. Please try again later.",signInWithWechatNetworkFailedToast:"Sorry! We're having trouble connecting to the WeChat server. Please try again later.",signInWithWechatQRcodeDialogDescription:"Scan with Wechat to login",signInWithWechatSwapCodeFailedToast:"Sorry! WeChat login request failed. Please try again later.",signUp:"Sign up",signUpAcknowledgement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["By signing up, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),signUpByMobileOkToast:"Sign up successfully.",signUpFailedToast:"Sign up failed.",signUpOkToast:"Sign up successfully.",smsSignInAcknowledgement:(e,t)=>(0,C.jsxs)(C.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),submitApplication:"Submit application",termsOfUse:"Terms of Use",termsOfUseFile:"DeepSeek Terms of Use.html",underAuditingDescription:"Under review, please wait for a moment.",validateMobileNumberAlreadyBoundToast:"This phone number has been bound.",validateMobileNumberAlreadyVerifiedToast:"The account is already bound with a phone number.",validateMobileNumberBackToSignIn:"Back to log in",validateMobileNumberBindFailedToast:"Bind failed.",validateMobileNumberEmptyError:"Please select at least one usage.",validateMobileNumberEmptyFeedback:"Please enter a phone number.",validateMobileNumberInvalidMobileFeedback:"Please enter a valid phone number.",validateMobileNumberInvalidToast:"Phone number is invalid.",validateMobileNumberNotMobileFeedback:"This phone number format is not recognized. Please check.",validateMobileNumberOkToast:"Bind successfully.",validateMobileNumberOkToast2:"Verification successful.",validateMobileNumberUnknownErrorToast:"Verification failed. Please try again.",validateMobileNumberUsage1:"Business",validateMobileNumberUsage2:"Scientific research",validateMobileNumberUsage3:"Entertainment",validateMobileNumberUsage4:"Others",validateMobileNumberUsageLabel:"Usage",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"The code has expired. Please try again.",validateMobileNumberVerificationCodeIncorrectToast:"Invalid code. Please try again.",validateMobileNumberVerificationCodeInvalidToast:"Verification code is invalid.",verificationCodeCountDown:e=>"Resend after ".concat(e,"s"),verificationCodeSentFailed:"Sorry! We're having trouble sending you a verification code right now. Please try again later.",verificationEmailCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,".\nPlease check your inbox and spam folder."),verificationSmsCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,"."),verifyPhoneModalBackButton:"Back",verifyPhoneModalCallingCodeInputPlaceholder:"Area",verifyPhoneModalCodeInputLabel:e=>"Enter the code we just sent you(".concat(e,"). There might be a slight delay in receiving the SMS code."),verifyPhoneModalCodeInputPlaceholder:"SMS code",verifyPhoneModalPhoneInputLabel:"Verify your phone number to get started with 5 million tokens for free.",verifyPhoneModalPhoneInputPlaceholder:"Phone number",verifyPhoneModalSendCodeButton:"Send code",verifyPhoneModalSendCodeCountdownButton:e=>"Send code (".concat(e,"S)"),verifyPhoneModalTitle:"Verify mobile phone",verifyPhoneModalVerifyButton:"Verify"}},eB={};function ez(){return(0,Y.useCallback)((e,t)=>eD[t][e],[])}function eH(e,t){return eB[e]?eB[e]:eB[e]=function(){var n;let a=(n=t(),e=>eD[n][e])(e);return"string"==typeof a?a:a()}}var eU=n(56577);let eV=(0,Y.createContext)(null);function eW(){let e=(0,Y.useContext)(eV);if(!e)throw Error("useAuthConfig must be used within a AuthConfigProvider");return e}function eG(){return eW().locale}function eZ(){let{locale:e}=eW();return(0,Y.useCallback)(t=>eD[e][t],[e])}let eq=(0,Y.memo)(function(e){let{children:t,baseUrl:n,isMainlandChina:a,isMobile:r,isBeta:o,locale:s,modelServiceAgreement:i,termsOfUse:l,termsOfUseFile:d,privacyPolicy:c,privacyPolicyFile:u,tracker:h,http:p,turnstileEnabled:g,captchaEnabled:m,tintColor:f,serverApiUserToUser:v,setStorageUserToken:x,deleteAccountButtonTheme:E,isDark:y}=e;return(0,Y.useEffect)(()=>{if(g)return(0,eU.Wx)(),eU.$Y},[g]),(0,C.jsx)(eV.Provider,{value:(0,Y.useMemo)(()=>({baseUrl:n,isMainlandChina:a,isMobile:r,isBeta:o,locale:s,modelServiceAgreement:i,termsOfUse:l,termsOfUseFile:d,privacyPolicy:c,privacyPolicyFile:u,tracker:h,http:p,serverApiUserToUser:v,setStorageUserToken:x,captchaEnabled:m,turnstileEnabled:g,tintColor:f,deleteAccountButtonTheme:E,isDark:y}),[n,a,r,o,s,i,l,d,c,u,h,p,v,x,m,g,f,E,y]),children:t})});var eY=n(83967);function eK(e){return/^1\d{10}$/.test(e)}function eQ(e){return(0,eY.validate)(e)}function eX(e){let{placeholder:t,stringValueHolder:n}=e,[a,r]=(0,Y.useState)(void 0),[o,s]=(0,Y.useState)(void 0),[i,l]=(0,Y.useState)(n.get);function d(e){if(eQ(e))return"email";if(eK(e))return"sms";{s("error");let e=eH("signInEmailAndPhoneInvalidError",eG);return r((0,C.jsx)(e,{})),null}}return{value:i,validateAndGetTypeForVerificationCode:d,validateForVerificationCode:function(){if(0===i.length){s("error");let e=eH("signInEmailAndPhoneEmptyError",eG);return r((0,C.jsx)(e,{})),!1}return null!=d(i)},onSubmit:()=>{if(0===i.length){s("error");let e=eH("signInEmailAndPhoneEmptyError",eG);return r((0,C.jsx)(e,{})),!1}return void 0===o},node:(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,feedback:a,status:o,children:(0,C.jsx)(eO,{value:i,size:"l",variant:"bordered",icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(ew,{})}),placeholder:t,onChange:e=>{let t=e.currentTarget.value.trim();l(t),n.set(t),t.length&&(s(void 0),r(void 0))},onBlur:e=>{e.target.value||(s(void 0),r(void 0))}})})}}var eJ=n(1002);let e$="https://cdn.deepseek.com/policies/zh-CN/third-party-info-sharing-list.html",e1="https://cdn.deepseek.com/policies/zh-CN/deepseek-account-deletion-notice.html",e0="https://cdn.deepseek.com/policies/zh-CN/app-permissions.html",e2=e=>{let{isMainlandChina:t}=e;return t?{termsOfUse:"https://cdn.deepseek.com/policies/zh-CN/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/zh-CN/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/zh-CN/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:e$,accountDeletionNotice:e1,appPermissions:e0}:{termsOfUse:"https://cdn.deepseek.com/policies/en-US/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/en-US/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/en-US/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:e$,accountDeletionNotice:e1,appPermissions:e0}};function e3(e){let{signInAgreement:t}=e,{modelServiceAgreementNode:n,privacyPolicyNode:a}=function(){let e=eZ(),{isMainlandChina:t,termsOfUse:n,termsOfUseFile:a}=eW(),r=e2({isMainlandChina:t}),o=n||e("termsOfUse"),s=a||r.termsOfUse,i=e("privacyPolicy"),l=r.privacyPolicy;return{serviceLabel:o,serviceURL:s,policyLabel:i,policyURL:l,modelServiceAgreementNode:(0,C.jsx)(eJ.A,{href:s,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:o}),privacyPolicyNode:(0,C.jsx)(eJ.A,{href:l,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:i})}}();return t({modelServiceAgreementNode:n,privacyPolicyNode:a})}function e5(e){let{acknowledgementRender:t}=e;return{onSubmit:()=>!0,node:(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,className:"ds-sign-up-form__agreement-text",children:(0,C.jsx)(e3,{signInAgreement:t})})}}var e4=n(89369);n(62100);var e9=n(21036),e6=n(57338);let e7=()=>(0,e6.Ue)((e,t)=>({timerIsActive:!1,timerCountDown:0,startTimer(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;if(t().timerIsActive)return;e({timerIsActive:!0,timerCountDown:n});let a=()=>{setTimeout(()=>{e(e=>e.timerCountDown<=1?{timerIsActive:!1,timerCountDown:0}:(a(),{timerCountDown:e.timerCountDown-1}))},1e3)};a()}})),e8={sms:e7(),email:e7(),smsOrEmail:e7()},te=e=>(0,e6.oR)(e8[e]);var tt=n(18993),tn=n(70988);async function ta(e,t){let{areaCode:n,mobilePhoneNumber:a,scene:r,locale:o,onOk:s,onError:i}=e,{t:l,timer:d,toast:c,tracker:u,turnstileToken:h,shumeiVerification:p,hcaptchaToken:g,requestHelper:m}=t,f=await q()||"",C=tn.V8.hashStr(a),v=a.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2");u.info({name:"smsCodeSend",message:"手机验证码发送",payload:{areaCode:n,mobileMd5:C,mobileDesensitized:v,scene:r}}),(0,tt.WL)({mobileNumber:a,turnstileToken:h,locale:o,shumeiVerification:p,hcaptchaToken:g,deviceId:f},m).then(e=>{let{data:{code:t,sendWindowSecs:o},context:{logId:h}}=e,g=!1;switch(t){case tt.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.OK:c.success({node:l("verificationSmsCodeSentSuccessfully")(a),description:l("verificationSmsCodeSentSuccessfully")("[mobile]")}),d.startTimer(null!=o?o:void 0),u.info({name:"smsCodeSendOk",message:"手机验证码发送成功",payload:{areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v,scene:r}}),g=!0;break;case tt.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.SMS_SEND_TOO_FREQUENT:c.error({node:(0,Y.createElement)(eH("mobileCodeFrequentToast",eG)),description:l("mobileCodeFrequentToast")}),u.error({name:"smsCodeSendFailed",message:"发送过于频繁",payload:{reason:"tooFrequent",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}}),d.startTimer(null!=o?o:void 0);break;case tt.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:c.error({node:(0,Y.createElement)(eH("exectionEnvironmentExecptionToast",eG)),description:l("exectionEnvironmentExecptionToast")}),u.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:h,action:"smsCodeSend",rid:(null==p?void 0:p.rid)||"[unset]",endpointRegion:(null==p?void 0:p.region)||"[unset]",areaCode:n}});break;case tt.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.NO_MOBILE_NUMBER:c.error({node:(0,Y.createElement)(eH("registerMobileEmptyError",eG)),description:l("registerMobileEmptyError")}),u.error({name:"smsCodeSendFailed",message:"验证码发送失败",payload:{reason:"noMobileNumber",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}});break;case tt.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:c.error({node:(0,Y.createElement)(eH("mobileCodeCloudErrorToast",eG)),description:l("mobileCodeCloudErrorToast")}),u.error({name:"smsCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}});break;default:c.error({node:(0,Y.createElement)(eH("verificationCodeSentFailed",eG)),description:l("verificationCodeSentFailed")}),u.error({name:"smsCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}})}g?s():i()}).catch(e=>{c.error({node:(0,Y.createElement)(eH("verificationCodeSentFailed",eG)),description:l("verificationCodeSentFailed")}),u.error({name:"smsCodeSendFailed",message:"其他错误",payload:u.withError(e,{reason:"other",mobile:a,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v})}),i()})}let tr=(()=>{try{return"352e5376-f2cc-43fe-a744-e51640449610"}catch{}return"eb68d628-dc7a-4c4c-a166-614655823020"})(),to=!1;class ts extends Error{}async function ti(){to||(await n.e("3").then(n.t.bind(n,15748,19)),to=!0)}function tl(e){return e.includes("Failed to load hCaptcha JS API")}async function td(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{await ti()}catch{throw new ts}let{promise:n,resolve:a,reject:r}=new v.B,o=document.createElement("h-captcha");return o.setAttribute("site-key",tr),o.setAttribute("size","invisible"),t>0&&o.setAttribute("jsapi","https://js.hcaptcha.com/1/api.js?_ts=".concat(Date.now())),o.setAttribute("theme",null!=e?e:""),o.addEventListener("loaded",async()=>{await Promise.resolve();try{let{response:e}=await o.executeAsync();a(e)}catch(e){r(e)}finally{o.remove()}}),o.addEventListener("error",n=>{let{error:s}=n;o.remove(),"string"==typeof s&&tl(s)&&t<2?(delete window._hCaptchaOnLoadPromise,td(e,t+1).then(a,r)):r(s)}),document.body.appendChild(o),n}var tc=n(86232);function tu(e){let t;let{tracker:n,isDark:a}=eW(),{showShumeiCaptcha:r}=function(){let e=eC(),{locale:t,tracker:n,tintColor:a}=eW();return{showShumeiCaptcha:()=>{let r=new v.B,o=null;n.info({name:"openShumeiCaptchaModal",message:"打开数美验证码弹窗",payload:{}});let s=e.open({modalProps:{autoFocus:!1,closeOnMaskClick:!1,closeOnEscapeKeydown:!1,onOpenEffect:async()=>{let e=performance.now();(o=await z({organization:"P9usCUBauxft8eAmUXaZ",appendTo:"sm-captcha",maskBindClose:!1,lang:"zh_CN"==t?"zh-cn":"en",mode:"spatial_select"},{tintColor:a})).onReady((t,a)=>{let r=performance.now();n.info({name:"shumeiCaptchaResourceReady",message:"数美验证码资源加载完成",payload:{metricDuration:r-e,type:a.type,endpointRegion:B}})}),o.onSuccess(e=>{e.pass?(r.resolve(e),s.close(),n.info({name:"shumeiCaptchaOnSuccessPass",message:"数美验证码通过",payload:{rid:e.rid}})):n.info({name:"shumeiCaptchaOnSuccessNoPass",message:"数美验证码没通过",payload:{rid:e.rid}})})},children:(0,C.jsx)(eg,{style:{width:"calc(294px + 42px)"},onClose:()=>{s.close(),r.resolve({rid:"",pass:!1})},afterTitle:(0,C.jsx)(eF.h,{style:{marginRight:8},onClick:()=>{null==o||o.reset()},children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,C.jsx)("g",{fill:"none",children:(0,C.jsx)("path",{d:"M3 8a5 5 0 0 1 9-3H9.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-.657V2.5a.5.5 0 0 0-1 0v1.028A6 6 0 1 0 14 8a.5.5 0 0 0-1 0A5 5 0 0 1 3 8z",fill:"currentColor"})})})}),headerWrapperStyle:{marginBottom:14},children:(0,C.jsxs)("div",{id:"sm-captcha",children:[(0,C.jsx)(tc.O,{variant:"rect",style:{height:147,marginBottom:9.8}}),(0,C.jsx)(tc.O,{variant:"rect",style:{height:39.2}})]})})}});return{onSettled:r.promise}}}}(),o=(0,e9.pm)(),s=eZ();return{getCaptchaResult:"shumei"===e?async()=>{try{let{pass:e,rid:t}=await r().onSettled;if(!e)return null;return{shumeiVerification:{region:B,rid:t},hcaptchaToken:void 0}}catch{return null}}:"hcaptcha"===e?async()=>{let e=performance.now();try{let t=await td(a?"dark":"light");return n.info({name:"hcaptchaFinish",message:"hcaptcha 校验完成",payload:{token:t,metricDuration:performance.now()-e}}),{hcaptchaToken:t,shumeiVerification:void 0}}catch(r){let t="",a="execute";return"string"==typeof r?(t=r,tl(r)&&(o.error(s("hcaptchaLoadFailToast")),a="load",t="Failed to load hCaptcha JS API"),r=Error(r)):r instanceof ts&&(o.error(s("hcaptchaLoadFailToast")),t="Dynamic loading @hcaptcha/vanilla failed",a="load"),n.error({name:"hcaptchaCheckFailed",message:"hcaptcha校验失败",payload:n.withError(r,{stage:a,reason:t,metricDuration:performance.now()-e})}),null}}:async()=>({hcaptchaToken:void 0,shumeiVerification:void 0})}}function th(e){let{turnstileEnabled:t,captchaEnabled:n,type:a,disabled:r,target:o,scenario:s,inputVerificationCodePlaceholder:i,sendVerificationCodePlaceholder:l,validateForVerificationCode:d,verificationCodeCountDown:c,validateAndGetTypeForVerificationCode:u}=e,h=te(a),[p,g]=(0,Y.useState)(""),[m,f]=(0,Y.useState)(void 0),[v,x]=(0,Y.useState)(void 0),[E,y]=(0,Y.useState)(!1),b=(0,Y.useRef)(null),{verifyCode:_}=function(e){let{type:t,scenario:n,captchaEnabled:a,setVerificationCodeLoading:r,validateForVerificationCode:o,validateAndGetTypeForVerificationCode:s}=e,i=te(t),l=eZ(),d=(0,e9.pm)(),{tracker:c,locale:u,http:h,baseUrl:p}=eW(),{getCaptchaResult:g}=tu(a);return{verifyCode:async function(e){let a,m;if(!o())return"smsOrEmail"===t?c.error({name:"clientValidationFailed",message:"邮箱或手机号不合法",payload:{}}):"email"===t?c.error({name:"emailClientValidationFailed",message:"邮箱不合法",payload:{}}):c.error({name:"smsClientValidationFailed",message:"手机号不合法",payload:{}}),!1;r(!0);let f=await g();if(!f)return r(!1),!1;switch("smsOrEmail"===t?s(e):t){case"email":a=tn.V8.hashStr(e),m=e.replace(/(.{2}).+(.{2})/,"$1****$2"),c.info({name:"emailCodeSend",message:"邮箱验证码发送",payload:{emailMd5:a,emailDesensitized:m}}),(0,tt.Tk)({locale:u,email:e,turnstileToken:"",...f,deviceId:await q(),scenario:"forgetPassword"===n?"reset_password":"bindEmail"===n?"bind_email":"register"},{http:h,baseUrl:p}).then(t=>{let{data:{code:o},context:{logId:s}}=t;switch(o){case tt.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.OK:d.success({node:l("verificationEmailCodeSentSuccessfully")(e),description:l("verificationEmailCodeSentSuccessfully")("[email]")}),c.info({name:"emailCodeSendOk",message:"邮箱验证码发送成功",payload:{emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case tt.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_REQUEST_TOO_FREQUENT:d.error({node:(0,Y.createElement)(eH("emailCodeFrequentToast",eG)),description:l("emailCodeFrequentToast")}),c.error({name:"emailCodeSendFailed",message:"发送频率过高",payload:{logId:s,reason:"tooFrequent",code:"".concat(o),scene:n,emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case tt.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:var u,h;d.error({node:(0,Y.createElement)(eH("exectionEnvironmentExecptionToast",eG)),description:l("exectionEnvironmentExecptionToast")}),c.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:s,action:"emailCodeSend",areaCode:null,endpointRegion:B,rid:null!==(h=null==f?void 0:null===(u=f.shumeiVerification)||void 0===u?void 0:u.rid)&&void 0!==h?h:""}}),i.startTimer();break;case tt.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.INVALID_EMAIL_FORMAT:d.error({node:(0,Y.createElement)(eH("emailFormatErrorToast",eG)),description:l("emailFormatErrorToast")}),c.error({name:"emailCodeSendFailed",message:"邮箱格式错误",payload:{reason:"invalidEmailFormat",code:"".concat(o),logId:s,scene:n,emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case tt.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_DOMAIN_NOT_IN_WHITELIST:d.error({node:(0,Y.createElement)(eH("emailDomainNotInWhitelistToast",eG)),description:l("emailDomainNotInWhitelistToast")}),c.error({name:"emailCodeSendFailed",message:"邮箱域名不在白名单",payload:{reason:"emailDomainNotInWhitelist",code:"".concat(o),logId:s,scene:n,emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case tt.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:d.error({node:(0,Y.createElement)(eH("emailCodeCloudErrorToast",eG)),description:l("emailCodeCloudErrorToast")}),c.error({name:"emailCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(o),logId:s,scene:n,emailMd5:a,emailDesensitized:m}});break;default:c.error({name:"emailCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",scene:n,code:"".concat(o),logId:s,emailMd5:a,emailDesensitized:m}}),d.error({node:(0,Y.createElement)(eH("verificationCodeSentFailed",eG)),description:l("verificationCodeSentFailed")})}r(!1)}).catch(e=>{d.error({node:(0,Y.createElement)(eH("verificationCodeSentFailed",eG)),description:l("verificationCodeSentFailed")}),c.error({name:"emailCodeSendFailed",message:"其他错误",payload:c.withError(e,{reason:"other",scene:n,emailMd5:a,emailDesensitized:m})}),r(!1)});break;case"sms":ta({locale:u,mobilePhoneNumber:e,scene:n,callingCode:"",areaCode:"",onOk(){r(!1)},onError(){r(!1)}},{t:l,timer:i,toast:d,tracker:c,turnstileToken:"",...f,requestHelper:{http:h,baseUrl:p}})}return!0}}}("smsOrEmail"===a?{turnstileEnabled:t,captchaEnabled:n,type:a,scenario:s,setVerificationCodeLoading:y,validateForVerificationCode:d,validateAndGetTypeForVerificationCode:u}:{turnstileEnabled:t,captchaEnabled:n,type:a,scenario:s,setVerificationCodeLoading:y,validateForVerificationCode:d});return{value:p,onSubmit:()=>{if(0===p.length){x("error");let e=eH("registerVerificationCodeEmptyError",eG);return f((0,C.jsx)(e,{})),!1}return void 0===v},status:v,node:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,feedback:m,status:v,children:(0,C.jsxs)("div",{className:"ds-verify-code-form-item",children:[(0,C.jsx)(eO,{size:"l",maxLength:6,variant:"bordered",disabled:r,type:"tel",placeholder:i,icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(ey,{})}),className:"ds-verify-code-form-item__verify-code-input",inputDomRef:b,onChange:e=>{let t=e.currentTarget.value;if(g(t),/^\d*$/.test(t)&&t.length<=6)x(void 0),f(void 0);else{x("error");let e=eH("registerVerificationCodeInvalidError",eG);f((0,C.jsx)(e,{}))}},onBlur:()=>{if(!p||/^\d{6}$/.test(p))x(void 0),f(void 0);else{x("error");let e=eH("registerVerificationCodeInvalidError",eG);f((0,C.jsx)(e,{}))}}}),(0,C.jsx)(e4.z,{variant:"bordered",size:"l",type:"secondary",className:"dsds-verify-code-form-item__verify-code-button",disabled:r||h.timerIsActive,loading:E,onClick:()=>{_(o).then(e=>{e&&b.current&&b.current.focus()})},children:h.timerIsActive?c({seconds:h.timerCountDown}):l})]})})})}}function tp(e){let{disabled:t,placeholder:n,stringValueHolder:a}=e,[r,o]=(0,Y.useState)(a.get),[s,i]=(0,Y.useState)(void 0),[l,d]=(0,Y.useState)(void 0);return{validateForVerificationCode:function(){if(0===r.length){i("error");let e=eH("registerMobileEmptyError",eG);return d((0,C.jsx)(e,{})),!1}if(!eK(r)){i("error");let e=eH("registerMobileInputInvalidError",eG);return d((0,C.jsx)(e,{})),!1}return!0},value:r,status:s,onSubmit:()=>{if(0===r.length){i("error");let e=eH("registerMobileEmptyError",eG);return d((0,C.jsx)(e,{})),!1}return void 0===s},node:(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,status:s,feedback:l,children:(0,C.jsx)(eO,{autoFocus:!0,size:"l",variant:"bordered",type:"tel",value:r,disabled:t,onChange:e=>{let t=e.currentTarget.value.trim();if(o(t),a.set(t),/^\d*$/.test(t)&&t.length<=11)i(void 0),d(void 0);else{i("error");let e=eH("registerMobileInputInvalidError",eG);d((0,C.jsx)(e,{}))}},onBlur:()=>{if(!r||eK(r))i(void 0),d(void 0);else{i("error");let e=eH("registerMobileInputInvalidError",eG);d((0,C.jsx)(e,{}))}},icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(eS,{})}),prefix:"+86",placeholder:n})})}}function tg(e){let{disabled:t,passwordPlaceholder:n,confirmPasswordPlaceholder:a}=e,[r,o]=(0,Y.useState)(""),[s,i]=(0,Y.useState)(""),[l,d]=(0,Y.useState)(void 0),[c,u]=(0,Y.useState)(void 0),[h,p]=(0,Y.useState)(void 0),[g,m]=(0,Y.useState)(void 0),f=e=>{var t;if(s.length){if(e===s)p(void 0),m(void 0);else{p("error");let e=eH("registerPasswordNotMatchError",eG);m((0,C.jsx)(e,{}))}}let{result:n}=(t=e,/^[ -~]*$/.test(t)?t.length<8?{result:"tooShort"}:t.length>50?{result:"tooLong"}:{result:null}:{result:"invalidChar"});if(null===n)d(void 0),u(void 0);else switch(d("error"),n){case"invalidChar":let a=eH("registerPasswordInvalidError",eG);u((0,C.jsx)(a,{}));break;case"tooShort":case"tooLong":let r=eH("registerPasswordLengthError",eG);u((0,C.jsx)(r,{}))}};return{value:r,onSubmit:()=>{let e=!0;if(0===r.length){d("error");let t=eH("registerPasswordEmptyError",eG);u((0,C.jsx)(t,{})),e=!1}if(0===s.length){p("error");let t=eH("registerConfirmPasswordEmptyError",eG);m((0,C.jsx)(t,{})),e=!1}return!!e&&void 0===h&&void 0===l},node:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,status:l,feedback:c,children:(0,C.jsx)(eO,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,disabled:t,onChange:e=>{let t=e.currentTarget.value;o(t),f(t)},onBlur:()=>{r?f(r):(d(void 0),u(void 0))},icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(eI,{})}),placeholder:n})}),(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,status:h,feedback:g,children:(0,C.jsx)(eO,{size:"l",variant:"bordered",disabled:t,type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;if(i(t),r!==t){p("error");let e=eH("registerPasswordNotMatchError",eG);m((0,C.jsx)(e,{}))}else p(void 0),m(void 0)},onBlur:()=>{if(s){if(r!==s){p("error");let e=eH("registerPasswordNotMatchError",eG);m((0,C.jsx)(e,{}))}}else p(void 0),m(void 0)},icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(eI,{})}),placeholder:a})})]})}}function tm(e,t){return void 0===t?e:t}function tf(e){let{tabs:t=[],defalutValue:n=null,value:a,variant:r="line",className:o,style:s,gap:i=16,lineStyle:l,onChange:d,theme:c}=e,[u,h]=(0,Y.useState)(n),p=tm(u,a),g=(0,Y.useCallback)(e=>{h(e),null==d||d(e)},[d]);return(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-tabs"),"".concat(J.F,"-tabs--").concat(r),o),style:Object.assign({"--ds-tab-gap":"".concat(i,"px"),"--ds-tabs-active-color":null==c?void 0:c.activeColor},s),children:t.map(e=>(0,C.jsx)(tC,{tabKey:e.key,title:e.title,active:e.key===p,lineStyle:l,onClick:g},e.key))})}function tC(e){let{title:t,tabKey:n,active:a,lineStyle:r,onClick:o}=e;return(0,C.jsxs)("div",{tabIndex:0,className:(0,er.Z)("".concat(J.F,"-tab"),a&&"".concat(J.F,"-tab--active")),onClick:()=>{o(n)},onKeyDown:e=>{"Enter"===e.key&&o(n)},children:[(0,C.jsx)("div",{className:"".concat(J.F,"-tab__content"),children:t}),a&&(0,C.jsx)("div",{className:"".concat(J.F,"-tab__line"),style:r})]})}function tv(e){let{showLine:t=!0,variant:n,children:a,className:r,style:o,domProps:s,contentDomProps:i,lineDomProps:l}=e;return(0,C.jsxs)("div",{...s,style:o,className:(0,er.Z)("".concat(J.F,"-divider"),"strong"===n?"".concat(J.F,"-divider--strong"):void 0,null==s?void 0:s.className,r),children:[t&&(0,C.jsx)("div",{...l,className:(0,er.Z)("".concat(J.F,"-divider__left"),null==l?void 0:l.className)}),a?(0,C.jsx)("div",{...i,className:(0,er.Z)("".concat(J.F,"-divider__content"),null==i?void 0:i.className),children:a}):null,a?t&&(0,C.jsx)("div",{...l,className:(0,er.Z)("".concat(J.F,"-divider__right"),null==l?void 0:l.className)}):null]})}function tx(e){let{onClick:t,loading:n}=e,[a]=(0,ee.lr)(),{tracker:r}=eW(),o=eZ(),s=(0,e9.pm)();return(0,Y.useEffect)(()=>{if("GOOGLE"!==a.get("provider"))return;let e=a.get("error"),t=a.get("code");if(t&&"0"!==t)switch(Number(t)){case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_NETWORK_ERROR:s.error({node:(0,Y.createElement)(eH("signInWithGoogleNetworkFailedToast",eG)),description:o("signInWithGoogleNetworkFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"networkFailed",code:String(t),error:e}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.GET_PROFILE_FAILED:s.error({node:(0,Y.createElement)(eH("signInWithGoogleGetProfileFailedToast",eG)),description:o("signInWithGoogleGetProfileFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"getProfileFailed",code:String(t),error:e}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:s.error({node:(0,Y.createElement)(eH("signInWithGoogleSwapCodeFailedToast",eG)),description:o("signInWithGoogleSwapCodeFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"swapCodeFailed",code:String(t),error:e}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.RECAPTCHA_VERIFY_FAILED:s.error({node:(0,Y.createElement)(eH("signInWithGoogleFailedToast",eG)),description:o("signInWithGoogleFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"recaptchaVerifyFailed",code:String(t),error:e}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.TOO_MANY_REQUESTS:s.error({node:(0,Y.createElement)(eH("requestTooFrequentToast",eG)),description:o("requestTooFrequentToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录请求超限",payload:{reason:"tooManyRequests",code:String(t),error:e}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:s.error({node:(0,Y.createElement)(eH("signInWithGoogleFailedToast",eG)),description:o("signInWithGoogleFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unexpectedFailed",code:String(t),error:e}});break;default:s.error({node:(0,Y.createElement)(eH("signInWithGoogleFailedToast",eG)),description:o("signInWithGoogleFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unknownCode",code:String(t),error:e}})}},[a,o,s,r]),(0,C.jsx)(e4.z,{loading:n,type:"secondary",variant:"bordered",block:!0,size:"l",icon:(0,C.jsx)(e_,{}),onClick:t,style:{marginBottom:16,borderColor:"var(--ds-rgb-separator-strong)"},children:o("signInWithGoogle")})}function tE(e){let{onGoogleSignIn:t}=e,[n,a]=(0,Y.useState)(!1),{baseUrl:r,captchaEnabled:o,tracker:s}=eW(),{getCaptchaResult:i}=tu(o);return(0,C.jsx)(tx,{onClick:async()=>{s.info({name:"signInWithGoogleClicked",message:"点击了 Google 登录按钮",payload:{}}),null==t||t(),a(!0);let e=await i();if(!e){a(!1);return}let{shumeiVerification:n,hcaptchaToken:o}=e,l=await q();window.location.href="".concat(r,"/oauth/google/authorize?os=web").concat(ty(l),"&shumei_verification=").concat(n?JSON.stringify(n):"","&hcaptcha_token=").concat(o?encodeURIComponent(o):"")},loading:n})}n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(63501),n(834),n(1227);let ty=e=>!e||e.length>500?"&device_id=":"&device_id=".concat(encodeURIComponent(e));var tb=n(13492);function t_(e){let{onClick:t,loading:n}=e,a=eZ();return(0,C.jsx)(e4.z,{loading:n,variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,children:a("signIn")})}n(99752),n(587);let tw=()=>{let e="";return{set:t=>{e=t},get:()=>e}},tS=tw();function tI(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:r}=e,o=eZ(),{http:s,baseUrl:i,tracker:l,serverApiUserToUser:d}=eW(),c=(0,e9.pm)(),{node:u,onSubmit:h,value:p}=eX({placeholder:o("signInEmailAndPhonePlaceholder"),stringValueHolder:tS}),{node:g,onSubmit:m,value:f}=function(e){let{placeholder:t}=e,[n,a]=(0,Y.useState)(""),[r,o]=(0,Y.useState)(void 0),[s,i]=(0,Y.useState)(void 0);return{value:n,onSubmit:()=>{if(0===n.length){o("error");let e=eH("signInPasswordEmptyError",eG);return i((0,C.jsx)(e,{})),!1}return void 0===r},node:(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,feedback:s,status:r,children:(0,C.jsx)(eO,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;a(t),t.length&&(o(void 0),i(void 0))},onBlur:e=>{e.target.value||(o(void 0),i(void 0))},icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(eI,{})}),placeholder:t})})}}({placeholder:o("inputPassword")}),{node:v,onSubmit:x}=e5({acknowledgementRender:(0,Y.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return o("passwordSignInAcknowledgement")(t,n)},[o])}),[E,y]=(0,Y.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[u,g,v,(0,C.jsx)(t_,{loading:E,onClick:async()=>{if([h(),m(),x()].every(e=>e)){let e;y(!0);let a="mobile",r="";p.includes("@")?(a="email",e=(0,tt.dw)({email:p,password:f,mobile:"",areaCode:"",deviceId:await q(),os:"web"},{http:s,baseUrl:i},d)):(r="+86",e=(0,tt.dw)({email:"",password:f,mobile:p,areaCode:"+86",deviceId:await q(),os:"web"},{http:s,baseUrl:i},d)),l.info({name:"signIn",message:"登录",payload:{type:a,areaCode:r}}),e.then(e=>{let{data:{user:s,code:i},context:{logId:d}}=e;switch(i){case tt.a$.LOGIN_ERROR_CODE.OK:let u;if(!s){c.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:o("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，没拿到 user",payload:{code:"".concat(i),type:a,areaCode:r,reason:"noUser",logId:d}});break}t((u=tb.IY.OK,{...s,status:u})),n&&n(),l.info({name:"signInOk",message:"登录成功",payload:{type:a,areaCode:r,userId:"".concat(s.id)}});break;case tt.a$.LOGIN_ERROR_CODE.PASSWORD_OR_USER_NAME_IS_WRONG:c.error({node:(0,Y.createElement)(eH("signInPasswordEmailErrorToast",eG)),description:o("signInPasswordEmailErrorToast")}),l.error({name:"signInFailed",message:"登录失败，用户名或密码错误",payload:{code:"".concat(i),type:a,areaCode:r,reason:"invalidPasswordOrAccount",logId:d}});break;case tt.a$.LOGIN_ERROR_CODE.USER_IS_BANNED:c.error({node:(0,Y.createElement)(eH("loginAccountBannedToast",eG)),description:o("loginAccountBannedToast")}),l.error({name:"signInFailed",message:"登录失败，账户被停用",payload:{code:"".concat(i),type:a,areaCode:r,reason:"banned",logId:d}});break;default:c.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:o("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(i),type:a,areaCode:r,reason:"unknownCode",logId:d}})}y(!1)}).catch(e=>{c.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:o("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),y(!1)})}else l.error({name:"signInClientValidationFailed",message:"登录客户端验证失败",payload:{emailOrMobile:p}})}}),(0,C.jsx)(tT,{onForgotPassword:a,onGoToSignUp:r})]})}function tT(e){let{onForgotPassword:t,onGoToSignUp:n}=e,a=eZ();return(0,C.jsxs)("div",{className:"ds-sign-in-form__form-footer",children:[(0,C.jsx)(e4.z,{type:"primary",variant:"text",size:"s",onClick:t,children:a("forgotPassword")}),(0,C.jsx)(e4.z,{type:"primary",variant:"text",size:"s",onClick:n,children:a("goToSignUp")})]})}let tM=tw();function tj(e){let{regionCode:t,beAuthenticated:n,onAfterSignInOk:a}=e,r=eZ(),o=eG(),{http:s,baseUrl:i,tracker:l,serverApiUserToUser:d,captchaEnabled:c,turnstileEnabled:u}=eW(),h=(0,e9.pm)(),{node:p,validateForVerificationCode:g,onSubmit:m,value:f}=tp({disabled:!1,placeholder:r("inputMobilePhoneNumber"),stringValueHolder:tM}),{node:v,onSubmit:x,value:E}=th({captchaEnabled:c,turnstileEnabled:u,scenario:"mobileLogin",disabled:!1,target:f,type:"sms",inputVerificationCodePlaceholder:r("inputSmsVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),verificationCodeCountDown:(0,Y.useCallback)(e=>{let{seconds:t}=e;return r("verificationCodeCountDown")(t)},[r]),validateForVerificationCode:g}),{node:y}=e5({acknowledgementRender:(0,Y.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return r("smsSignInAcknowledgement")(t,n)},[r])}),[b,_]=(0,Y.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[p,v,y,(0,C.jsx)(t_,{loading:b,onClick:async()=>{[m(),x()].every(e=>e)?(_(!0),l.info({name:"signIn",message:"登录",payload:{type:"mobile_sms",areaCode:"+86"}}),(0,tt.OT)({locale:o,region:t||tb.WN,mobileNumber:f,areaCode:"+86",smsVerificationCode:E,deviceId:await q(),os:"web"},{http:s,baseUrl:i},d).then(e=>{let{data:{user:t,code:o},context:{logId:s}}=e,i=(e,t)=>({...t,status:e});function d(e){l.error({name:"signInFailed",message:"验证码登录失败，没拿到 user",payload:{code:"".concat(e),type:"mobile_sms",areaCode:"+86",reason:"noUser",logId:s}})}switch(o){case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.OK:if(!t){h.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:r("signInFailed")}),d(o);break}n(i(tb.IY.OK,t)),a&&a(),l.info({name:"signUpBySmsOk",message:"验证码注册成功",payload:{userId:"".concat(t.id)}});break;case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.LOGIN_TO_EXISTING_ACCOUNT:if(!t){h.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:r("signInFailed")}),d(o);break}n(i(tb.IY.OK,t)),a&&a(),l.info({name:"signInOk",message:"验证码登录成功",payload:{type:"mobile_sms",areaCode:"+86",userId:"".concat(t.id)}});break;case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:h.error({node:(0,Y.createElement)(eH("registerRegisterFromMainlandToast",eG)),description:r("registerRegisterFromMainlandToast")}),l.error({name:"signInFailed",message:"注册失败，手机验证码登录请求从海外发送",payload:{code:"".concat(o),type:"mobile_sms",areaCode:"+86",reason:"unexpectedRegion",logId:s}});break;case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ACCOUNT_BANNED:h.error({node:(0,Y.createElement)(eH("loginAccountBannedToast",eG)),description:r("loginAccountBannedToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败，账户被停用",payload:{code:"".concat(o),type:"mobile_sms",areaCode:"+86",reason:"banned",logId:s}});break;case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_EXPIRED:h.error({node:(0,Y.createElement)(eH("validateMobileNumberVerificationCodeIncorrectOrExpireToast",eG)),description:r("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码过期",payload:{code:"".concat(o),type:"mobile_sms",areaCode:"+86",reason:"expiredMobilePasscode",logId:s}});break;case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_VERIFY_FAILED:h.error({node:(0,Y.createElement)(eH("validateMobileNumberVerificationCodeIncorrectToast",eG)),description:r("validateMobileNumberVerificationCodeIncorrectToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码错误",payload:{code:"".concat(o),type:"mobile_sms",areaCode:"+86",reason:"incorrectMobilePasscode",logId:s}});break;case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.INTERNAL_SERVER_ERROR:case tt.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SSO_SERVER_ERROR:default:h.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(o),type:"mobile_sms",areaCode:"+86",reason:"unknownCode",logId:s}})}_(!1)}).catch(e=>{h.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),_(!1)})):l.error({name:"signInWithSmsCodeClientValidationFailed",message:"验证码登录客户端验证失败",payload:{mobile:f,verificationCode:E}})}}),(0,C.jsx)("div",{style:{height:33}})]})}n(21374);let tk="wxLogin";function tA(e){let{defaultLocationOrigin:t}=e,n=eZ(),[o,s]=(0,Y.useState)(!0),i=window.location.origin.startsWith("http://localhost")?t:window.location.origin,{baseUrl:l}=eW();return!function(){let[e]=(0,ee.lr)(),{tracker:t}=eW(),n=eZ(),a=(0,e9.pm)();(0,Y.useEffect)(()=>{if("WECHAT"!==e.get("provider"))return;let r=e.get("error"),o=e.get("code");if(o&&"0"!==o)switch(Number(o)){case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_NETWORK_ERROR:a.error({node:(0,Y.createElement)(eH("signInWithWechatNetworkFailedToast",eG)),description:n("signInWithWechatNetworkFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"networkFailed",code:String(o),error:r}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.GET_PROFILE_FAILED:a.error({node:(0,Y.createElement)(eH("signInWithWechatGetProfileFailedToast",eG)),description:n("signInWithWechatGetProfileFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"getProfileFailed",code:String(o),error:r}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:a.error({node:(0,Y.createElement)(eH("signInWithWechatSwapCodeFailedToast",eG)),description:n("signInWithWechatSwapCodeFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"swapCodeFailed",code:String(o),error:r}});break;case tt.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:a.error({node:(0,Y.createElement)(eH("signInWithWechatFailedToast",eG)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unexpectedFailed",code:String(o),error:r}});break;default:a.error({node:(0,Y.createElement)(eH("signInWithWechatFailedToast",eG)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unknownCode",code:String(o),error:r}})}},[e,n,a,t])}(),(0,Y.useEffect)(()=>{new Promise((e,t)=>{if(!U)throw Error("[@deepseek/wechat-login]: 未设置 appId");if(!a)throw Error("[@deepseek/wechat-login]: 未设置 tracker");if(document.querySelector("script[data-wxlogin]"))return e();let n=document.createElement("script");n.dataset.wxlogin="true",n.src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js",n.defer=!0,a.info({name:"__wxLoginScriptSetup",message:"微信登录 script 设置",payload:{}}),document.head.appendChild(n),n.onload=()=>(a.info({name:"__wxLoginScriptLoadOk",message:"微信登录 script 加载成功",payload:{}}),e()),n.onerror=e=>(a.error({name:"__wxLoginScriptLoadFailed",message:"微信登录 script 加载失败",payload:a.withError(e,{reason:"other"})}),t()),document.body.appendChild(n)}).then(()=>{s(!1),function(e){let{redirectUri:t,containerId:n}=e;r.info("开始渲染 微信登录组件 "+t);try{new window.WxLogin({self_redirect:!1,id:n,appid:U,scope:"snsapi_login",redirect_uri:t,stylelite:1,state:V?"beta":"",fast_login:0}),a.info({name:"__wxLoginWidgetRenderOk",message:"微信登录组件 渲染成功",payload:{}})}catch(e){throw a.error({name:"__wxLoginWidgetRenderFailed",message:"微信登录组件 渲染失败",payload:a.withError(e,{reason:"other"})}),e}}({redirectUri:encodeURIComponent("".concat(i).concat(l,"/oauth/wechat/callback")),containerId:tk})}).catch(()=>{s(!0)})},[i,l]),(0,C.jsxs)("div",{className:"ds-sign-in-with-wechat-block",children:[o&&(0,C.jsx)("div",{className:"ds-sign-in-with-wechat-block__wrapper",children:(0,C.jsx)(tc.O,{style:{width:170,height:170,margin:16}})}),(0,C.jsx)("div",{id:tk,className:"ds-sign-in-with-wechat-block__wrapper"}),(0,C.jsxs)("div",{className:"ds-sign-in-with-wechat-block__description",children:[(0,C.jsx)(eP.J,{className:"ds-sign-in-with-wechat-block__logo",width:30,children:(0,C.jsx)(eT,{})}),(0,C.jsx)("span",{children:n("signInWithWechatQRcodeDialogDescription")})]})]})}function tR(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:r,onGoogleSignIn:o,headerLogoNode:s,forceShowGoogleSignIn:i,defaultLocationOrigin:l,defaultLoginMethod:d="code",regionCode:c,onLoginMethodChange:u,blockSmsLogin:h}=e,p=eZ(),{isMainlandChina:g,isBeta:m}=eW(),f=g&&!h,[v,x]=(0,Y.useState)(f?d:"password"),E=i||!g&&!m;return(0,Y.useEffect)(()=>{Z()},[]),(0,C.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,C.jsx)("div",{className:"ds-sign-up-form__icon",children:s}),(0,C.jsxs)("div",{className:"ds-sign-up-form__main",children:[(0,C.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[f&&(0,C.jsx)(tf,{gap:30,className:"ds-sign-up-form__tabs",tabs:[{key:"code",title:p("signInFormTabBySmsOption")},{key:"password",title:p("signInFormTabByPasswordOption")}],value:v,onChange:e=>{x(e),null==u||u(e)}}),(0,C.jsx)("div",{className:"ds-sign-up-form__tips",children:p(g?"mainlandLoginWaysTip":"overseaLoginWaysTip")}),f&&"code"===v&&(0,C.jsx)(tj,{regionCode:c,beAuthenticated:t,onAfterSignInOk:n}),"password"!==v&&f?null:(0,C.jsx)(tI,{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:r}),E&&(0,C.jsx)(tv,{showLine:!0,style:{margin:"16px 0"},children:p("signInDividerOr")}),E&&(0,C.jsx)(tE,{onGoogleSignIn:o})]}),g?(0,C.jsx)("div",{className:"ds-sign-up-form__main-wechat",children:(0,C.jsx)(tA,{defaultLocationOrigin:l})}):null]})]})}var tN=n(19170);function tL(e){let{onClick:t,loading:n,disabled:a,children:r}=e;return(0,C.jsx)(e4.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,disabled:a,loading:n,children:r})}function tF(e){let{onGoToSignIn:t}=e,n=eZ();return(0,C.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,C.jsx)(e4.z,{type:"primary",variant:"text",size:"s",onClick:t,children:n("goToSignIn")})})}let tO=tw();function tP(e){let{regionCode:t,onGoToSignIn:n,beAuthenticated:a,onAfterSignUpOk:r}=e,o=eZ(),s=(0,e9.pm)(),{http:i,baseUrl:l,locale:d,serverApiUserToUser:c,tracker:u,turnstileEnabled:h,captchaEnabled:p}=eW(),{node:g,onSubmit:m,value:f,validateForVerificationCode:v}=function(e){var t;let{placeholder:n,inputProps:a,stringValueHolder:r}=e,[o,s]=(0,Y.useState)(null!==(t=null==r?void 0:r.get)&&void 0!==t?t:""),[i,l]=(0,Y.useState)(void 0),[d,c]=(0,Y.useState)(void 0);return{validateForVerificationCode:function(){if(0===o.length){l("error");let e=eH("registerEmailEmptyError",eG);return c((0,C.jsx)(e,{})),!1}if(!eQ(o)){l("error");let e=eH("registerEmailInputInvalidError",eG);return c((0,C.jsx)(e,{})),!1}return!0},value:o,onSubmit:()=>{if(0===o.length){l("error");let e=eH("registerEmailEmptyError",eG);return c((0,C.jsx)(e,{})),!1}return void 0===i},status:i,node:(0,C.jsx)(eR,{showFeedbackPlaceholder:!0,feedback:d,status:i,children:(0,C.jsx)(eO,{size:"l",value:o,variant:"bordered",onChange:e=>{let t=e.currentTarget.value;s(t),null==r||r.set(t),eQ(t)&&(l(void 0),c(void 0))},onBlur:e=>{let t=e.target.value;if(!t||eQ(t))l(void 0),c(void 0);else{l("error");let e=eH("registerEmailInputInvalidError",eG);c((0,C.jsx)(e,{}))}},icon:(0,C.jsx)(eP.J,{size:"1em",children:(0,C.jsx)(ew,{})}),placeholder:n,...a})})}}({placeholder:o("inputEmail"),stringValueHolder:tO}),{node:x,onSubmit:E,value:y}=tg({disabled:!1,passwordPlaceholder:o("inputPassword"),confirmPasswordPlaceholder:o("inputPasswordAgain")}),{node:b,onSubmit:_,value:w}=th({turnstileEnabled:h,captchaEnabled:p,scenario:"signUp",type:"email",target:f,disabled:!1,inputVerificationCodePlaceholder:o("inputEmailVerificationCode"),sendVerificationCodePlaceholder:o("sendVerificationCode"),verificationCodeCountDown:(0,Y.useCallback)(e=>{let{seconds:t}=e;return o("verificationCodeCountDown")(t)},[o]),validateForVerificationCode:v}),{node:S,onSubmit:I}=e5({acknowledgementRender:(0,Y.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return o("signUpAcknowledgement")(t,n)},[o])}),[T,M]=(0,Y.useState)(!1);return(0,C.jsx)("div",{className:"ds-sign-up-form__main",children:(0,C.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,C.jsxs)("div",{className:"ds-sign-up-form__description",children:[o("overseaSignUpWaysTip"),o("registerDescription")]}),g,x,b,S,(0,C.jsx)(tL,{loading:T,disabled:!1,onClick:async()=>{[m(),E(),_(),I()].every(e=>e)?(M(!0),(0,tt.Rh)({locale:d,region:t||tb.WN,payload:{email:f,emailVerificationCode:w,password:y},deviceId:await q()},{http:i,baseUrl:l},c).then(e=>{let{data:{code:t,user:n},context:{logId:i}}=e;if(t===tt.a$.REGISTER_ERROR_CODE.OK)n?(a(n),r(),u.info({name:"signUpOk",message:"注册成功",payload:{userId:"".concat(n.id)}})):(s.error({node:(0,Y.createElement)(eH("signUpFailedToast",eG)),description:o("signUpFailedToast")}),u.error({name:"signUpFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:i}}));else switch(t){case tt.a$.REGISTER_ERROR_CODE.EMAIL_EXISTS:s.error({node:(0,Y.createElement)(eH("registerEmailExistToast",eG)),description:o("registerEmailExistToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱存在",payload:{code:"".concat(t),reason:"emailExist",logId:i}});break;case tt.a$.REGISTER_ERROR_CODE.EMAIL_PASSCODE_FAILED:s.error({node:(0,Y.createElement)(eH("registerEmailPasscodeFailedToast",eG)),description:o("registerEmailPasscodeFailedToast")}),u.error({name:"signUpFailed",message:"注册失败，错误的邮箱验证码",payload:{code:"".concat(t),reason:"incorrectEmailPasscode",logId:i}});break;case tt.a$.REGISTER_ERROR_CODE.INVALID_PASSWORD:s.error({node:(0,Y.createElement)(eH("registerInvalidPasswordToast",eG)),description:o("registerInvalidPasswordToast")}),u.error({name:"signUpFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),reason:"invalidPassword",logId:i}});break;case tt.a$.REGISTER_ERROR_CODE.REGISTER_FROM_MAINLAND:s.error({node:(0,Y.createElement)(eH("registerRegisterFromMainlandToast",eG)),description:o("registerRegisterFromMainlandToast")}),u.error({name:"signUpFailed",message:"注册失败，注册请求从大陆发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:i}});break;case tt.a$.REGISTER_ERROR_CODE.EMAIL_EXPIRED:s.error({node:(0,Y.createElement)(eH("registerPasswordCodeExpiredToast",eG)),description:o("registerPasswordCodeExpiredToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱过期",payload:{code:"".concat(t),reason:"emailExpired",logId:i}});break;case tt.a$.REGISTER_ERROR_CODE.EMAIL_DOMAIN_NOT_SUPPORTED:s.error({node:(0,Y.createElement)(eH("registerEmailDomainNotSupportedToast",eG)),description:o("registerEmailDomainNotSupportedToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱域名不支持",payload:{code:"".concat(t),reason:"emailDomainNotSupported",logId:i}});break;default:u.error({name:"signUpFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:i}}),s.error({node:(0,Y.createElement)(eH("signUpFailedToast",eG)),description:o("signUpFailedToast")})}M(!1)}).catch(e=>{s.error({node:(0,Y.createElement)(eH("signUpFailedToast",eG)),description:o("signUpFailedToast")}),u.error({name:"signUpFailed",message:"其他异常",payload:u.withError(e,{reason:"other",email:f})}),M(!1)})):u.error({name:"signUpClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:w}})},children:o("signUp")}),(0,C.jsx)(tF,{onGoToSignIn:n})]})})}let tD=tw();function tB(e){let{regionCode:t,beAuthenticated:n,onSignUpOk:a,onGoToSignIn:r}=e,[o,s]=(0,Y.useState)(!1),i=eZ(),l=(0,e9.pm)(),{locale:d,http:c,baseUrl:u,tracker:h,captchaEnabled:p,turnstileEnabled:g,serverApiUserToUser:m}=eW(),{node:f,onSubmit:v,value:x,validateForVerificationCode:E}=tp({disabled:!1,placeholder:i("inputMobilePhoneNumber"),stringValueHolder:tD}),{node:y,onSubmit:b,value:_}=tg({disabled:!1,passwordPlaceholder:i("inputPassword"),confirmPasswordPlaceholder:i("inputPasswordAgain")}),{node:w,onSubmit:S,value:I}=th({captchaEnabled:p,turnstileEnabled:g,type:"sms",disabled:!1,target:x,scenario:"signUp",inputVerificationCodePlaceholder:i("inputSmsVerificationCode"),sendVerificationCodePlaceholder:i("sendVerificationCode"),verificationCodeCountDown:(0,Y.useCallback)(e=>{let{seconds:t}=e;return i("verificationCodeCountDown")(t)},[i]),validateForVerificationCode:E}),{node:T,onSubmit:M}=e5({acknowledgementRender:(0,Y.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return i("signUpAcknowledgement")(t,n)},[i])});return(0,C.jsx)("div",{className:"ds-sign-up-form__main",children:(0,C.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,C.jsxs)("div",{className:"ds-sign-up-form__description",children:[i("mainlandSignUpWaysTip"),i("registerDescription")]}),f,y,w,T,(0,C.jsx)(tL,{loading:o,disabled:!1,onClick:async()=>{[v(),b(),S(),M()].every(e=>e)?(s(!0),(0,tt.g2)({locale:d,region:t||tb.WN,payload:{mobile:x,smsVerificationCode:I,auditJsonString:JSON.stringify({reasons:[]}),password:_},deviceId:await q()},{http:c,baseUrl:u},m).then(e=>{let{data:{code:t,user:r},context:{logId:o}}=e;if(t===tt.a$.REGISTER_BY_MOBILE_ERROR_CODE.OK)r?(n(r),a(),h.info({name:"signUpByMobileOk",message:"注册成功",payload:{userId:"".concat(r.id)}})):(l.error({node:(0,Y.createElement)(eH("signUpFailedToast",eG)),description:i("signUpFailedToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:o}}));else switch(t){case tt.a$.REGISTER_BY_MOBILE_ERROR_CODE.MOBILE_ALREADY_REGISTER:l.error({node:(0,Y.createElement)(eH("registerMobileExistToast",eG)),description:i("registerMobileExistToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，手机号存在",payload:{code:"".concat(t),reason:"mobileExist",logId:o}});break;case tt.a$.REGISTER_BY_MOBILE_ERROR_CODE.PASSWORD_TOO_SHORT_OR_TOO_LONG:l.error({node:(0,Y.createElement)(eH("registerInvalidPasswordToast",eG)),description:i("registerInvalidPasswordToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),logId:o,reason:"invalidPassword"}});break;case tt.a$.REGISTER_BY_MOBILE_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:l.error({node:(0,Y.createElement)(eH("registerRegisterFromMainlandToast",eG)),description:i("registerRegisterFromMainlandToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，手机注册请求从海外发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:o}});break;case tt.a$.REGISTER_BY_MOBILE_ERROR_CODE.SMS_EXPIRED:l.error({node:(0,Y.createElement)(eH("validateMobileNumberVerificationCodeIncorrectOrExpireToast",eG)),description:i("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，验证码过期",payload:{code:"".concat(t),reason:"expiredMobilePasscode",logId:o}});break;case tt.a$.REGISTER_BY_MOBILE_ERROR_CODE.SMS_VERIFY_FAILED:l.error({node:(0,Y.createElement)(eH("validateMobileNumberVerificationCodeIncorrectToast",eG)),description:i("validateMobileNumberVerificationCodeIncorrectToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，验证码错误",payload:{code:"".concat(t),reason:"incorrectMobilePasscode",logId:o}});break;default:h.error({name:"signUpByMobileFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:o}}),l.error({node:(0,Y.createElement)(eH("signUpFailedToast",eG)),description:i("signUpFailedToast")})}s(!1)}).catch(e=>{l.error({node:(0,Y.createElement)(eH("signUpFailedToast",eG)),description:i("signUpFailedToast")}),h.error({name:"signUpByMobileFailed",message:"其他错误",payload:h.withError(e,{reason:"other",mobile:x})}),s(!1)})):h.error({name:"signUpByMobileClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:I}})},children:i("signUp")}),(0,C.jsx)(tF,{onGoToSignIn:r})]})})}function tz(e){let{icon:t,isIpLoading:n,regionCode:a,beAuthenticated:r,onGoToSignIn:o,onSignUpOk:s}=e,{isMainlandChina:i}=eW();return(0,Y.useEffect)(()=>{Z()},[]),(0,C.jsxs)("div",{className:"ds-auth-form-wrapper",children:[t,n?(0,C.jsx)("div",{className:"ds-auth-form-loading-wrapper",children:(0,C.jsx)(tN.g,{})}):i?(0,C.jsx)(tB,{regionCode:a,beAuthenticated:r,onSignUpOk:s,onGoToSignIn:o}):(0,C.jsx)(tP,{regionCode:a,onGoToSignIn:o,beAuthenticated:r,onAfterSignUpOk:s})]})}n(34481);let tH=tw();function tU(e){let{onNextStep:t}=e,n=eZ(),{http:a,baseUrl:r,tracker:o,captchaEnabled:s,turnstileEnabled:i}=eW(),l=(0,e9.pm)(),{node:d,validateAndGetTypeForVerificationCode:c,validateForVerificationCode:u,onSubmit:h,value:p}=eX({placeholder:n("forgotPasswordInputPlaceholder"),stringValueHolder:tH}),{node:g,onSubmit:m,value:f}=th({captchaEnabled:s,turnstileEnabled:i,scenario:"forgetPassword",disabled:!1,target:p,type:"smsOrEmail",inputVerificationCodePlaceholder:n("inputSmsVerificationCode"),sendVerificationCodePlaceholder:n("sendVerificationCode"),verificationCodeCountDown:(0,Y.useCallback)(e=>{let{seconds:t}=e;return n("verificationCodeCountDown")(t)},[n]),validateForVerificationCode:u,validateAndGetTypeForVerificationCode:c}),[v,x]=(0,Y.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"ds-forgot-password-form__description",children:n("forgotPasswordGeneralDescription")}),d,g,(0,C.jsx)(tV,{loading:v,onClick:()=>{[h(),m()].every(e=>e)&&(x(!0),"sms"===c(p)?(o.info({name:"checkSmsCodeApi",message:"检查短信验证码",payload:{code:f}}),(0,tt.iD)({areaCode:"+86",mobilePhoneNumber:p,smsVerificationCode:f},{baseUrl:r,http:a}).then(e=>{let{data:{code:a},context:{logId:r}}=e;switch(x(!1),a){case tt.a$.CHECK_SMS_CODE_ERROR_CODE.OK:o.info({name:"checkSmsCodeOk",message:"检查短信验证码成功",payload:{code:f}}),t({code:f,email:"",mobile:p});return;case tt.a$.CHECK_SMS_CODE_ERROR_CODE.SMS_EXPIRED:l.error({node:(0,Y.createElement)(eH("forgotPasswordCodeExpiredToast",eG)),description:n("forgotPasswordCodeExpiredToast")}),o.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码过期",payload:{scene:"forgetPassword",reason:"smsExpired",code:"".concat(a),logId:r}});return;case tt.a$.CHECK_SMS_CODE_ERROR_CODE.MOBILE_NOT_EXIST:l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedMobileNotExistToast1",eG)),description:n("forgotPasswordFailedMobileNotExistToast1")}),o.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，手机号未注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(a),logId:r}});return;case tt.a$.CHECK_SMS_CODE_ERROR_CODE.SMS_VERIFY_FAILED:l.error({node:(0,Y.createElement)(eH("forgotPasswordCodeInvalidToast",eG)),description:n("forgotPasswordCodeInvalidToast")}),o.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"smsVerifyFailed",code:"".concat(a),logId:r}});return;default:l.error({node:(0,Y.createElement)(eH("forgotPasswordCheckCodeFailedToast",eG)),description:n("forgotPasswordCheckCodeFailedToast")}),o.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(a),logId:r}});return}}).catch(e=>{x(!1),l.error({node:(0,Y.createElement)(eH("forgotPasswordCheckCodeFailedToast",eG)),description:n("forgotPasswordCheckCodeFailedToast")}),o.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，其他错误",payload:o.withError(e,{scene:"forgetPassword",reason:"other"})})})):(o.info({name:"checkEmailCodeApi",message:"检查短信验证码",payload:{code:f}}),(0,tt._4)({emailVerificationCode:f,email:p},{http:a,baseUrl:r}).then(e=>{let{data:{code:a},context:{logId:r}}=e;switch(x(!1),a){case tt.a$.CHECK_EMAIL_CODE_ERROR_CODE.OK:o.info({name:"checkEmailCodeOk",message:"检查邮箱验证码成功",payload:{code:f}}),t({code:f,email:p,mobile:""});return;case tt.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_EXPIRED:l.error({node:(0,Y.createElement)(eH("forgotPasswordCodeExpiredToast",eG)),description:n("forgotPasswordCodeExpiredToast")}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮件过期",payload:{scene:"forgetPassword",reason:"emailExpired",code:"".concat(a),logId:r}});return;case tt.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_NOT_EXIST:l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedEmailNotExistToast1",eG)),description:n("forgotPasswordFailedEmailNotExistToast1")}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮箱没有被注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(a),logId:r}});return;case tt.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_VERIFY_FAILED:l.error({node:(0,Y.createElement)(eH("forgotPasswordCodeInvalidToast",eG)),description:n("forgotPasswordCodeInvalidToast")}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"emailVerifyFailed",code:"".concat(a),logId:r}});return;default:l.error({node:(0,Y.createElement)(eH("forgotPasswordCheckCodeFailedToast",eG)),description:n("forgotPasswordCheckCodeFailedToast")}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(a),logId:r}});return}}).catch(e=>{x(!1),l.error({node:(0,Y.createElement)(eH("forgotPasswordCheckCodeFailedToast",eG)),description:n("forgotPasswordCheckCodeFailedToast")}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，其他错误",payload:o.withError(e,{scene:"forgetPassword",reason:"other"})})})))}})]})}function tV(e){let{onClick:t,loading:n}=e,a=eZ();return(0,C.jsx)(e4.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,loading:n,children:a("forgotPasswordNextStepButton")})}function tW(e){let{code:t,mobile:n,email:a,delayedNavigate:r}=e,[o,s]=(0,Y.useState)(!1),i=eZ(),l=(0,e9.pm)(),{http:d,baseUrl:c,tracker:u}=eW(),{node:h,onSubmit:p,value:g}=tg({disabled:o,passwordPlaceholder:i("forgotPasswordPasswordInputPlaceholder"),confirmPasswordPlaceholder:i("forgotPasswordConfirmPasswordInputPlaceholder")});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"ds-forgot-password-form__description",children:i("forgotPasswordNewPasswordDescription")(n||a)}),h,(0,C.jsx)(tG,{loading:o,onClick:()=>{p()&&(s(!0),n?(u.info({name:"resetPasswordMobile",message:"手机重置密码",payload:{}}),(0,tt.wh)({mobile:n,smsVerificationCode:t,areaCode:"+86",password:g},{http:d,baseUrl:c}).then(e=>{let{data:{code:t},context:{logId:n}}=e;switch(s(t===tt.a$.MobileResetPasswordServerErrorCode.OK),t){case tt.a$.MobileResetPasswordServerErrorCode.OK:u.info({name:"resetPasswordMobileOk",message:"手机重置密码成功",payload:{}}),l.success({node:(0,Y.createElement)(eH("forgotPasswordOkToast",eG)),description:i("forgotPasswordOkToast")}),r();return;case tt.a$.MobileResetPasswordServerErrorCode.MOBILE_NOT_EXIST:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，手机号不存在",payload:{logId:n,reason:"mobileNotExist"}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedMobileNotExistToast2",eG)),description:i("forgotPasswordFailedMobileNotExistToast2")});return;case tt.a$.MobileResetPasswordServerErrorCode.SMS_EXPIRED:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码过期",payload:{logId:n,reason:"smsExpired"}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedCodeExpiredToast",eG)),description:i("forgotPasswordFailedCodeExpiredToast")});return;case tt.a$.MobileResetPasswordServerErrorCode.SMS_VERIFY_FAILED:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码错误",payload:{logId:n,reason:"smsVerifyFailed"}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedCodeVerifyFailedToast",eG)),description:i("forgotPasswordFailedCodeVerifyFailedToast")});return;case tt.a$.MobileResetPasswordServerErrorCode.INVALID_PASSWORD:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，密码不合法",payload:{logId:n,reason:"invalidPassword"}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordInvalidPasswordToast",eG)),description:i("forgotPasswordInvalidPasswordToast")});return;default:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，未知错误码",payload:{logId:n,reason:"unknownCode"}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedToast",eG)),description:i("forgotPasswordFailedToast")});return}}).catch(e=>{s(!1),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedToast",eG)),description:i("forgotPasswordFailedToast")}),u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，其他错误",payload:u.withError(e,{mobile:n,reason:"other"})})})):(u.info({name:"resetPasswordEmail",message:"邮箱重置密码",payload:{}}),(0,tt.VB)({email:a,emailVerificationCode:t,password:g},{http:d,baseUrl:c}).then(e=>{let{data:{code:t},context:{logId:n}}=e;switch(s(t===tt.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.OK),t){case tt.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.OK:u.info({name:"resetPasswordEmailOk",message:"邮箱重置密码成功",payload:{}}),l.success({node:(0,Y.createElement)(eH("forgotPasswordOkToast",eG)),description:i("forgotPasswordOkToast")}),r();return;case tt.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_NOT_EXIST:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，邮箱地址不存在",payload:{reason:"emailNotExist",logId:n}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedEmailNotExistToast2",eG)),description:i("forgotPasswordFailedEmailNotExistToast2")});return;case tt.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_EXPIRED:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码过期",payload:{reason:"emailExpired",logId:n}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedCodeExpiredToast",eG)),description:i("forgotPasswordFailedCodeExpiredToast")});return;case tt.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_VERIFY_FAILED:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码错误",payload:{reason:"emailVerifyFailed",logId:n}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedCodeVerifyFailedToast",eG)),description:i("forgotPasswordFailedCodeVerifyFailedToast")});return;default:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:{reason:"unknownCode",logId:n}}),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedToast",eG)),description:i("forgotPasswordFailedToast")});return}}).catch(e=>{s(!1),l.error({node:(0,Y.createElement)(eH("forgotPasswordFailedToast",eG)),description:i("forgotPasswordFailedToast")}),u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:u.withError(e,{reason:"other",email:a})})})))}})]})}function tG(e){let{onClick:t,loading:n}=e,a=eZ();return(0,C.jsx)(e4.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,loading:n,children:a("forgotPasswordButton")})}function tZ(e){let{headerLogoNode:t,forgotPasswordBackToSignIn:n,delayedNavigate:a}=e,r=eZ(),[o,s]=(0,Y.useState)(""),[i,l]=(0,Y.useState)(0),[d,c]=(0,Y.useState)(""),[u,h]=(0,Y.useState)("");return(0,C.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,C.jsx)("div",{className:"ds-forgot-password-form__icon",children:t}),(0,C.jsx)("div",{className:"ds-sign-up-form__main",children:(0,C.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,C.jsx)("div",{className:"ds-forgot-password-form__title",children:r("forgotPasswordTitle")}),0===i?(0,C.jsx)(tU,{onNextStep:e=>{let{code:t,email:n,mobile:a}=e;s(t),h(a),c(n),l(1)}}):(0,C.jsx)(tW,{email:d,mobile:u,code:o,delayedNavigate:a}),(0,C.jsx)("div",{className:"ds-forgot-password-form__form-footer",children:0===i?(0,C.jsx)(e4.z,{type:"primary",variant:"text",size:"s",onClick:n,children:r("forgotPasswordBackToSignIn")},0):(0,C.jsx)(e4.z,{type:"primary",variant:"text",size:"s",onClick:()=>l(0),children:r("forgotPasswordGetBack")},1)})]})})]})}var tq=n(1237);function tY(e){let{size:t,variant:n,email:a,afterDeleteAccountOk:r}=e,{http:o,baseUrl:s,tracker:i}=eW(),l=eZ(),d=(0,e9.pm)(),[c,u]=(0,Y.useState)(!1),[h,p]=(0,Y.useState)(!1),[g,m]=(0,Y.useState)(""),f=l("deleteAccountModalConfirmText"),v=g.trim()!==f,{deleteAccountButtonTheme:x}=eW();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(e4.z,{size:t,type:"error",variant:n,onClick:()=>{u(!0)},theme:{color:null==x?void 0:x.enterButtonColor,hoverColor:null==x?void 0:x.enterButtonTextColor},children:l("deleteAccountSettingDialogButton")}),(0,C.jsx)(eh,{appear:!1,show:c,onShowChange:u,onAfterClose:()=>{m("")},children:(0,C.jsxs)(eg,{variant:"dialog",title:l("deleteAccountModalTitle"),onClose:()=>{u(!1)},theme:{color:null==x?void 0:x.modalContentColor,textColor:null==x?void 0:x.modalContentTextColor},footer:(0,C.jsxs)(em,{children:[(0,C.jsx)(e4.z,{variant:"filled",size:"m",onClick:()=>{u(!1)},type:"secondary",domProps:{"data-autofocus":!0},theme:{color:null==x?void 0:x.cancelButtonColor,hoverColor:null==x?void 0:x.cancelButtonHoverColor},children:l("deleteAccountModalCancel")}),(0,C.jsx)(e4.z,{variant:"filled",size:"m",loading:h,disabled:v,theme:{color:v?null==x?void 0:x.confirmButtonDisableColor:null==x?void 0:x.confirmButtonColor,hoverColor:null==x?void 0:x.confirmButtonHoverColor},onClick:()=>{p(!0),(0,tt.V6)(void 0,{http:o,baseUrl:s}).then(e=>{"OK"===e?(p(!1),u(!1),d.success({node:(0,Y.createElement)(eH("deleteAccountOkToast",eG)),description:l("deleteAccountOkToast")}),r()):(p(!1),d.error({node:(0,Y.createElement)(eH("deleteAccountFrequentFailToast",eG)),description:l("deleteAccountFrequentFailToast")}))}).catch(e=>{i.error({name:"deleteAccountFailed",message:"删除账户失败",payload:i.withError(e,{})}),d.error({node:(0,Y.createElement)(eH("deleteAccountFailedToast",eG)),description:l("deleteAccountFailedToast")}),p(!1)})},type:"error",children:l("deleteAccountModalConfirm")})]}),children:[(0,C.jsx)(tq.C,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:l("deleteAccountModalContent")(a,f)}),(0,C.jsx)(eO,{variant:"bordered",value:g,placeholder:f,onChange:e=>{m(e.currentTarget.value)}})]})})]})}n(55413);let tK=["GOOGLE","WECHAT"],tQ=e=>tK.includes(e);function tX(e){let{beAuthenticated:t,beUnauthenticated:n,directToHome:a}=e,{setStorageUserToken:r,http:o,baseUrl:s,tracker:i,serverApiUserToUser:l}=eW(),d=eZ(),[c]=(0,ee.lr)(),u=(0,e9.pm)();return(0,Y.useEffect)(()=>{let e=c.get("nonce"),d=c.get("provider");if(!e||!tQ(d)){n({navigateToSignIn:!0,isBanned:!1});return}(0,tt.h_)({nonce:e,provider:d},{http:o,baseUrl:s}).then(e=>{let{data:{token:d}}=e;r(d),(0,tt.I3)(void 0,{http:o,baseUrl:s},l).then(e=>{var n,r;let{data:{user:o}}=e;t(o);let s=c.get("new");(null===(n=o.idProfile)||void 0===n?void 0:n.provider)==="GOOGLE"?"1"===s?i.info({name:"signUpWithGoogleOk",message:"Google 注册成功",payload:{id:String(o.id),profile:JSON.stringify(o.idProfile)||tb.WN}}):i.info({name:"signInWithGoogleOK",message:"Google 登录成功",payload:{id:String(o.id),profile:JSON.stringify(o.idProfile)||tb.WN,newUser:"".concat("1"===s)}}):(null===(r=o.idProfile)||void 0===r?void 0:r.provider)==="WECHAT"&&i.info({name:"signInWithWechatOK",message:"微信登录成功",payload:{id:String(o.id),profile:JSON.stringify(o.idProfile)||tb.WN,newUser:"".concat("1"===s)}}),a()}).catch(e=>{u.error({node:(0,Y.createElement)(eH("signInFailed",eG)),description:"signInFailed"}),n({navigateToSignIn:!0,isBanned:!1}),i.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:i.withError(e,{scene:"signInWithGoogle",reason:"other",token:d})})})})},[c,d,u,t,n,r,i,a,o,s,l]),(0,C.jsx)("div",{className:"ds-authorized-container__loading",children:(0,C.jsx)(tN.g,{})})}function tJ(e){let{unavailableLogo:t,navigateHome:n}=e,a=eZ();return(0,C.jsxs)("div",{className:"ds-banned-container__wrapper",children:[(0,C.jsx)("div",{className:"ds-banned-container__logo",children:t}),(0,C.jsx)("div",{className:"ds-banned-container__slogan",children:(0,C.jsx)(tq.C,{showEmailLink:!0,showMarkdownLink:!0,children:a("bannedPageSlogan")})}),(0,C.jsx)(e4.z,{size:"m",onClick:n,children:a("bannedPageBackToHome")})]})}function t$(e){let{color:t,size:n="inherit",lineHeight:a=n,fontSize:r=n,block:o=!1,monospace:s,children:i,domRef:l,style:d}=e;return(0,C.jsx)("span",{ref:l,style:d,className:(0,er.Z)("".concat(J.F,"-text"),o&&"".concat(J.F,"-text--block"),t&&"".concat(J.F,"-text--").concat(t),s&&"".concat(J.F,"-text--monospace"),"inherit"!==r&&"".concat(J.F,"-text--f").concat(r),"inherit"!==r&&"".concat(J.F,"-text--l").concat(a)),children:i})}function t1(e){let{contactUsEmail:t}=e,n=eZ();return(0,C.jsxs)("div",{className:"ds-auth-footer",children:[(0,C.jsx)(eJ.A,{href:n("footerICPLink"),children:(0,C.jsx)(t$,{style:t0,children:n("footerICPTitle")})}),(0,C.jsx)(t$,{style:t0,children:"\xa0\xb7\xa0"}),(0,C.jsx)(eJ.A,{href:"mailto:".concat(t),children:(0,C.jsx)(t$,{style:t0,children:n("contactUsButton")})})]})}n(27934),n(4708),n(63702),n(18);let t0={color:"var(--dsr-text-3, #D4D4D4)"};n(7195),n(59654);let t2=tw();function t3(e){let{headerLogoNode:t,beAuthenticated:n,beUnauthenticated:a,directToHome:r,onGoToSignIn:o}=e,s=eZ(),i=(0,e9.pm)(),{http:l,tracker:d,baseUrl:c,captchaEnabled:u,turnstileEnabled:h,serverApiUserToUser:p}=eW(),[g,m]=(0,Y.useState)(!1),[f]=(0,ee.lr)();(0,Y.useEffect)(()=>{Z()},[]);let{node:v,validateForVerificationCode:x,onSubmit:E,value:y}=tp({disabled:!1,placeholder:s("inputMobilePhoneNumber"),stringValueHolder:t2}),{node:b,onSubmit:_,value:w}=th({captchaEnabled:u,turnstileEnabled:h,scenario:"verifyMobile",disabled:!1,target:y,type:"sms",inputVerificationCodePlaceholder:s("inputSmsVerificationCode"),sendVerificationCodePlaceholder:s("sendVerificationCode"),verificationCodeCountDown:(0,Y.useCallback)(e=>{let{seconds:t}=e;return s("verificationCodeCountDown")(t)},[s]),validateForVerificationCode:x});return(0,C.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,C.jsx)("div",{className:"ds-mobile-verification-form__icon",children:t}),(0,C.jsx)("div",{className:"ds-sign-up-form__main",children:(0,C.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,C.jsx)("div",{className:"ds-mobile-verification-form__title",children:s("mobileVerficationFormTitle")}),(0,C.jsx)("div",{className:"ds-mobile-verification-form__description",children:s("mobileVerficationFormDescription")}),v,b,(0,C.jsx)(e4.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-mobile-verification-form__bind-button",onClick:()=>{if(![E(),_()].every(e=>e))return;let e=f.get("signature");if(!e){i.error({node:(0,Y.createElement)(eH("mobileVerficationFormInvalidAddrToast",eG)),description:"mobileVerficationFormInvalidAddr"}),d.error({name:"mobileVerficationWithWechatFailed",message:"访问了无效的URL地址",payload:{reason:"invalidAddress",address:window.location.href}});return}m(!0),(0,tt.ev)({signature:e,mobilePhoneNumber:y,areaCode:"+86",smsVerificationCode:w},{http:l,baseUrl:c},p).then(t=>{let{data:{code:o,user:l,successCode:c}}=t;switch(o){case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.OK:if(l&&c){switch(n(l),c){case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.REGISTERED_WECHAT_AND_MOBILE:d.info({name:"signInWithWechatOK",message:"微信登录绑定新手机号，成功登录",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tb.WN,newUser:"true"}}),d.info({name:"signUpWithWechatOk",message:"微信登录绑定新手机号，成功注册",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tb.WN}});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.BOUND_WECHAT_TO_EXISTING_MOBILE:d.info({name:"signInWithWechatOK",message:"微信登录绑定已有手机号，成功登录",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tb.WN,newUser:"false"}})}r()}break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.ACCOUNT_ALREADY_EXISTS:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormAccountAlreadyExistsErrorToast",eG)),description:s("mobileVerficationFormAccountAlreadyExistsErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，手机号已被绑定",payload:{reason:"accountAlreadyExists",signature:e,mobile:y,smsVerificationCode:w}});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.REGISTRATION_EXPIRED:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormRegistrationExpiredErrorToast",eG)),description:s("mobileVerficationFormRegistrationExpiredErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，授权已失效",payload:{reason:"registrationExpired",signature:e,mobile:y,smsVerificationCode:w}}),a({navigateToSignIn:!1,isBanned:!1});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.GET_PROFILE_FAILED:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormGetProfileFailedErrorToast",eG)),description:s("mobileVerficationFormGetProfileFailedErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，获取微信账户信息失败",payload:{reason:"getProfileFailed",signature:e,mobile:y,smsVerificationCode:w}}),a({navigateToSignIn:!1,isBanned:!1});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_VERIFY_FAILED:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormSmsVerifyFailedCodeErrorToast",eG)),description:s("mobileVerficationFormSmsVerifyFailedCodeErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，验证码错误",payload:{reason:"smsVerifyFailed",signature:e,mobile:y,smsVerificationCode:w}});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_EXPIRED:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormSmsExpiredCodeErrorToast",eG)),description:s("mobileVerficationFormSmsExpiredCodeErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，验证码失效",payload:{reason:"smsExpired",signature:e,mobile:y,smsVerificationCode:w}});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_PHONE_NUMBER_BANNED:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormMobilePhoneNumberBannedErrorToast",eG)),description:s("mobileVerficationFormMobilePhoneNumberBannedErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，该手机号账户已被禁用",payload:{reason:"mobilePhoneNumberBanned",signature:e,mobile:y,smsVerificationCode:w}});break;case tt.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.INTERNAL_SERVER_ERROR:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormUnknownErrorToast",eG)),description:s("mobileVerficationFormUnknownErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，未知错误",payload:{reason:"unexpectedFailed",signature:e,mobile:y,smsVerificationCode:w}});break;default:i.error({node:(0,Y.createElement)(eH("mobileVerficationFormUnknownErrorToast",eG)),description:s("mobileVerficationFormUnknownErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，未知错误码",payload:{reason:"unknownCode",signature:e,mobile:y,smsVerificationCode:w}})}}).catch(t=>{i.error({node:(0,Y.createElement)(eH("mobileVerficationFormUnknownErrorToast",eG)),description:s("mobileVerficationFormUnknownErrorToast")}),a({navigateToSignIn:!0,isBanned:!1}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败",payload:d.withError(t,{scene:"signInWithWechat",reason:"other",signature:e,mobile:y,smsVerificationCode:w})})}).finally(()=>{m(!1)})},loading:g,children:s("mobileVerficationFormSubmitButton")}),(0,C.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,C.jsx)(e4.z,{type:"primary",variant:"text",size:"s",onClick:o,children:s("validateMobileNumberBackToSignIn")},1)})]})})]})}let t5=(0,Y.createContext)(null);function t4(e){let{children:t,beAuthenticated:n,beUnauthenticated:a}=e,r=(0,Y.useMemo)(()=>({beAuthenticated:n,beUnauthenticated:a}),[n,a]);return(0,C.jsx)(t5.Provider,{value:r,children:t})}function t9(){let e=(0,Y.useContext)(t5);if(!e)throw Error("`useAuth` must be used in AuthProvider");return e}var t6=n(76763);let t7=(0,Y.memo)(function(e){let{condition:t}=e;return(0,C.jsx)(t6.l.Banner,{deployEnv:"production",condition:t})});var t8=n(60645);function ne(e){let{children:t}=e,n=t6.a.useTranslate();return(0,C.jsxs)("div",{className:t8.frame,children:[(0,C.jsx)("style",{children:nt}),(0,C.jsx)("div",{className:t8.banner,children:(0,C.jsx)(t7,{condition:"unauthenticated"})}),(0,C.jsx)("div",{className:t8.main,children:t}),(0,C.jsx)("div",{className:t8.footer,children:(0,C.jsx)(t1,{contactUsEmail:n("supportEmail")})})]})}let nt="body[data-ds-dark-theme] { --dsr-bg: #000; }";function nn(e){return(0,et.bS)(e)}function na(){let e=(0,et.s0)(),t=(0,et.TH)();return(0,ec.$0)(function(n,a){if(n!==t6.l.resolvePathRelativeToPublicPath(t.pathname)){if(a){let t=n;for(let e in a){let n=a[e];void 0!==n&&(t=t.replace(":".concat(e),n))}e(t)}else e(n)}})}let nr="https://download.deepseek.com/app/",no=()=>{window.open(nr)};var ns=((l={}).ROOT="/",l.AGENT="/a/:agentId",l.AGENT_SESSION="/a/:agentId/s/:sessionId",l.AUTHORIZED="/authorized",l.SIGN_UP="/sign_up",l.SIGN_IN="/sign_in",l.FORGOT_PASSWORD="/forgot_password",l.BANNED="/banned",l.MOBILE_VERIFICATION="/mobile_verification",l.FEEDBACK="/feedback",l.CHARACTER_EXPLORE="/role/explore",l.CHARACTER_CREATE="/role/create",l.CHARACTER_EDIT="/role/edit/:characterId",l.CHARACTER_MINE="/role/mine",l.NONE="[none]",l);let ni={"/authorized":{isLogoutOnly:!0},"/sign_up":{isLogoutOnly:!0},"/sign_in":{isLogoutOnly:!0},"/forgot_password":{isLogoutOnly:!0},"[none]":{isLogoutOnly:!1},"/banned":{isLogoutOnly:!0},"/a/:agentId":{isLogoutOnly:!1},"/a/:agentId/s/:sessionId":{isLogoutOnly:!1},"/mobile_verification":{isLogoutOnly:!0},"/feedback":{isLogoutOnly:!0},"/":{isLogoutOnly:!1},"/role/explore":{isLogoutOnly:!1},"/role/create":{isLogoutOnly:!1},"/role/edit/:characterId":{isLogoutOnly:!1},"/role/mine":{isLogoutOnly:!1}},nl=["/","/a/:agentId","/a/:agentId/s/:sessionId","/authorized","/sign_up","/sign_in","/forgot_password","/banned","/mobile_verification","/feedback","/role/explore","/role/create","/role/edit/:characterId","/role/mine"];var nd=n(19107),nc=n(38842);let nu={current:!1};var nh=n(47202);function np(e){let{children:t}=e,n=(0,nh.F)();return(0,C.jsx)($,{rgbPrimary:n?"78 107 245":"77 107 254",buttonHoverColor:n?"#3D4FA9":"#2563EB",borderedSecondaryButtonColor:"var(--dsr-text-1)",inputPrefixColor:"var(--dsr-text-1)",modalContentColor:n?"#3A3A46":void 0,label1:n?"#F8FAFF":void 0,label2:n?"#BBB":void 0,rgbHover:n?"68 68 77":"245 245 245",rgbInput:n?"85 85 98":void 0,rgbInputFocus:n?"58 58 70":void 0,textPrimaryButtonColor:n?"#6780FE":void 0,tabsActiveColor:n?"#6780FE":void 0,children:t})}let ng=(0,e6.Ue)(e=>({forceGoogleLogin:!1,toggleForceGoogleLogin(){e(e=>({forceGoogleLogin:!e.forceGoogleLogin}))}}));var nm=n(35900),nf=n(60758),nC=n(82287),nv=n(68075),nx=n(92414),nE=n(98930),ny=n(5338);let nb=(0,nv.AY)(),n_=e=>{nb("captureException",e)},nw=e=>{let t=new URL(e).pathname;for(let e of nl)if((0,nE.LX)(e,t))return e;return e};function nS(e){let{children:t}=e,n=(0,et.TH)();return(0,C.jsx)(t6.l.ErrorBoundary,{onError:e=>{t6.l.tracker.error({name:"routeRenderFailed",message:"触发路由 Error Boundary",payload:t6.l.withError(e,{pathname:n.pathname})}),n_(e)},renderFallback:e=>{let{error:t,reset:n}=e;return(0,C.jsx)(nI,{error:t,onReset:n})},renderFallbackLastResort:e=>{let{error:t}=e;return(0,C.jsx)(nT,{error:t})},children:t})}function nI(e){let{error:t}=e,n=t6.a.useTranslate(),a=t6.l.useIsDebug();return(0,C.jsx)("div",{className:nC.container,children:(0,C.jsxs)("div",{className:nC.main,children:[(0,C.jsx)("div",{className:nC.title,children:n("errorPageTitle")}),a?(0,C.jsx)("pre",{className:nC.error,children:JSON.stringify((0,nf.Xy)(t),null,2)}):null,(0,C.jsx)("div",{className:nC.action,children:(0,C.jsx)(e4.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{window.location.reload()},children:n("errorPageReloadButton")})})]})})}function nT(e){let{error:t}=e;return(0,Y.useEffect)(()=>{t6.l.tracker.error({name:"routeRenderFailLastResort",message:"触发路由 Error Boundary 且 ErrorContent 渲染失败",payload:t6.l.withError(t,{})})},[t]),(0,C.jsx)("div",{className:nC.container,children:(0,C.jsxs)("div",{className:nC.main,children:[(0,C.jsx)("div",{className:nC.title,children:"Something went wrong. 似乎出了点问题"}),(0,C.jsx)("div",{className:nC.action,children:(0,C.jsx)("button",{onClick:()=>{window.location.reload()},children:"Reload 重新加载"})})]})})}var nM=n(40677);function nj(e){let{onResize:t,children:n,forwardedRef:a}=e,r=a||(0,Y.useRef)(null),o=(0,ec.II)(t),s=(0,Y.useRef)(!0);return(0,Y.useLayoutEffect)(()=>{let e=r.current;if(e){let t=new nM.do(e=>{o.current({entry:e[0],isFirst:s.current}),s.current=!1});return t.observe(e),()=>{t.unobserve(e)}}},[r.current]),n({ref:r})}let nk=null,nA=null,nR=()=>null===nk?(null===nA&&(nA=Promise.all([n.e("945").then(n.bind(n,70663)).then(e=>nk=e.default),n.e("945").then(n.bind(n,48908)),n.e("945").then(n.t.bind(n,69151,19))]).then(e=>{let[t]=e;return t})),nA):nk;var nN=n(3766),nL=n(22969),nF=n(12269),nO=n(40587),nP=n(81426),nD=n(29225);let nB={extensions:[(0,n(89322).r)()],mdastExtensions:[(0,nD.H)()]},nz={extensions:[(0,nO.m)({singleDollarTextMath:!1})],mdastExtensions:[(0,nP.N)()]},nH=e=>e.replace(/\[citation:(\d+)\]/g,":cite[$1]"),nU=e=>e.replace(/:cite\[(\d+)\]/g,"[citation:$1]");n(59863),n(11854);var nV=n(28451),nW=n(80969);async function nG(e,t){try{await navigator.clipboard.writeText(e)}catch{!function(e,t){t=t||document.body;let n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",t.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),t.removeChild(n)}(e,t)}}n(50784);let nZ=[],nq={shell:"bash",assembly:"asm6502",asm:"asm6502",vue:"markup",xml:"markup",html:"markup","c++":"cpp",cc:"cpp",cplusplus:"cpp",abap:"abap",abnf:"abnf",actionscript:"actionscript",ada:"ada",agda:"agda",al:"al",antlr4:"antlr4",apacheconf:"apacheconf",apex:"apex",apl:"apl",applescript:"applescript",aql:"aql",arduino:"arduino",arff:"arff",armasm:"armasm",arturo:"arturo",asciidoc:"asciidoc",asm6502:"asm6502",asmatmel:"asmatmel",aspnet:"aspnet",autohotkey:"autohotkey",autoit:"autoit",avisynth:"avisynth","avro-idl":"avro-idl",awk:"awk",bash:"bash",basic:"basic",batch:"batch",bbcode:"bbcode",bbj:"bbj",bicep:"bicep",birb:"birb",bison:"bison",bnf:"bnf",bqn:"bqn",brainfuck:"brainfuck",brightscript:"brightscript",bro:"bro",bsl:"bsl",c:"c",cfscript:"cfscript",chaiscript:"chaiscript",cil:"cil",cilkc:"cilkc",cilkcpp:"cilkcpp",clike:"clike",clojure:"clojure",cmake:"cmake",cobol:"cobol",coffeescript:"coffeescript",concurnas:"concurnas",cooklang:"cooklang",coq:"coq",core:"core",cpp:"cpp",crystal:"crystal",cs:"csharp","c#":"csharp",csharp:"csharp",cshtml:"cshtml",csp:"csp","css-extras":"css-extras",css:"css",csv:"csv",cue:"cue",cypher:"cypher",d:"d",dart:"dart",dataweave:"dataweave",dax:"dax",dhall:"dhall",diff:"diff",django:"django","dns-zone-file":"dns-zone-file",docker:"docker",dot:"dot",ebnf:"ebnf",editorconfig:"editorconfig",eiffel:"eiffel",ejs:"ejs",elixir:"elixir",elm:"elm",erb:"erb",erlang:"erlang",etlua:"etlua","excel-formula":"excel-formula",factor:"factor",false:"false","firestore-security-rules":"firestore-security-rules",flow:"flow",fortran:"fortran",fsharp:"fsharp",ftl:"ftl",gap:"gap",gcode:"gcode",gdscript:"gdscript",gedcom:"gedcom",gettext:"gettext",gherkin:"gherkin",git:"git",glsl:"glsl",gml:"gml",gn:"gn","go-module":"go-module",go:"go",gradle:"gradle",graphql:"graphql",groovy:"groovy",haml:"haml",handlebars:"handlebars",hs:"haskell",haskell:"haskell",haxe:"haxe",hcl:"hcl",hlsl:"hlsl",hoon:"hoon",hpkp:"hpkp",hsts:"hsts",http:"http",ichigojam:"ichigojam",icon:"icon","icu-message-format":"icu-message-format",idris:"idris",iecst:"iecst",ignore:"ignore",inform7:"inform7",ini:"ini",io:"io",j:"j",java:"java",javadoc:"javadoc",javadoclike:"javadoclike",js:"javascript",javascript:"javascript",javastacktrace:"javastacktrace",jexl:"jexl",jolie:"jolie",jq:"jq","js-extras":"js-extras","js-templates":"js-templates",jsdoc:"jsdoc",json:"json",json5:"json5",jsonp:"jsonp",jsstacktrace:"jsstacktrace",jsx:"jsx",julia:"julia",keepalived:"keepalived",keyman:"keyman",kt:"kotlin",kotlin:"kotlin",kumir:"kumir",kusto:"kusto",tex:"latex",latex:"latex",latte:"latte",less:"less",lilypond:"lilypond","linker-script":"linker-script",liquid:"liquid",lisp:"lisp",livescript:"livescript",llvm:"llvm",log:"log",lolcode:"lolcode",lua:"lua",magma:"magma",mk:"makefile",makefile:"makefile",md:"markdown",markdown:"markdown","markup-templating":"markup-templating",markup:"markup",mata:"mata",matlab:"matlab",maxscript:"maxscript",mel:"mel",mermaid:"mermaid",metafont:"metafont",mizar:"mizar",mongodb:"mongodb",monkey:"monkey",moonscript:"moonscript",n1ql:"n1ql",n4js:"n4js","nand2tetris-hdl":"nand2tetris-hdl",naniscript:"naniscript",nasm:"nasm",neon:"neon",nevod:"nevod",nginx:"nginx",nim:"nim",nix:"nix",nsis:"nsis",objectivec:"objectivec",ocaml:"ocaml",odin:"odin",opencl:"opencl",openqasm:"openqasm",oz:"oz",parigp:"parigp",parser:"parser",pascal:"pascal",pascaligo:"pascaligo",pcaxis:"pcaxis",peoplecode:"peoplecode",perl:"perl","php-extras":"php-extras",php:"php",phpdoc:"phpdoc","plant-uml":"plant-uml",plsql:"plsql",powerquery:"powerquery",powershell:"powershell",processing:"processing",prolog:"prolog",promql:"promql",properties:"properties",protobuf:"protobuf",psl:"psl",pug:"pug",puppet:"puppet",pure:"pure",purebasic:"purebasic",purescript:"purescript",py:"python",python:"python",q:"q",qml:"qml",qore:"qore",qsharp:"qsharp",r:"r",racket:"racket",reason:"reason",regex:"regex",rego:"rego",renpy:"renpy",rescript:"rescript",rest:"rest",rip:"rip",roboconf:"roboconf",robotframework:"robotframework",ruby:"ruby",rust:"rust",sas:"sas",sass:"sass",scala:"scala",scheme:"scheme",scss:"scss","shell-session":"shell-session",smali:"smali",smalltalk:"smalltalk",smarty:"smarty",sml:"sml",solidity:"solidity","solution-file":"solution-file",soy:"soy",sparql:"sparql","splunk-spl":"splunk-spl",sqf:"sqf",sql:"sql",squirrel:"squirrel",stan:"stan",stata:"stata",stylus:"stylus",supercollider:"supercollider",swift:"swift",systemd:"systemd","t4-cs":"t4-cs","t4-templating":"t4-templating","t4-vb":"t4-vb",tap:"tap",tcl:"tcl",textile:"textile",toml:"toml",tremor:"tremor",tsx:"tsx",tt2:"tt2",turtle:"turtle",twig:"twig",ts:"typescript",typescript:"typescript",typoscript:"typoscript",unrealscript:"unrealscript",uorazor:"uorazor",uri:"uri",v:"v",vala:"vala",vbnet:"vbnet",velocity:"velocity",verilog:"verilog",vhdl:"vhdl",vim:"vim","visual-basic":"visual-basic",warpscript:"warpscript",wasm:"wasm","web-idl":"web-idl",wgsl:"wgsl",wiki:"wiki",wolfram:"wolfram",wren:"wren",xeora:"xeora","xml-doc":"xml-doc",xojo:"xojo",xquery:"xquery",yaml:"yaml",yang:"yang",zig:"zig"},nY={},nK=(0,Y.createContext)(null);function nQ(e){var t,n;let{markdown:a,node:r,citeProps:o}=e,s=null===(n=r.position)||void 0===n?void 0:null===(t=n.start)||void 0===t?void 0:t.offset,i=void 0===s?"*":a[s],l=["+","-","*","/","="],d=function e(t){let n="";switch(t.type){case"text":n+=t.value;break;case"emphasis":case"strong":n+=t.children.map(t=>e(t)).join("")}return n}(r),c=!1;if("*"===i){if(/^\d/.test(d)&&/\d$/.test(d))c=!0;else if(/^[a-z]$/.test(d))c=!0;else if(l.some(e=>d.includes(e))){if(/\d/.test(d))c=!0;else{let e=d.split("").reduce((e,t)=>l.includes(t)?e+1:e,0);c=e+1>=d.length-e}}}return c?(0,C.jsxs)(C.Fragment,{children:["*",(0,C.jsx)(as,{markdown:a,citeProps:o,nodes:r.children}),"*"]}):(0,C.jsx)("em",{children:(0,C.jsx)(as,{markdown:a,citeProps:o,nodes:r.children})})}let nX=e=>{e&&!e.match(/^[a-zA-Z]+:\/\//)&&(e="https://".concat(e));try{let t=new URL(e);if(["http:","https:"].includes(t.protocol))return encodeURI(e);return}catch(e){return}};function nJ(e){let{node:t,markdown:n,citeProps:a}=e,r=t.url,o=function(e){if(1===e.children.length){let t=e.children[0];if("text"===t.type)return t.value}return null}(t),s=t.title||void 0;if(null!==o&&(r===o||r==="http://".concat(o))){for(let[e,t]of[["）","（"],[")","("]])if(r.includes(e)&&!r.includes(t)){let[t,n]=r.split(e);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("a",{href:nX(t),title:s,target:"_blank",rel:"noreferrer",children:t}),e,n]})}}return(0,C.jsx)("a",{href:nX(t.url),title:s,target:"_blank",rel:"noreferrer",children:(0,C.jsx)(as,{markdown:n,nodes:t.children,citeProps:a})})}function n$(e){var t;let{node:n}=e,a=nX(n.url);return(0,C.jsx)("a",{href:a,title:null!==(t=n.title)&&void 0!==t?t:"",target:"_blank",rel:"noreferrer",children:a})}let n1=(0,Y.memo)(function(e){let{text:t,okText:n,onClick:a}=e,[r,o]=(0,Y.useState)(!1);return(0,C.jsx)("div",{className:"ds-markdown-code-copy-button",onClick:()=>{r||(a(),o(!0),setTimeout(()=>{o(!1)},1e3))},children:r?n:t})}),n0=e=>e.children,n2=(0,Y.memo)(function(e){let{code:t,infostring:n,copyCodeText:a,copyCodeOkText:r,isOpen:o,onCopyCode:s}=e,{CodeAction:i,CodeFooterAction:l,codeTheme:d,CodeContent:c,CodeInfoRow:u,CodeContext:h=n0}=(0,Y.useContext)(nK)||{},p=(0,Y.useState)(0)[1],g=function(e){if(!(e in nq))return!0;let t=nq[e];return t&&nZ.includes(t)}(n);g||(function(e){let t=nq[e]||null;if(t){let e=nY[t];if(e)return e()}return Promise.resolve()})(n).then(()=>{p(e=>e+1)});let m=nq[n]||null,f=(0,Y.useCallback)(()=>{var e;let t=null===(e=v.current)||void 0===e?void 0:e.textContent;t&&nG(t),null==s||s({lang:m||""})},[s,m]),v=(0,Y.useRef)(null),x=(0,C.jsx)(n1,{text:a,okText:r,onClick:f}),E=(0,Y.useMemo)(()=>nV.highlight(t,m&&g?nV.languages[m]:nV.languages.plaintext,m||"plaintext"),[t,m,g]),y=(0,Y.useRef)(null);return(0,C.jsx)(h,{infostring:n,children:(0,C.jsxs)("div",{className:"md-code-block ".concat("dark"===d?"md-code-block-dark":"md-code-block-light"),ref:y,children:[(0,C.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,C.jsx)("div",{className:"md-code-block-banner ".concat(u?"md-code-block-banner-lite":""),children:u?(0,C.jsx)(u,{isOpen:o,code:t,infostring:n,codeBlockRef:y}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"md-code-block-infostring",children:n}),(0,C.jsx)("div",{className:"md-code-block-action",children:!u&&i?(0,C.jsx)(i,{copyButton:x,code:t,infostring:n}):x})]})})}),c?(0,C.jsx)(c,{isOpen:o,code:t,infostring:n,html:E}):(0,C.jsx)("pre",{ref:v,dangerouslySetInnerHTML:{__html:E}}),l?(0,C.jsx)(l,{isOpen:o,code:t,infostring:n,renderFooter:e=>(0,C.jsx)("div",{className:"md-code-block-footer",children:e})}):null]})})}),n3=(0,Y.memo)(function(e){let{code:t}=e;return(0,C.jsx)("code",{children:t})}),n5=(0,Y.memo)(function(e){let{node:t,citeProps:n}=e;return"cite"!==t.name?(0,C.jsx)(C.Fragment,{children:n4(t)}):(0,C.jsx)(n9,{node:t,citeProps:n})}),n4=e=>{var t,n;let a=nU((0,nW.x)(e,{extensions:[(0,nF.l)()]})),r=((null===(t=e.position)||void 0===t?void 0:t.end.offset)||0)-((null===(n=e.position)||void 0===n?void 0:n.start.offset)||1);if(a.length===r)return a;let o=a.replace(/\s+$/,"");return o.length<=r?o:o.trim()},n9=(0,Y.memo)(function(e){var t;let{node:n,citeProps:a}=e,{children:r}=n,o=r[0];if(!o||"text"!==o.type)return null;let s=Number(o.value),{valid:i,text:l}=(null==a?void 0:null===(t=a.check)||void 0===t?void 0:t.call(a,s))||{valid:!0,text:""};if(!i)return(0,C.jsx)(C.Fragment,{children:n4(n)});let{CiteWrapper:d=e=>{let{renderTrigger:t}=e;return(0,C.jsx)(C.Fragment,{children:t({domRef:{current:null},domProps:void 0})})},wrapperDeps:c}=a||{};return(0,C.jsx)(d,{value:s,renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,C.jsx)("span",{className:"ds-markdown-cite",ref:t,...n,onClick:()=>{var e;null==a||null===(e=a.onClick)||void 0===e||e.call(a,s)},children:l})},...c})}),n6={inline:'<span class="katex">',inlineEnd:"</span>",displayMode:'<span class="katex-display"><span class="katex">',displayModeEnd:"</span></span>"},n7=(e,t)=>{let n=(0,Y.useRef)(""),a=(0,Y.useRef)(nR()),[r,o]=(0,Y.useState)(a.current instanceof Promise?null:a.current);return(0,Y.useEffect)(()=>{a.current instanceof Promise&&a.current.then(e=>{o(e)})},[]),(0,Y.useMemo)(()=>{if(!r)return"";try{let a=r.renderToString(e,{throwOnError:!0,strict:!1,displayMode:!t}).slice(n6[t?"inline":"displayMode"].length,-n6[t?"inlineEnd":"displayModeEnd"].length);return n.current=a,a}catch(e){return n.current}},[r,e,t])},n8=(0,Y.memo)(function(e){let{value:t}=e,n=n7(t,!1);return(0,C.jsx)("span",{className:(0,er.Z)("katex-display","ds-markdown-math"),children:(0,C.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:n}})})}),ae=(0,Y.memo)(function(e){let{value:t}=e,n=n7(t,!0);return(0,C.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:n}})}),at=(0,Y.memo)(function(e){let{value:t}=e;return t.match(/^<br\s*\/?>$/i)?(0,C.jsx)("br",{}):(0,C.jsx)("span",{className:"ds-markdown-html",children:t})});function an(e){let{node:t,key:n,copyCodeOkText:a,copyCodeText:r,onCopyCode:o,citeProps:s}=e;return t.ordered?(0,C.jsx)("ol",{start:t.start||void 0,children:t.children.map((e,t)=>(0,C.jsx)("li",{children:(0,C.jsx)(al,{copyCodeText:r,copyCodeOkText:a,nodes:e.children,onCopyCode:o,citeProps:s})},t))},n):(0,C.jsx)("ul",{children:t.children.map((e,t)=>(0,C.jsx)("li",{children:(0,C.jsx)(al,{citeProps:s,nodes:e.children,copyCodeText:r,copyCodeOkText:a,onCopyCode:o})},t))},n)}function aa(e,t,n,a){return(0,C.jsx)("div",{className:"markdown-table-wrapper",children:(0,C.jsxs)("table",{children:[t.children[0]?(0,C.jsx)("thead",{children:(0,C.jsx)("tr",{children:t.children[0].children.map((t,n)=>(0,C.jsx)("th",{children:(0,C.jsx)(as,{markdown:e,nodes:t.children,citeProps:a})},n))})}):null,t.children[1]?(0,C.jsx)("tbody",{children:t.children.slice(1).map((t,n)=>(0,C.jsx)("tr",{children:t.children.map((t,n)=>(0,C.jsx)("td",{children:(0,C.jsx)(as,{markdown:e,nodes:t.children,citeProps:a})},n))},n))}):null]})},n)}function ar(e){let{nodes:t,copyCodeText:n,copyCodeOkText:a,onCopyCode:r,citeProps:o}=e,{markdown:s}=(0,Y.useContext)(ad);return(0,C.jsx)(C.Fragment,{children:t.map((e,t)=>{switch(e.type){case"heading":return(0,Y.createElement)("h".concat(e.depth),{key:t},(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o}));case"break":return(0,C.jsx)("br",{},t);case"blockquote":return(0,C.jsx)("blockquote",{children:(0,C.jsx)(al,{copyCodeText:n,copyCodeOkText:a,nodes:e.children,onCopyCode:r,citeProps:o})},t);case"code":var i;return(0,C.jsx)(n2,{copyCodeText:n,copyCodeOkText:a,code:e.value,infostring:e.lang||"text",isOpen:au({markdown:s,endOffset:null===(i=e.position)||void 0===i?void 0:i.end.offset}),onCopyCode:r},t);case"delete":return(0,C.jsxs)(Y.Fragment,{children:[ah(e),(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o}),ap(e)]},t);case"text":return(0,C.jsx)(ai,{children:e.value},t);case"table":return aa(s,e,t,o);case"emphasis":return(0,C.jsx)(nQ,{markdown:s,citeProps:o,node:e},t);case"tableRow":return(0,C.jsx)("tr",{children:e.children.map((e,t)=>(0,C.jsx)("td",{children:(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o})},t))},t);case"tableCell":return(0,C.jsx)("td",{children:(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o})},t);case"list":return an({node:e,key:t,copyCodeText:n,copyCodeOkText:a,onCopyCode:r,citeProps:o});case"link":return(0,C.jsx)(nJ,{node:e,markdown:s,citeProps:o},t);case"strong":return(0,C.jsx)("strong",{children:(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o})},t);case"listItem":return(0,C.jsx)("li",{children:(0,C.jsx)(al,{copyCodeText:n,copyCodeOkText:a,nodes:e.children,onCopyCode:r,citeProps:o})},t);case"paragraph":return(0,C.jsx)("p",{className:"ds-markdown-paragraph",children:(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o})},t);case"image":return(0,C.jsx)(n$,{node:e},t);case"inlineCode":return(0,C.jsx)(n3,{code:e.value},t);case"thematicBreak":return(0,C.jsx)("hr",{},t);case"html":return(0,C.jsx)(at,{value:e.value},t);case"math":return(0,C.jsx)(n8,{value:e.value},t);case"inlineMath":return(0,C.jsx)(ae,{value:e.value},t);case"yaml":case"linkReference":case"imageReference":case"footnoteDefinition":case"footnoteReference":case"mdxJsxFlowElement":case"mdxJsxTextElement":return null;case"definition":return(0,C.jsxs)(Y.Fragment,{children:[(0,nW.x)(e),(0,C.jsx)("br",{})]},t);case"textDirective":case"leafDirective":case"containerDirective":return(0,C.jsx)(n5,{node:e,citeProps:o},t);default:return ao(e)}})})}let ao=e=>null;function as(e){let{markdown:t,nodes:n,citeProps:a}=e;return n.map((e,n)=>{switch(e.type){case"inlineMath":return(0,C.jsx)(ae,{value:e.value},n);case"break":return(0,C.jsx)("br",{},n);case"delete":return(0,C.jsxs)(Y.Fragment,{children:[ah(e),(0,C.jsx)(as,{markdown:t,nodes:e.children,citeProps:a}),ap(e)]},n);case"emphasis":return(0,C.jsx)(nQ,{markdown:t,citeProps:a,node:e},n);case"image":return(0,C.jsx)(n$,{node:e},n);case"html":return(0,C.jsx)(at,{value:e.value},n);case"inlineCode":return(0,C.jsx)(n3,{code:e.value},n);case"link":return(0,C.jsx)(nJ,{node:e,markdown:t,citeProps:a},n);case"strong":return(0,C.jsx)("strong",{children:(0,C.jsx)(as,{markdown:t,nodes:e.children,citeProps:a})},n);case"text":return(0,C.jsx)(ai,{children:e.value},n);case"footnoteReference":case"imageReference":case"linkReference":case"mdxJsxTextElement":return null;case"textDirective":return(0,C.jsx)(n5,{node:e,citeProps:a},n);default:return ao(e)}})}let ai=(0,Y.memo)(function(e){let{children:t}=e,n=[];return t.split("\n").forEach((e,t)=>{n.push(e,(0,C.jsx)("br",{},t))}),n.pop(),n});function al(e){let{nodes:t,copyCodeText:n,copyCodeOkText:a,onCopyCode:r,citeProps:o}=e,{markdown:s}=(0,Y.useContext)(ad);return t.map((e,t)=>{switch(e.type){case"math":return(0,C.jsx)(n8,{value:e.value},t);case"footnoteDefinition":case"definition":case"mdxJsxFlowElement":return null;case"thematicBreak":return(0,C.jsx)("hr",{},t);case"blockquote":return(0,C.jsx)("blockquote",{children:(0,C.jsx)(al,{copyCodeText:n,copyCodeOkText:a,nodes:e.children,onCopyCode:r,citeProps:o})},t);case"html":return(0,C.jsx)(at,{value:e.value},t);case"heading":return(0,Y.createElement)("h".concat(e.depth),{key:t},(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o}));case"paragraph":return(0,C.jsx)("p",{className:"ds-markdown-paragraph",children:(0,C.jsx)(as,{markdown:s,nodes:e.children,citeProps:o})},t);case"code":var i;return(0,C.jsx)(n2,{copyCodeText:n,copyCodeOkText:a,code:e.value,infostring:e.lang||"text",isOpen:au({markdown:s,endOffset:null===(i=e.position)||void 0===i?void 0:i.end.offset}),onCopyCode:r},t);case"table":return aa(s,e,t,o);case"list":return an({node:e,key:t,copyCodeOkText:a,copyCodeText:n,onCopyCode:r,citeProps:o});case"leafDirective":case"containerDirective":return(0,C.jsx)(n5,{node:e,citeProps:o},t);default:return ao(e)}})}let ad=(0,Y.createContext)({markdown:""}),ac=(0,Y.memo)(function(e){let{ast:t,markdown:n,copyCodeText:a,copyCodeOkText:r,variant:o,zoom:s=1,onCopyCode:i,citeProps:l}=e,d=(0,Y.useMemo)(()=>({markdown:n}),[n]);return(0,Y.useMemo)(()=>(0,C.jsx)(ad.Provider,{value:d,children:(0,C.jsx)("div",{className:(0,er.Z)("ds-markdown","ds-markdown--".concat(o)),style:{"--ds-md-zoom":s},children:(0,C.jsx)(ar,{copyCodeText:a,copyCodeOkText:r,nodes:t.children,onCopyCode:i,citeProps:l})})}),[d,o,s,a,r,t.children,i,l])});function au(e){let{markdown:t,endOffset:n}=e;return void 0!==n&&!/```\s*$/.test(t.slice(window.Math.max(0,n-24),n+1))}let ah=e=>{var t,n,a,r;let o=e.children[0],s=null!==(a=null===(t=e.position)||void 0===t?void 0:t.start.offset)&&void 0!==a?a:NaN,i=null!==(r=null===(n=o.position)||void 0===n?void 0:n.start.offset)&&void 0!==r?r:NaN;return Number.isInteger(s)&&Number.isInteger(i)?"~".repeat(i-s):""},ap=e=>{var t,n,a,r;let o=e.children.at(-1),s=null!==(a=null===(t=e.position)||void 0===t?void 0:t.end.offset)&&void 0!==a?a:NaN,i=null!==(r=null==o?void 0:null===(n=o.position)||void 0===n?void 0:n.end.offset)&&void 0!==r?r:NaN;return Number.isInteger(s)&&Number.isInteger(i)?"~".repeat(s-i):""};function ag(e){return(0,C.jsx)(nK.Provider,{value:e,children:e.children})}function am(e){let{children:t,justifyContent:n,alignItems:a,gap:r=12,columnGap:o=r,rowGap:s=r,flexDirection:i,flexWrap:l,style:d,className:c}=e;return(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-flex"),c),style:{...d,justifyContent:n,alignItems:a,gap:r,rowGap:s,columnGap:o,flexDirection:i,flexWrap:l},children:t})}n(76279);var af=n(80269),aC=n(82313);let av=e=>{let{onClick:t,children:n,style:a,theme:r,size:o,className:s}=e,[i,l]=(0,Y.useState)(!1);return(0,C.jsx)(e4.z,{theme:r,style:a,onClick:()=>{i||(t(),l(!0),setTimeout(()=>{l(!1)},1e3))},className:s,variant:"borderless",type:"secondary",icon:(0,C.jsx)(eP.J,{size:o||16,children:i?(0,C.jsx)(aE,{}):(0,C.jsx)(ay,{})}),children:n})};function ax(e){let{className:t,style:n,onClick:a,children:r,size:o=20}=e,s=(0,nh.F)(),[i,l]=(0,Y.useState)(!1);return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:r,domRef:d}=e;return(0,C.jsx)(eF.h,{theme:{size:"".concat(o,"px"),textColor:s?"#CDD4DF":"#909090"},className:t,style:n,domProps:r,domRef:d,onClick:()=>{i||(a(),l(!0),setTimeout(()=>{l(!1)},1e3))},children:(0,C.jsx)(eP.J,{size:o,children:i?(0,C.jsx)(aE,{}):(0,C.jsx)(ay,{})})})},children:r})}function aE(){return(0,C.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.338 21.575a1.058 1.058 0 0 1-.53-.363L2.275 13.17a1.063 1.063 0 0 1 1.65-1.341l5.63 6.928L19.33 3.86a1.064 1.064 0 0 1 1.778 1.167L10.551 21.115a1.065 1.065 0 0 1-1.213.46z",fill:"currentColor"})})}function ay(){return(0,C.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z",fill:"currentColor"})]})}var ab=n(36927);let a_=(0,Y.createContext)({searchEnabled:!1,thinkingEnabled:!1,setSearchEnabled:ab.Z,setThinkingEnabled:ab.Z}),aw=()=>(0,Y.useContext)(a_),aS=e=>{let{children:t}=e,[n,a]=t6.l.storageHandles.thinkingEnabledStorageHandle.useState(),[r,o]=t6.l.storageHandles.searchEnabledStorageHandle.useState(),s=(0,Y.useMemo)(()=>({thinkingEnabled:n,searchEnabled:r,setThinkingEnabled:a,setSearchEnabled:o}),[r,o,a,n]);return(0,C.jsx)(a_.Provider,{value:s,children:t})};var aI=n(34031);let aT=(0,aI.EP)({getChallengeByScene:async e=>{let t=aM(e);return await (0,H.Hr)({targetPath:t})},getTracker:()=>t6.l.tracker}),aM=e=>{switch(e){case"completion_like":return H.ty;case"upload_file":return H.ZQ;default:(0,H.y0)(e)}},aj=async e=>{let{t,setIsSolvingChallenge:n,scene:a}=e;n(!0);let r=t("r1PowComputeFail");try{let e=await aT.retrieveAnswer(a),t=null==e?void 0:e.res;if(t)return{success:!0,res:t};return{success:!1,msg:r}}catch(e){return t6.l.tracker.error({name:"fetchPowBroken",message:"POW获取异常",payload:t6.l.tracker.withError(e,{scene:a})}),{success:!1,msg:r}}finally{n(!1)}},ak=(0,Y.createContext)(void 0),aA=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,Y.useContext)(ak);if(!a)throw Error("useHtmlRuntime must be used within HtmlRuntimeProvider");return a(t[0])},aR=e=>{let{children:t}=e,n=(0,H.uF)(),a=(0,H.cm)(),r=(0,Y.useRef)();r.current||(r.current=(0,e6.Ue)(e=>({visible:!1,code:"",title:"",setCode:t=>{e({code:t,title:function(e){try{var t;let n=new DOMParser().parseFromString(e,"text/html");return(null===(t=n.querySelector("title"))||void 0===t?void 0:t.textContent)||null}catch(e){return null}}(t)||"HTML"})},open:()=>{n.closeSearchView(),a.closePreview(),e({visible:!0})},close:()=>{e({visible:!1})}})));let o=r.current,s=o(e=>e.close),i=o(e=>e.setCode);(0,Y.useEffect)(()=>{let e=[n.listenSearch(()=>{s()}),a.listenPreview(()=>{s()})];return()=>{e.forEach(e=>e())}},[a,n,s]);let l=(0,et.TH)();return(0,Y.useEffect)(()=>{s(),i("")},[s,l,i]),(0,C.jsx)(ak.Provider,{value:o,children:t})},aN=(0,Y.memo)(function(e){let{sessionId:t,messageId:n,style:a,className:r,feedback:o,showFeedbackModal:s,onFeedbackChange:i,onDislikeClick:l,onCopy:d}=e,c=t6.a.useTranslate();return(0,C.jsxs)(am,{className:r,style:a,gap:16,alignItems:"center",children:[(0,C.jsx)(ax,{onClick:d,children:c("copyCode")}),(0,C.jsx)(aL,{sessionId:t,messageId:n}),(0,C.jsx)(aF,{active:o===H.HL.MessageFeedback.LIKE,onClick:()=>{o===H.HL.MessageFeedback.LIKE?null==i||i(null):null==i||i(H.HL.MessageFeedback.LIKE)},children:c("messageLikeButtonTooltip")}),(0,C.jsx)(aO,{active:o===H.HL.MessageFeedback.DISLIKE||!0===s,onClick:()=>{o===H.HL.MessageFeedback.DISLIKE?null==i||i(null):null==l||l()},children:c("messageDislikeButtonTooltip")})]})});function aL(e){let{sessionId:t,messageId:n}=e,a=(0,nh.F)(),r=t6.a.useTranslate(),{thinkingEnabled:o,searchEnabled:s}=aw(),i=(0,H.od)(),l=(0,H.XQ)(t,n),d=i.hooks.useSessionChatStatus(t),{regenerateMessage:c}=(0,H.RJ)(),u=(0,H.uF)(),h=aA(e=>e.close),p=l.useMessageStatus(),g=l.useBanRegenerate(),m=[H.HL.MessageStatus.CONTENT_FILTER,H.HL.MessageStatus.CONTEXT_LENGTH_EXCEEDED].includes(p)||d!==H.uT.idle||g,f=m?r("generatingDisableTooltip"):r("regenerate"),v=async()=>{h(),u.closeSearchView(),c({chatSessionId:t,childMessageId:n,searchEnabled:s,getPowRes:()=>aj({t:r,setIsSolvingChallenge:aC.Z,scene:"completion_like"}),thinkingEnabled:o})};return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,C.jsx)(eF.h,{theme:{size:"20px",textColor:a?"#CDD4DF":"#909090"},domProps:t,domRef:n,onClick:m?void 0:v,children:(0,C.jsx)(eP.J,{size:20,style:{opacity:m?.45:1},children:(0,C.jsx)(aP,{})})})},children:f})}function aF(e){let{onClick:t,active:n,children:a}=e,r=(0,nh.F)();return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:a,domRef:o}=e;return(0,C.jsx)(eF.h,{theme:{size:"20px",textColor:r?"#CDD4DF":"#909090"},domProps:a,domRef:o,onClick:t,children:(0,C.jsx)(eP.J,{size:20,children:n?(0,C.jsx)(aB,{}):(0,C.jsx)(aD,{})})})},leaveDelay:0,children:a})}function aO(e){let{onClick:t,active:n,children:a}=e,r=(0,nh.F)();return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:a,domRef:o}=e;return(0,C.jsx)(eF.h,{theme:{size:"20px",textColor:r?"#CDD4DF":"#909090"},domProps:a,domRef:o,onClick:t,children:(0,C.jsx)(eP.J,{size:20,children:n?(0,C.jsx)(aH,{}):(0,C.jsx)(az,{})})})},leaveDelay:0,children:a})}function aP(){return(0,C.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1258_20811",children:(0,C.jsx)("rect",{id:"重新生成",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsx)("rect",{id:"重新生成",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,C.jsxs)("g",{clipPath:"url(#clip1258_20811)",children:[(0,C.jsx)("path",{id:"path",d:"M17.01 7.63L13.98 7.62C13.88 7.62 13.79 7.6 13.7 7.56C13.62 7.52 13.54 7.47 13.47 7.4C13.4 7.33 13.35 7.25 13.32 7.16C13.28 7.07 13.26 6.98 13.26 6.88C13.26 6.79 13.28 6.69 13.32 6.6C13.35 6.51 13.4 6.43 13.47 6.36C13.54 6.3 13.62 6.24 13.7 6.21C13.79 6.17 13.88 6.15 13.98 6.15L15.57 6.16C15.67 6.16 15.76 6.14 15.85 6.1C15.94 6.06 16.01 6.01 16.08 5.94C16.15 5.87 16.2 5.79 16.23 5.7C16.27 5.61 16.29 5.52 16.29 5.42L16.3 3.89C16.3 3.79 16.32 3.7 16.36 3.61C16.39 3.52 16.44 3.44 16.51 3.37C16.58 3.3 16.66 3.25 16.74 3.21C16.83 3.17 16.92 3.16 17.02 3.16C17.11 3.16 17.2 3.17 17.29 3.21C17.38 3.25 17.46 3.3 17.52 3.37C17.59 3.44 17.64 3.52 17.68 3.61C17.71 3.7 17.73 3.79 17.73 3.89L17.72 6.9C17.72 7 17.71 7.09 17.67 7.18C17.63 7.27 17.58 7.34 17.52 7.41C17.45 7.48 17.37 7.53 17.29 7.57C17.2 7.61 17.11 7.63 17.01 7.63Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M2.31 16.29L2.32 13.3C2.32 13.21 2.34 13.11 2.37 13.02C2.41 12.93 2.46 12.85 2.53 12.78C2.6 12.71 2.67 12.66 2.76 12.62C2.85 12.58 2.94 12.56 3.03 12.56L6.07 12.57C6.16 12.57 6.25 12.59 6.34 12.63C6.43 12.67 6.51 12.72 6.57 12.79C6.64 12.86 6.69 12.94 6.73 13.03C6.76 13.12 6.78 13.22 6.78 13.32C6.78 13.41 6.76 13.51 6.73 13.6C6.69 13.69 6.64 13.77 6.57 13.84C6.51 13.91 6.43 13.96 6.34 14C6.25 14.04 6.16 14.06 6.07 14.06L4.47 14.05C4.38 14.05 4.29 14.07 4.2 14.11C4.11 14.15 4.03 14.2 3.97 14.27C3.9 14.34 3.85 14.42 3.81 14.51C3.78 14.6 3.76 14.7 3.76 14.8L3.75 16.29C3.75 16.39 3.73 16.48 3.69 16.58C3.65 16.67 3.6 16.75 3.54 16.82C3.47 16.89 3.39 16.94 3.3 16.98C3.22 17.01 3.13 17.03 3.03 17.03C2.94 17.03 2.85 17.02 2.76 16.98C2.67 16.94 2.59 16.89 2.52 16.82C2.46 16.75 2.4 16.67 2.37 16.58C2.33 16.49 2.31 16.39 2.31 16.29Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M9.88 18.01C9.51 18.01 9.15 17.99 8.79 17.94C8.42 17.89 8.07 17.82 7.71 17.73C7.36 17.63 7.02 17.51 6.68 17.37C6.34 17.23 6.02 17.07 5.7 16.89C5.39 16.7 5.09 16.5 4.8 16.28C4.52 16.05 4.25 15.81 3.99 15.55C3.74 15.29 3.5 15.02 3.29 14.73C3.07 14.44 2.88 14.13 2.7 13.82L4.15 13.05C4.32 13.35 4.51 13.64 4.72 13.91C4.93 14.18 5.17 14.43 5.42 14.66C5.67 14.9 5.94 15.11 6.23 15.3C6.52 15.49 6.83 15.66 7.14 15.81C7.46 15.95 7.78 16.07 8.12 16.16C8.45 16.25 8.8 16.32 9.14 16.36C9.49 16.39 9.83 16.4 10.18 16.39C10.53 16.37 10.87 16.33 11.22 16.26C11.56 16.19 11.89 16.09 12.21 15.97C12.54 15.84 12.85 15.7 13.15 15.53C13.45 15.35 13.74 15.16 14.01 14.94C14.28 14.72 14.53 14.49 14.76 14.23C14.99 13.97 15.2 13.7 15.38 13.41C15.57 13.12 15.73 12.82 15.87 12.5C16 12.19 16.11 11.87 16.2 11.53C16.28 11.2 16.34 10.87 16.36 10.52C16.37 10.42 16.4 10.33 16.44 10.24C16.48 10.15 16.54 10.07 16.61 10C16.69 9.93 16.77 9.87 16.86 9.84C16.96 9.8 17.05 9.77 17.16 9.77C17.27 9.77 17.38 9.79 17.49 9.83C17.6 9.87 17.7 9.94 17.78 10.02C17.86 10.1 17.92 10.2 17.96 10.3C18 10.41 18.01 10.52 18 10.64C17.98 10.89 17.95 11.13 17.91 11.38C17.86 11.62 17.81 11.87 17.74 12.11C17.68 12.35 17.6 12.58 17.51 12.82C17.42 13.05 17.32 13.28 17.21 13.5C17.1 13.73 16.98 13.95 16.85 14.16C16.71 14.37 16.57 14.58 16.42 14.78C16.27 14.98 16.11 15.17 15.94 15.36C15.77 15.54 15.59 15.72 15.41 15.89C15.22 16.06 15.03 16.22 14.83 16.37C14.63 16.52 14.42 16.66 14.2 16.79C13.99 16.93 13.77 17.05 13.54 17.16C13.31 17.27 13.08 17.37 12.85 17.46C12.61 17.55 12.37 17.63 12.13 17.7C11.88 17.77 11.64 17.83 11.39 17.87C11.14 17.92 10.89 17.96 10.63 17.98C10.38 18 10.13 18.01 9.88 18.01Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M2.85 10.27C2.73 10.28 2.62 10.26 2.51 10.22C2.4 10.17 2.31 10.11 2.23 10.03C2.14 9.95 2.08 9.85 2.04 9.74C2 9.63 1.99 9.52 2 9.41C2.03 8.98 2.1 8.56 2.2 8.15C2.3 7.73 2.43 7.33 2.6 6.94C2.76 6.54 2.96 6.16 3.19 5.8C3.41 5.44 3.67 5.1 3.95 4.77C4.24 4.45 4.54 4.15 4.88 3.88C5.21 3.6 5.56 3.35 5.93 3.13C6.3 2.91 6.69 2.73 7.09 2.57C7.5 2.41 7.91 2.28 8.33 2.19C8.75 2.09 9.18 2.03 9.62 2.01C10.05 1.98 10.48 1.99 10.91 2.03C11.35 2.07 11.77 2.14 12.19 2.25C12.61 2.36 13.02 2.5 13.42 2.67C13.81 2.84 14.19 3.04 14.56 3.28C14.92 3.51 15.27 3.77 15.59 4.05C15.91 4.34 16.21 4.64 16.48 4.98C16.75 5.31 17 5.66 17.21 6.03L15.78 6.83C15.61 6.54 15.42 6.25 15.2 5.99C14.98 5.73 14.74 5.48 14.49 5.25C14.23 5.02 13.96 4.82 13.66 4.63C13.37 4.45 13.07 4.29 12.75 4.15C12.44 4.01 12.11 3.9 11.77 3.82C11.44 3.73 11.1 3.67 10.76 3.64C10.41 3.61 10.07 3.6 9.72 3.62C9.37 3.64 9.03 3.69 8.69 3.77C8.36 3.84 8.03 3.94 7.71 4.07C7.38 4.2 7.08 4.35 6.78 4.52C6.48 4.7 6.2 4.89 5.94 5.11C5.67 5.33 5.43 5.57 5.2 5.83C4.97 6.08 4.77 6.36 4.59 6.65C4.41 6.94 4.25 7.24 4.12 7.55C3.98 7.87 3.88 8.19 3.8 8.52C3.72 8.85 3.66 9.19 3.64 9.53C3.63 9.62 3.6 9.72 3.56 9.81C3.52 9.9 3.46 9.98 3.39 10.05C3.32 10.12 3.23 10.17 3.14 10.21C3.05 10.25 2.95 10.27 2.85 10.27Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]})}function aD(){return(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.14 9.428l-.003.019L17.114 15a3.774 3.774 0 0 1-1.313 2.27 3.673 3.673 0 0 1-2.438.894H3.895c-.57 0-1.055-.205-1.458-.614a2.033 2.033 0 0 1-.604-1.48v-5.438c0-.578.201-1.071.604-1.48.402-.41.888-.614 1.458-.614h1.932l2.317-5.293c.24-.548.6-.948 1.083-1.2.599-.312 1.156-.278 1.672.103.782.577 1.172 1.355 1.172 2.334V6.997h3.994c.638-.007 1.167.235 1.588.726.421.492.584 1.06.488 1.705zm-2.076-2.6c.686-.007 1.262.256 1.714.785.453.529.63 1.146.527 1.84v.004l-.005.02v.003l-1.022 5.552a3.943 3.943 0 0 1-1.37 2.368 3.838 3.838 0 0 1-2.545.933H3.895a2.137 2.137 0 0 1-1.576-.663 2.203 2.203 0 0 1-.652-1.6v-5.437c0-.622.218-1.159.652-1.6.434-.44.962-.663 1.576-.663H5.72l2.273-5.192c.254-.58.64-1.01 1.159-1.282.32-.167.64-.246.953-.227.315.02.613.137.893.344.824.608 1.24 1.437 1.24 2.47v2.345h3.827zM9.741 3.063c-.247.128-.437.344-.57.647L6.708 9.34v7.683h6.655a2.59 2.59 0 0 0 1.72-.63c.498-.42.807-.955.926-1.601l1.02-5.544a.936.936 0 0 0-.225-.773.917.917 0 0 0-.739-.335h-4.557a.567.567 0 0 1-.562-.571V4.483c0-.591-.236-1.061-.708-1.41-.143-.105-.309-.109-.497-.01zm7.124 6.157a.766.766 0 0 0-.186-.636.753.753 0 0 0-.612-.276h-4.559a.734.734 0 0 1-.728-.74V4.483c0-.537-.21-.956-.64-1.273a.233.233 0 0 0-.137-.05.387.387 0 0 0-.185.053c-.208.108-.374.291-.495.566m0 0L6.874 9.375v7.479h6.489c.609 0 1.145-.197 1.614-.592.468-.396.757-.894.869-1.502l1.02-5.54M3.35 16.623c.152.155.33.23.545.23h1.522V9.85H3.895a.732.732 0 0 0-.545.23.755.755 0 0 0-.226.553v5.437c0 .218.074.4.226.553zm.545-6.941a.897.897 0 0 0-.663.278.924.924 0 0 0-.274.673v5.437c0 .263.091.487.274.673.183.186.404.28.663.28h1.688V9.681H3.895z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.137 9.447l.004-.02a2.044 2.044 0 0 0-.488-1.704c-.421-.491-.95-.733-1.588-.726h-2.282l1.584 1.142h.698a.917.917 0 0 1 .739.335.936.936 0 0 1 .225.773l-1.02 5.543a2.663 2.663 0 0 1-.926 1.602 2.59 2.59 0 0 1-1.72.63H6.708V9.34L9.171 3.71c.133-.303.323-.519.57-.647.188-.099.354-.095.497.01.472.349.708.819.708 1.41v.467l1.125.811V4.483c0-.98-.39-1.757-1.171-2.334-.517-.38-1.074-.415-1.673-.103-.482.252-.843.652-1.083 1.2L5.827 8.54H3.895c-.57 0-1.056.205-1.458.614a2.033 2.033 0 0 0-.604 1.48v5.437c0 .578.201 1.072.604 1.48.403.41.889.615 1.458.615h9.468c.918 0 1.731-.299 2.438-.895A3.774 3.774 0 0 0 17.114 15l1.023-5.553zm-14.242.235a.897.897 0 0 0-.663.278.924.924 0 0 0-.274.673v5.437c0 .263.091.487.274.673.183.186.404.28.663.28h1.688V9.681H3.895z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M10.946 7.568c0 .316.252.571.563.571h3.858l-1.584-1.142h-1.712V5.76l-1.125-.811v2.618z",fill:"currentColor"})]})}function aB(){return(0,C.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M4.44 8.51H3.77c-.581 0-1.078.208-1.488.626-.41.417-.616.92-.616 1.51v5.55c0 .59.205 1.094.616 1.51.411.419.907.627 1.488.627h.669V8.51zM5.743 8.507v9.826h7.688c.937 0 1.767-.304 2.488-.912a3.852 3.852 0 0 0 1.34-2.317l1.043-5.668.004-.02a2.087 2.087 0 0 0-.497-1.74c-.43-.501-.97-.748-1.62-.741h-4.076V4.37c0-1-.398-1.794-1.195-2.383-.527-.389-1.096-.424-1.707-.105-.492.257-.86.666-1.105 1.225l-2.363 5.4z",fill:"currentColor"})})}function az(){return(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.304 10.543v.004a2.214 2.214 0 0 1-.526 1.84c-.452.528-1.028.792-1.714.784h-3.827v2.345c0 1.034-.416 1.863-1.24 2.471-.28.207-.578.324-.893.343-.314.02-.632-.06-.953-.226-.519-.271-.905-.702-1.159-1.282l-2.273-5.193H3.895a2.136 2.136 0 0 1-1.576-.663 2.203 2.203 0 0 1-.652-1.6V3.93c0-.623.218-1.16.652-1.6.434-.441.963-.663 1.576-.663h9.468c.957 0 1.807.311 2.544.933a3.943 3.943 0 0 1 1.37 2.368L18.3 10.52v.002l.004.02zm-1.19-5.544a3.774 3.774 0 0 0-1.313-2.27 3.673 3.673 0 0 0-2.438-.894H3.895c-.57 0-1.055.205-1.458.614a2.033 2.033 0 0 0-.604 1.48v5.437c0 .578.201 1.072.604 1.48.402.41.888.615 1.458.615h1.932l2.317 5.292c.24.549.6.949 1.083 1.2.599.313 1.156.279 1.672-.102.782-.577 1.172-1.355 1.172-2.335v-2.513h3.994c.638.007 1.167-.235 1.588-.727.421-.491.584-1.06.488-1.704l-.004-.02L17.114 5zM9.819 16.787c.076.04.137.053.185.052a.233.233 0 0 0 .137-.05c.43-.316.64-.735.64-1.273v-3.084c0-.41.327-.74.729-.74h4.558a.752.752 0 0 0 .612-.277.766.766 0 0 0 .186-.635l-1.02-5.54a2.495 2.495 0 0 0-.869-1.502 2.426 2.426 0 0 0-1.613-.592H6.874v7.48l2.449 5.595m-2.615-5.56V2.978h6.655c.648 0 1.221.21 1.72.63.498.42.807.954.926 1.601l1.02 5.543a.936.936 0 0 1-.225.774.917.917 0 0 1-.739.335h-4.557a.567.567 0 0 0-.562.57v3.085c0 .592-.236 1.062-.708 1.41-.143.106-.309.11-.497.01-.247-.128-.437-.343-.57-.647l-2.463-5.628zM3.35 3.376a.754.754 0 0 0-.226.554v5.436c0 .218.074.4.226.554.152.154.33.23.545.23h1.522V3.146H3.895a.731.731 0 0 0-.545.23zm2.233-.398v7.34H3.895a.897.897 0 0 1-.663-.279.925.925 0 0 1-.274-.673V3.93c0-.263.091-.487.274-.673a.895.895 0 0 1 .663-.28h1.688zm4.235 13.809c-.208-.108-.375-.292-.495-.566l.495.566z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.801 2.73a3.774 3.774 0 0 1 1.313 2.269l1.023 5.554.004.019a2.044 2.044 0 0 1-.488 1.704c-.421.492-.95.734-1.588.727h-3.994v2.513c0 .98-.39 1.758-1.171 2.335-.517.38-1.074.415-1.673.102-.482-.251-.843-.651-1.083-1.2l-2.317-5.292H3.895c-.57 0-1.056-.205-1.458-.614a2.033 2.033 0 0 1-.604-1.48V3.93c0-.579.201-1.072.604-1.481.403-.41.889-.614 1.458-.614h9.468c.918 0 1.731.298 2.438.894zm-2.438.248c.648 0 1.221.21 1.72.63.498.42.807.954.926 1.601l1.02 5.543a.936.936 0 0 1-.225.774.917.917 0 0 1-.739.335h-4.557a.567.567 0 0 0-.562.57v3.085c0 .592-.236 1.062-.708 1.41-.143.106-.309.11-.497.01-.247-.128-.437-.343-.57-.647l-2.463-5.628V2.978h6.655zm-9.468 7.34a.897.897 0 0 1-.663-.279.925.925 0 0 1-.274-.673V3.93c0-.263.091-.487.274-.673a.895.895 0 0 1 .663-.28h1.688v7.341H3.895z",fill:"currentColor"})]})}function aH(){return(0,C.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M5.743 11.492l2.363 5.4c.245.56.613.969 1.105 1.226.611.319 1.18.284 1.707-.105.797-.589 1.195-1.383 1.195-2.383v-2.565h4.076c.65.007 1.19-.24 1.62-.741.43-.502.595-1.082.497-1.74l-.004-.02-1.043-5.668a3.852 3.852 0 0 0-1.34-2.317 3.748 3.748 0 0 0-2.488-.912H5.743v9.825zM4.44 1.667H3.77c-.58 0-1.077.209-1.488.626-.41.417-.616.921-.616 1.511v5.55c0 .59.205 1.093.616 1.51.41.418.907.627 1.488.627h.668V1.667z",fill:"currentColor"})})}var aU=n(17705);let aV=(0,Y.memo)(function(e){let{style:t,count:n,index:a,onIndexChange:r}=e,o=(0,nh.F)(),s=a<=0,i=a>=n-1;return(0,C.jsxs)("div",{className:aU.wrap,style:t,children:[(0,C.jsx)(e4.z,{size:"xs",variant:"borderless",shape:"square",theme:{height:"24px",padding:"0",textColor:o?"#CDD4DF":"rgb(var(--ds-rgb-label-2))"},disabled:s,onClick:()=>{!s&&r(-1)},children:(0,C.jsx)(eP.J,{size:20,children:(0,C.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M6.137 9.998a.86.86 0 0 1 .074-.352.945.945 0 0 1 .223-.31l4.76-4.66a.811.811 0 0 1 .587-.235c.149 0 .287.037.415.11a.89.89 0 0 1 .31.298.845.845 0 0 1-.149 1.027l-4.24 4.122 4.24 4.122a.831.831 0 0 1-.576 1.436.81.81 0 0 1-.588-.235l-4.76-4.66a1.084 1.084 0 0 1-.222-.31.832.832 0 0 1-.074-.353z",fill:"currentColor"})})})}),(0,C.jsxs)("div",{className:aU.branch,children:[a+1," / ",n]}),(0,C.jsx)(e4.z,{size:"xs",variant:"borderless",shape:"square",theme:{height:"24px",padding:"0",textColor:o?"#CDD4DF":"rgb(var(--ds-rgb-label-2))"},disabled:i,onClick:()=>{!i&&r(1)},children:(0,C.jsx)(eP.J,{size:20,children:(0,C.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M13.863 10.002a.859.859 0 0 1-.074.352.944.944 0 0 1-.223.31l-4.76 4.66a.81.81 0 0 1-.587.236.811.811 0 0 1-.415-.112.89.89 0 0 1-.31-.297.845.845 0 0 1 .149-1.027l4.24-4.122-4.24-4.122a.831.831 0 0 1 .576-1.436c.23 0 .427.078.588.235l4.76 4.66c.098.1.172.203.222.31.05.107.074.225.074.353z",fill:"currentColor"})})})})]})});var aW=n(78355);function aG(e){let{options:t,onChange:n,name:a,value:r,defaultValue:o=null,variant:s="filled",disabled:i=!1,tail:l}=e,[d,c]=(0,Y.useState)(o),u=void 0===r?d:r,[h,p]=(0,Y.useState)(!1);return(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-radio-button-group"),i&&"".concat(J.F,"-radio-button-group--disabled"),"".concat(J.F,"-radio-button-group--").concat("bordered"===s?"bordered1":"filled"===s?"filled1":s)),role:"radiogroup",children:[t.map(e=>(0,C.jsx)(aZ,{disabled:i,label:e.label,value:e.value,inputDomProps:e.inputDomProps,active:u===e.value,name:a,inputFocused:h,setInputFocused:p,onClick:()=>{c(e.value),null==n||n(e.value)}},e.value)),l?(0,C.jsx)("div",{className:"".concat(J.F,"-radio-button-group-tail"),children:l}):null]})}function aZ(e){let{label:t,value:n,active:a,name:r,inputDomProps:o,disabled:s,inputFocused:i,setInputFocused:l,onClick:d}=e,[c,u]=(0,Y.useState)(!1),h=(0,Y.useRef)(null);return(0,C.jsxs)("label",{className:(0,er.Z)("".concat(J.F,"-radio-button"),a&&"".concat(J.F,"-radio-button--active"),c&&"".concat(J.F,"-radio-button--focus")),onClick:s?void 0:d,children:[aW.G?(0,C.jsx)("div",{tabIndex:!i&&a?0:-1,style:{outline:"none"},onFocus:()=>{var e;null===(e=h.current)||void 0===e||e.focus()},"aria-hidden":"true"}):null,(0,C.jsx)("input",{...o,disabled:s,type:"radio",name:r,value:n,ref:h,className:"".concat(J.F,"-radio-button__input"),onFocus:()=>{u(!0),l(!0)},onBlur:()=>{u(!1),l(!1)}}),t]},n)}function aq(e){let{rows:t,onChange:n,placeholder:a,textareaDomProps:r,autoHeight:o,autoWidth:s,variant:i="filled",value:l,defaultValue:d="",footer:c,theme:u,className:h,style:p,defaultFocused:g=!1,componentRef:m}=e,[f,v]=(0,Y.useState)(d),x=void 0===l?f:l,[E,y]=(0,Y.useState)(x),b=(0,Y.useRef)(null);(0,Y.useLayoutEffect)(()=>{if(o||s){let e=_.current;e&&(e.style.overflow="hidden",e.offsetWidth,e.style.overflow="")}},[o,s,E]);let _=(0,Y.useRef)(null),[w,S]=(0,Y.useState)(g);return(0,Y.useImperativeHandle)(m,()=>({focus:()=>{var e;null===(e=_.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=_.current)||void 0===e||e.blur()},setSelectionRange:(e,t)=>{var n;null===(n=_.current)||void 0===n||n.setSelectionRange(e,t)}})),(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-textarea"),"".concat(J.F,"-textarea--").concat(i),w&&"".concat(J.F,"-textarea--focused"),o&&"".concat(J.F,"-textarea--auto-height"),s&&"".concat(J.F,"-textarea--auto-width"),h),style:{...p,"--ds-textarea-text-color":null==u?void 0:u.textColor,"--ds-textarea-color":null==u?void 0:u.color,"--ds-textarea-border-radius":null==u?void 0:u.borderRadius,"--ds-textarea-font-size":null==u?void 0:u.fontSize,"--ds-textarea-line-height":null==u?void 0:u.lineHeight,"--ds-textarea-padding":null==u?void 0:u.padding,"--ds-textarea-focus-color":null==u?void 0:u.focusColor,"--ds-textarea-focus-border-color":null==u?void 0:u.focusBorderColor},children:[(0,C.jsx)("textarea",{...r,onFocus:e=>{var t;S(!0),null==r||null===(t=r.onFocus)||void 0===t||t.call(r,e)},onBlur:e=>{var t;S(!1),null==r||null===(t=r.onBlur)||void 0===t||t.call(r,e)},ref:_,placeholder:a,rows:t,className:"".concat(J.F,"-textarea__textarea"),value:x,onChange:e=>{y(e.currentTarget.value),v(e.currentTarget.value),null==n||n(e)}}),o||s?(0,C.jsxs)("div",{className:"".concat(J.F,"-textarea__mirror"),ref:b,children:[E,(0,C.jsx)("br",{})]}):null,c]})}n(2005),n(79302);var aY=n(31414);function aK(e){let{chatSessionId:t,messageId:n,show:a,onShowChange:r}=e,o=t6.a.useTranslate(),s=(0,Y.useRef)(""),i=(0,Y.useRef)(null),l=(0,e9.pm)(),d=(0,H.aK)(e=>e.setMessageFeedback);return(0,C.jsx)(np,{children:(0,C.jsx)(eh,{appear:!0,show:a,onShowChange:e=>{r(e)},children:(0,C.jsx)(eg,{title:o("feedbackModalTitle"),footer:(0,C.jsxs)("div",{className:aY.buttonGroup,children:[(0,C.jsx)(e4.z,{variant:"filled",size:"m",onClick:()=>{r(!1)},type:"secondary",children:o("cancel")}),(0,C.jsx)(e4.z,{variant:"filled",size:"m",onClick:()=>{r(!1),d(t,n,{feedbackType:H.HL.MessageFeedback.DISLIKE,feedbackTag:i.current,description:s.current}).catch(()=>{l.error({node:(0,Y.createElement)(t6.a.ensureTranslateComponent("feedbackFailedToast")),description:o("feedbackFailedToast")})})},type:"primary",children:o("submit")})]}),onClose:()=>{r(!1)},children:(0,C.jsxs)("div",{className:aY.content,children:[(0,C.jsx)(aG,{name:"feedbackType",onChange:e=>{i.current=e},options:[{label:o("harmful"),value:"harmful"},{label:o("fake"),value:"fake"},{label:o("nonsense"),value:"nonsense"},{label:o("other"),value:"other"}]}),(0,C.jsx)(aq,{rows:4,onChange:e=>{s.current=e.currentTarget.value},placeholder:o("feedbackPlaceholder"),textareaDomProps:{"data-autofocus":!0}})]})})})})}var aQ=n(92673);(d=p||(p={})).CITATION="citation",d.INLINE_EQUATION="inlineEquation",d.BLOCK_EQUATION="blockEquation",d.BEAR_BOXED_EQUATION="bearBoxedEquation",d.TEXT="text",(c=g||(g={}))[c.DOUBLE_DOLLAR=0]="DOUBLE_DOLLAR",c[c.BACKSLASH_BRACKET=1]="BACKSLASH_BRACKET";let aX="\\boxed";class aJ{peek(){return this.currentOffset>=this.content.length?null:this.content[this.currentOffset]}startsWith(e){let t=this.currentOffset+e.length;return!(t>this.content.length)&&this.content.slice(this.currentOffset,t)===e}consume(){this.currentOffset+=1}parse(){return this.buffer="",this.root=[],this.currentOffset=0,this.parseRoot(),this.root}parseRoot(){this.parseText()}consumeNewLine(){"\n"===this.peek()&&this.consume()}flush(){if(this.root.length>0){let e=this.root[this.root.length-1];if(e.data.type===p.TEXT){this.root.pop(),this.root.push({data:{type:p.TEXT,value:e.data.value+this.buffer}}),this.buffer="";return}}this.buffer.length>0&&(this.root.push({data:{type:p.TEXT,value:this.buffer}}),this.buffer="")}parseText(){for(;;){let e=this.peek();if(!e){this.flush();break}switch(e){case"$":if(this.startsWith("$$")){this.flush(),this.parseBlockEquation(g.DOUBLE_DOLLAR);continue}this.consume(),this.buffer+=e;break;case"\\":if(this.startsWith("\\[")){this.flush(),this.parseBlockEquation(g.BACKSLASH_BRACKET);continue}if(this.startsWith("\\(")){this.flush(),this.parseInlineEquation();continue}if(this.startsWith(aX)){this.flush(),this.parseBearBoxedEquation();continue}else this.consume(),this.buffer+=e;break;case"[":if(this.startsWith("[citation:")){this.flush(),this.parseCitation();continue}this.consume(),this.buffer+=e;break;default:this.consume(),this.buffer+=e}}}parseBlockEquation(e){for(this.consume(),this.consume(),this.buffer=e===g.BACKSLASH_BRACKET?"\\[":"$$";;){let t=this.peek();if(t)switch(t){case"$":if(e===g.DOUBLE_DOLLAR&&this.startsWith("$$")){this.consume(),this.consume(),this.root.push({data:{type:p.BLOCK_EQUATION,value:this.buffer.substring(2)}}),this.consumeNewLine(),this.buffer="";return}this.consume(),this.buffer+=t;break;case"\\":if(e===g.BACKSLASH_BRACKET&&this.startsWith("\\]")){this.consume(),this.consume(),this.root.push({data:{type:p.BLOCK_EQUATION,value:this.buffer.substring(2)}}),this.consumeNewLine(),this.buffer="";return}this.consume(),this.buffer+=t;break;default:this.consume(),this.buffer+=t}else{this.flush();break}}}parseInlineEquation(){for(this.consume(),this.consume(),this.buffer="\\(";;){let e=this.peek();if(e){if("\\"===e){if(this.startsWith("\\)")){this.consume(),this.consume(),this.root.push({data:{type:p.INLINE_EQUATION,value:this.buffer.substring(2)}}),this.buffer="";return}this.consume(),this.buffer+=e}else this.consume(),this.buffer+=e}else{this.flush();break}}}parseBearBoxedEquation(){for(let e=0;e<aX.length;e++)this.buffer+=this.peek(),this.consume();for(;;){let e=this.peek();if(e&&"\n"!==e)this.consume(),this.buffer+=e;else break}this.root.push({data:{type:p.BEAR_BOXED_EQUATION,value:this.buffer}}),this.buffer="",this.consumeNewLine()}parseCitation(){for(let e=0;e<10;e++)this.buffer+=this.peek(),this.consume();let e="";for(;;){let t=this.peek();if(t&&t>="0"&&t<="9")this.consume(),this.buffer+=t,e+=t;else break}if(!this.peek()){this.flush();return}let t=this.peek();"]"===t&&e.length>0?(this.consume(),this.root.push({data:{type:p.CITATION,value:parseInt(e)}}),this.buffer=""):(t&&(this.consume(),this.buffer+=t),this.flush())}constructor(e){(0,aQ._)(this,"content",void 0),(0,aQ._)(this,"root",[]),(0,aQ._)(this,"currentOffset",0),(0,aQ._)(this,"buffer",""),this.content=e}}let a$=e=>new aJ(e).parse();var a1=n(53914),a0=n(59681);let a2=(0,Y.memo)(function(e){let{enabled:t,disabled:n,onToggle:a,tooltipText:r,icon:o,text:s,rightSlot:i,placement:l}=e,d=(0,nh.F)(),[c]=(0,Y.useState)(0),u=(0,Y.useRef)(!0),h=(0,ec.Vb)({value:r,shouldDelay:e=>!e,delay:50,defaultValue:r});(0,Y.useEffect)(()=>{if(u.current){u.current=!1;return}},[t]);let p=(0,Y.useRef)(null);return(0,C.jsx)(af.u,{trigger:"hover",theme:{fontSize:"12px",lineHeight:"24px"},isOpen:!!r&&void 0,componentRef:p,placement:l,renderTrigger:e=>{let{domProps:r,domRef:l}=e;return(0,C.jsxs)(e4.z,{icon:(0,C.jsx)("span",{style:{transition:t?"transform .4s ease-out":"none",transform:"rotate(".concat(c,"deg)")},children:o}),onClick:()=>a(!t),domProps:{...r,onMouseLeave:()=>{var e;null===(e=p.current)||void 0===e||e.setIsOpen(!1),r.onMouseLeave()}},domRef:l,className:(0,er.Z)(a0.button),disabled:n,theme:a5(d,t,n),children:[(0,C.jsx)("span",{className:a0.text,children:s}),i]})},children:h})}),a3={light:{off:{textColor:"#4c4c4c",color:"#fff",hoverColor:"#E0E4ED",borderColor:"rgba(0, 0, 0, 0.12)"},on:{textColor:"#4D6BFE",color:"#DBEAFE",hoverColor:"#C3DAF8",borderColor:"rgba(0, 122, 255, 0.15)"},disabled:{color:"#F9F9F9",textColor:"#BBBBBB",borderColor:"#E5E5E5"}},dark:{off:{textColor:"#F8FAFF",color:"transparent",hoverColor:"#424451",borderColor:"#626262"},on:{textColor:"#4CAEFF",color:"rgba(77, 107, 254, 0.40)",hoverColor:"rgba(77, 107, 254, 0.2)",borderColor:"rgba(0, 122, 255, 0.15)"},disabled:{color:"#505060",textColor:"#8B8B8B",borderColor:"#626262"}}},a5=(e,t,n)=>a3[e?"dark":"light"][n?"disabled":t?"on":"off"]||"",a4=(0,Y.memo)(function(e){let{enabled:t,setEnabled:n,isFileEmpty:a}=e,r=t6.a.useTranslate(),o=(0,nh.F)();return(0,C.jsx)(a2,{placement:"left",enabled:t,disabled:!1,onToggle:()=>{let e=!t;t6.l.tracker.info({name:"thinkingSwitchToggled",message:"点击了深度思考开关",payload:{enabled:"".concat(e),fileEmpty:"".concat(a)}}),n(e)},tooltipText:t?"":r("deactivatedThinkTooltip"),icon:(0,C.jsx)(eP.J,{style:{color:a5(o,t,!1).textColor},size:19,children:a9}),text:r(t?"thinkingSwitchEnabled":"thinkingSwitchDisabled")})}),a9=(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z",fill:"currentColor",stroke:"currentColor",strokeWidth:".1"}),(0,C.jsx)("path",{d:"M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z",fill:"currentColor",stroke:"currentColor",strokeWidth:".2"})]});var a6=n(76153);let a7=e=>{let{onClick:t,leftIcon:n,rightIcon:a,children:r}=e;return(0,C.jsxs)("div",{className:(0,er.Z)(a6.indicator,t&&a6.clickable),onClick:t,children:[n,r,a]})},a8=e=>{let{size:t,className:n}=e;return(0,C.jsx)(eP.J,{size:t,className:n,children:(0,C.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.705 11.12a.55.55 0 0 1-.777 0l-2.54-2.54a.55.55 0 0 1 .778-.777l2.54 2.54a.55.55 0 0 1 0 .777z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.775.595a5.006 5.006 0 0 0-3.41.584A4.771 4.771 0 0 0 .58 2.982a4.554 4.554 0 0 0-.575 2.43c.039.845.314 1.663.797 2.37a4.817 4.817 0 0 0 1.943 1.643 5.026 5.026 0 0 0 4.967-.416 4.727 4.727 0 0 0 1.62-1.94l-.992-.415a3.677 3.677 0 0 1-1.26 1.51 3.91 3.91 0 0 1-3.863.323 3.747 3.747 0 0 1-1.512-1.278 3.542 3.542 0 0 1-.173-3.733 3.711 3.711 0 0 1 1.389-1.403 3.893 3.893 0 0 1 2.655-.454L5.775.595z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M8.682 5h-.387a2.33 2.33 0 0 0-.677-1.624A2.315 2.315 0 0 0 6 2.694v-.388a2.315 2.315 0 0 0 1.618-.682A2.33 2.33 0 0 0 8.295 0h.387c.005.613.251 1.2.685 1.632A2.315 2.315 0 0 0 11 2.306v.388c-.611 0-1.198.242-1.633.674A2.33 2.33 0 0 0 8.682 5z",fill:"currentColor"})]})})},re=e=>{let{size:t,className:n}=e;return(0,C.jsx)(eP.J,{size:t,className:n,children:(0,C.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M9.901 10.726a5.542 5.542 0 1 1 .825-.825l2.2 2.2a.58.58 0 0 1-.004.821.58.58 0 0 1-.82.005l-2.2-2.2zm.89-4.31a4.375 4.375 0 1 0-8.75 0 4.375 4.375 0 0 0 8.75 0z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.462 6.908a.51.51 0 0 1-.51-.51V4.361a.51.51 0 0 1 1.02 0v2.037a.51.51 0 0 1-.51.51z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M5.85 8.333a.611.611 0 1 1 1.223 0 .611.611 0 0 1-1.222 0z",fill:"currentColor"})]})})},rt=e=>{let{size:t,className:n}=e;return(0,C.jsx)(eP.J,{size:t,className:n,children:(0,C.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.5a3.462 3.462 0 1 0 0-6.922 3.462 3.462 0 0 0 0 6.923zm0 1.04a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.885 11.387a.55.55 0 0 1-.778 0L7.22 8.5a.55.55 0 0 1 .777-.778l2.89 2.889a.55.55 0 0 1 0 .777z",fill:"currentColor"})]})})},rn=e=>{let{rotate:t,className:n}=e;return(0,C.jsx)(eP.J,{size:10,className:n,style:{transform:"rotate(".concat(t,"deg)")},children:(0,C.jsxs)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M5.786 4.167L2.765 1.259c-.416-.4-.985-.482-1.273-.183-.287.298-.183.864.233 1.264l3.021 2.908c.416.4.986.482 1.273.184.287-.299.183-.865-.233-1.265z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M8.197 1.206L5.288 4.208c-.4.413-.484.982-.187 1.27.298.289.864.187 1.265-.227L9.274 2.25c.401-.414.485-.983.187-1.271-.297-.288-.863-.187-1.264.227z",fill:"currentColor"})]})})};var ra=n(36760);let rr=e=>{let{title:t,onToggle:n,showDetail:a}=e;return(0,C.jsx)(a7,{onClick:n,leftIcon:(0,C.jsx)(eP.J,{size:12,className:ra.icon,children:a9}),rightIcon:(0,C.jsx)(rn,{className:ra.toggle,rotate:180*!!a}),children:t})};var ro=n(38955),rs=n.n(ro);let ri=(0,Y.memo)(function(e){let{url:t,className:n}=e,[a,r]=(0,Y.useState)("loading");return(0,C.jsxs)("div",{className:(0,er.Z)(n),children:[(0,C.jsx)("img",{src:t,onLoad:()=>r("loaded"),onError:()=>r("error"),style:{display:"loaded"===a?"block":"none"},className:"siteIcon_img"}),"error"===a&&(0,C.jsx)("div",{className:"siteIcon_loading siteIcon_fallback",children:(0,C.jsx)(eP.J,{size:10,children:rl})}),"loading"===a&&(0,C.jsx)("div",{className:"siteIcon_loading"})]})}),rl=(0,C.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.945.696a2.376 2.376 0 0 1 3.36 3.36L7.466 5.891a.52.52 0 0 1-.735-.735L8.57 3.32a1.336 1.336 0 1 0-1.89-1.89L4.843 3.269a.52.52 0 0 1-.735-.735L5.945.696zM7.038 2.92a.52.52 0 0 1 0 .735l-3.15 3.15a.52.52 0 0 1-.735-.735l3.15-3.15a.52.52 0 0 1 .735 0zm-3.77 1.188a.52.52 0 0 1 0 .735L1.431 6.68a1.336 1.336 0 1 0 1.89 1.89l1.837-1.838a.52.52 0 0 1 .735.735L4.055 9.304a2.376 2.376 0 0 1-3.36-3.36l1.838-1.836a.52.52 0 0 1 .735 0z",fill:"currentColor"})});var rd=n(13013);let rc=(0,Y.memo)(function(e){let{searchResult:t,className:n,clickable:a=!0,index:r,messageIndex:o}=e,s=ru(t.siteName,t.url);return(0,C.jsxs)("div",{className:(0,er.Z)(rd.wrap,n,a&&rd.clickable),onClick:()=>{t.url&&a&&rp(t.url,o)},children:[(0,C.jsxs)("div",{className:rd.meta,children:[(0,C.jsx)(ri,{url:t.siteIcon,className:rd.siteIcon}),s?(0,C.jsx)("span",{className:rd.siteName,children:s}):null,(0,C.jsx)("span",{className:rd.date,children:rh(t.publishedAt)}),void 0!==r?(0,C.jsx)("span",{className:rd.index,children:r}):null]}),(0,C.jsx)("div",{className:(0,er.Z)(rd.title,"search-view-card__title"),children:t.title}),(0,C.jsx)("div",{className:(0,er.Z)(rd.snippet,"search-view-card__snippet"),children:t.snippet})]})}),ru=(e,t)=>{if(e)return e;if(!t)return"";try{return new URL(t).hostname.replace(/^www\./,"")}catch(e){return""}},rh=e=>e?rs()(1e3*e).format("YYYY/MM/DD"):"",rp=(e,t)=>{(0,H.MQ)({name:"search_result_click",start_time:Date.now(),end_time:Date.now(),attributes:{url:e,message_id:(null==t?void 0:t.messageId)||-1,chat_session_id:(null==t?void 0:t.sessionId)||""}}),t6.l.tracker.info({name:"openSearchResult",message:"打开搜索条目",payload:{url:e}}),window.open(e,"_blank")};var rg=n(11924);let rm=(0,Y.memo)(function(e){let{searchResult:t,index:n}=e;return(0,C.jsx)("div",{className:rg.floatCard,children:(0,C.jsx)(rc,{searchResult:t,messageIndex:n})})}),rf=e=>{let{renderTrigger:t,value:n,sessionId:a,messageId:r}=e,o=(0,H.uF)().hooks.useCiteSearchResult({sessionId:a||"",messageId:r||-1},n);return(0,C.jsx)(af.u,{renderTrigger:t,showArrow:!1,theme:{backgroundColor:"transparent"},children:o?(0,C.jsx)(rm,{searchResult:o,index:{sessionId:a||"",messageId:r||-1}}):null})};var rC=n(66178);let rv=(0,Y.createContext)({setShowScrollBottomButton:aC.Z,checkScrollButton:aC.Z,setCheckScrollButton:aC.Z}),rx=(0,e6.Ue)(e=>({show:!1,toggle:t=>e({show:t})})),rE=(0,Y.memo)(function(e){let{children:t}=e,n=(0,Y.useRef)(aC.Z),a=(0,Y.useMemo)(()=>({setShowScrollBottomButton:e=>rx.getState().toggle(e),checkScrollButton:()=>n.current(),setCheckScrollButton:e=>n.current=e}),[]);return(0,C.jsx)(rv.Provider,{value:a,children:t})}),ry=()=>rx(e=>e.show),rb=()=>{let{setShowScrollBottomButton:e}=(0,Y.useContext)(rv);return e},r_=e=>{let t=(0,Y.useContext)(rv).checkScrollButton;(0,Y.useLayoutEffect)(()=>{t()},[e,t])},rw=e=>{(0,Y.useContext)(rv).setCheckScrollButton(e)},rS={fn:aC.Z},rI=e=>{rS.fn=e},rT=()=>{rS.fn()},rM=(0,Y.memo)(function(e){let{messageId:t,sessionId:n,branchIndex:a,finished:r}=e,o=t6.a.useTranslate(),s=(0,H.XQ)(n,t),i=s.useThinkingContent(),l=s.useThinkingElapsedSecs(),d=s.useMessageStatus(),c=[H.HL.MessageStatus.CONTENT_FILTER].includes(d),u=rL({t:o,thinkingElapsedSecs:l,thinkingContent:i,messageStatus:d}),[h,p]=(0,Y.useState)(!0);(0,Y.useEffect)(()=>{p(!0)},[a]);let g=rN({thinkingContent:i,isDangerous:c}),m=(0,Y.useMemo)(()=>({sessionId:n,messageId:t}),[t,n]),f=(0,ec.of)(i||"",r,rT);return g?(0,C.jsxs)("div",{className:rC.thinkingWrap,children:[(0,C.jsx)(rr,{title:u,onToggle:()=>{t6.l.tracker.info({name:"thinkContentCollapse",message:"思考过程".concat(h?"折叠":"展开"),payload:{sessionId:n,messageId:"".concat(t),collapsed:"".concat(!h)}}),p(!h)},showDetail:h}),h?(0,C.jsxs)("div",{className:rC.contentWrap,children:[(0,C.jsx)("div",{className:rC.contentLine}),(0,C.jsx)(rR.Provider,{value:m,children:(0,C.jsx)(rj,{content:f})})]}):null]}):null}),rj=(0,Y.memo)(function(e){let{content:t}=e,n=a$(t);return(0,C.jsx)(C.Fragment,{children:n.map((e,t)=>{let{data:n}=e;switch(n.type){case p.TEXT:return(0,C.jsx)(Y.Fragment,{children:rk(n.value)},t);case p.CITATION:return(0,C.jsx)(rA,{value:Number(n.value)},t);case p.INLINE_EQUATION:return(0,C.jsx)(ae,{value:n.value},t);case p.BEAR_BOXED_EQUATION:case p.BLOCK_EQUATION:return(0,C.jsx)(n8,{value:n.value},t);default:return(0,a1.vv)(n),null}})})}),rk=e=>{let t=[],n=e.split("\n");for(let e=0;e<n.length;e++)""!==n[e]&&t.push(n[e]),e!==n.length-1&&t.push((0,C.jsx)("div",{style:{height:6}},e));return t},rA=(0,Y.memo)(function(e){let{value:t}=e,n=(0,H.uF)(),{sessionId:a,messageId:r}=(0,Y.useContext)(rR),o=e=>{let t=n.getSearchResult({sessionId:a||"",messageId:r||0},e);(null==t?void 0:t.url)&&rp(t.url,{sessionId:a,messageId:r})},{valid:s,text:i}=n.convertCiteIndexToListIndex({sessionId:a,messageId:r},t);return s?(0,C.jsx)(rf,{value:t,messageId:r,sessionId:a,renderTrigger:e=>{let{domRef:n,domProps:a}=e;return(0,C.jsx)("span",{className:"ds-markdown-cite",ref:n,...a,onClick:()=>o(t),children:i})}}):(0,C.jsx)(C.Fragment,{children:t})}),rR=(0,Y.createContext)({sessionId:"",messageId:-1}),rN=e=>{let{thinkingContent:t,isDangerous:n}=e;return!n&&"string"==typeof t},rL=e=>{let{t,thinkingElapsedSecs:n,thinkingContent:a,messageStatus:r}=e;return"string"!=typeof a?"":"number"==typeof n?t("thinkingElapsed")({secs:null!=n?n:0}):t(r===H.HL.MessageStatus.WIP?"isThinking":"thinkingStop")};var rF=n(74018);let{SearchStatus:rO}=H.dV,rP=e=>{let{messageIndex:t}=e,n=(0,H.uF)(),a=t6.a.useTranslate(),r=n.hooks.useMessageSearchStatus(t),o=n.hooks.useSearchResultCount(t),s=rD(r,o);if((!r||[rO.ANSWER,rO.INIT].includes(r))&&0===o)return null;let i=rB(a,r,o),l=o?()=>{n.getIsShowingSearchView(t)?n.closeSearchView():n.openSearchView(t)}:void 0;return(0,C.jsx)(a7,{onClick:l,leftIcon:(0,C.jsx)(s,{className:rF.magnifier,size:12}),rightIcon:o>0?(0,C.jsx)(rn,{rotate:-90,className:rF.toggle}):null,children:i})},rD=(e,t)=>e===rO.SEARCHING?rt:0===t?re:a8,rB=(e,t,n)=>t===rO.SEARCHING?e("isSearching"):0===n?e("searchGotNothing"):e("searchFoundXSites")({n:n}),rz=(e,t)=>{let n=rH(e);if(t&&8===rH(t)&&n>8)return rz(t);let a="",r="",o=0,s=0;for(let t of e){let e=rH(t);if(o+e>8)break;s+e<=4?(a+=t,s+=e):r+=t,o+=e}return{firstLine:a,secondLine:r,whole:a+r}},rH=e=>[...e].reduce((e,t)=>e+(/[\u4e00-\u9fa5]|[\ud800-\udfff]|[\uFF01-\uFF60]/.test(t)?2:1),0);var rU=n(79198);let rV=e=>{let{content:t,color:n,className:a,size:r,slot:o}=e,{firstLine:s,secondLine:i}=rz(t),l=!i,d=Math.round(.35*r*(l?1:.8));return(0,C.jsxs)("div",{className:"".concat(rU.avatarContainer," ").concat(a),style:{"--color":n,"--font-size":d+"px",width:r,height:r},children:[(0,C.jsxs)("div",{className:rU.avatar,children:[(0,C.jsx)("div",{className:rU.line,children:s}),!l&&(0,C.jsx)("div",{className:rU.line,children:i})]}),o]})};var rW=n(60525);let rG=(0,Y.memo)(function(e){let{avatar:t,size:n,className:a}=e,r={height:n,width:n};return t?"TEXT"===t.type?(0,C.jsx)(rV,{size:n,content:t.content,color:t.color,className:a}):(0,C.jsx)("img",{src:t.url,className:rW.avatar,style:r}):(0,C.jsx)("div",{className:"".concat(rW.avatar," ").concat(a),style:r})}),rZ=(0,Y.createContext)({messageSettled:!1}),rq=()=>(0,Y.useContext)(rZ).messageSettled,rY=(0,Y.memo)(function(e){let{disabled:t,onClick:n}=e,a=(0,nh.F)(),r=t6.a.useTranslate(),o=t?r("generatingDisableTooltip"):void 0;return(0,C.jsx)(af.u,{isOpen:!!t&&void 0,renderTrigger:e=>{let{domProps:o,domRef:s}=e;return(0,C.jsx)(e4.z,{domProps:o,domRef:s,size:"m",disabled:t,theme:{borderColor:a?"#525252":"#EDEDED",borderRadius:"12px",height:"32px",padding:"0 14px",iconMargin:"0 4px 0 0",color:a?"#32333E":void 0,textColor:a?"#E4E6EC":void 0,hoverTextColor:a?"#F8FAFF":void 0},type:"secondary",variant:"bordered",onClick:n,icon:(0,C.jsx)(eP.J,{size:15,style:{color:a?"#E4E6EC":void 0},children:(0,C.jsx)(rK,{})}),children:r("continueGenerationButton")})},children:o})}),rK=e=>{let{className:t}=e;return(0,C.jsxs)("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.791 1.69c-3.365 0-6.085 2.711-6.085 6.048s2.721 6.049 6.085 6.049c.95 0 1.89-.22 2.738-.646a6.066 6.066 0 0 0 2.15-1.8l1.166.866a7.516 7.516 0 0 1-2.666 2.232 7.557 7.557 0 0 1-3.388.8c-4.16-.001-7.537-3.355-7.537-7.5 0-4.146 3.377-7.5 7.537-7.5 3.801 0 6.95 2.8 7.463 6.448l-.448.063c-.547.077-1.045-.309-1.212-.835A6.083 6.083 0 0 0 7.791 1.69z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.235 11.705l-2.473.365a.75.75 0 1 1-.22-1.484l3.463-.51a.5.5 0 0 1 .568.421l.51 3.463a.75.75 0 0 1-1.483.218l-.365-2.473z",fill:"currentColor"})]})};var rQ=n(91537);let rX=e=>{let{style:t,dotSize:n,dotMargin:a,className:r}=e;return(0,C.jsx)("div",{className:(0,er.Z)(r,rQ.container),style:t,children:[0,1,2].map(e=>(0,C.jsx)("div",{className:rQ.dot,style:{width:n,height:n,marginRight:e<2?a:void 0}},e))})};function rJ(e){let{sessionId:t,messageId:n}=e,a=(0,H.XQ)(t,n).useTips("top");return(0,C.jsx)(C.Fragment,{children:a.map(e=>(0,C.jsx)(a7,{children:e.content},e.content))})}var r$=n(14900);let r1=e=>{let{content:t}=e;return(0,C.jsxs)("div",{className:r$.messageRiskWarn,children:[(0,C.jsx)(r0,{}),(0,C.jsx)("div",{className:r$.messageRiskWarnTitle,children:t})]})},r0=()=>(0,C.jsx)(eP.J,{className:r$.messageRiskWarnIcon,size:16,children:(0,C.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 16.7A7.7 7.7 0 1 0 9 1.3a7.7 7.7 0 0 0 0 15.4zM9 18A9 9 0 1 0 9 0a9 9 0 0 0 0 18z",fill:"#E4773D"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 13a.857.857 0 0 1-.857-.857V8.57a.857.857 0 1 1 1.714 0v3.572A.857.857 0 0 1 9 13zM9 6.714A.857.857 0 1 1 9 5a.857.857 0 0 1 0 1.714z",fill:"#E4773D"})]})}),r2=(0,Y.memo)(function(e){let{sessionId:t,messageId:n}=e,a=(0,H.XQ)(t,n),r=a.useTips("bottom");return a.useMessageGenerateStatus()?null:(0,C.jsx)(C.Fragment,{children:r.map(e=>(0,C.jsx)(r1,{content:e.content},e.content))})});var r3=n(66276);let r5=H.HL.MessageStatus,r4={marginTop:12,height:20,marginBottom:20},r9=(0,Y.memo)(function(e){let{character:t}=e;return t?(0,C.jsx)(rG,{avatar:t.avatar,size:32,className:r3.assistantMessageAvatarPosition}):(0,C.jsx)("div",{className:(0,er.Z)(r3.assistantMessageAvatar,r3.assistantMessageAvatarPosition),children:(0,C.jsx)(eb,{})})}),r6=(0,Y.memo)(function(e){let{sessionId:t}=e,n=(0,H.dQ)(),a=(0,H.aK)(e=>{var n;return t?null===(n=e.getSession(t))||void 0===n?void 0:n.agentId:null}),{character:r}=n.hooks.useCharacterAuto(a||null);return(0,C.jsx)(r9,{character:r})}),r7=(0,Y.memo)(function(e){let{sessionId:t,messageId:n}=e,a=(0,H.XQ)(t,n),r=(0,H.aK)(e=>{let a=e.getMessage(t,n);return a?a.feedback:null}),o=a.useMessageStatus(),s=a.useBranchCount(),i=a.useBranchIndex();r_(i);let{continueCompletion:l}=(0,H.RJ)(),d=(0,H.uF)(),c=a.useShowLoading(),u=a.useShowContinue()&&!c,h=a.useShowAssistantMessageActions(c),p=r8(s,o,c),g=a.useContinueButtonDisabled(),m=(0,H.cm)(),f=aA(e=>e.close),[v,x]=(0,Y.useState)(null),E=(0,Y.useCallback)((e,a)=>(0,C.jsx)(aK,{chatSessionId:t,messageId:n,show:e,onShowChange:a}),[t,n]),y=(0,Y.useCallback)(e=>{m.closePreview(),d.closeSearchView(),f(),H.aK.getState().navigateMessageBranch(t,n,e)},[f,n,m,d,t]);return h||p||u?(0,C.jsxs)(C.Fragment,{children:[null!==v?E(v,x):null,(0,C.jsxs)(am,{alignItems:"center",style:r4,className:v?r3.dislikeModalShown:void 0,gap:10,children:[p?(0,C.jsx)(aV,{onIndexChange:y,count:s,index:i}):null,h?(0,C.jsx)(aN,{sessionId:t,messageId:n,feedback:r,showFeedbackModal:v,onFeedbackChange:e=>{H.aK.getState().setMessageFeedback(t,n,{feedbackType:e,feedbackTag:null,description:null})},onDislikeClick:()=>{x(!0)},onCopy:()=>{nG(a.getCopyContent(d)),t6.l.tracker.info({name:"copyBotResponse",message:"复制机器人回复",payload:{}})},className:r3.actions}):null,(0,C.jsx)("div",{style:{flex:1}}),u?(0,C.jsx)(rY,{disabled:g,onClick:()=>{l({chatSessionId:t,messageId:n})}}):null]})]}):null}),r8=(e,t,n)=>!n&&e>1&&t!==r5.WIP,oe=(0,Y.memo)(function(e){let{messageId:t,sessionId:n,isLast:a}=e,r=t6.a.useTranslate(),o=(0,H.XQ)(n,t),s=!!o.useThinkingContent(),i=o.useMessageStatus(),l=o.useBranchCount(),d=o.useBranchIndex();r_(d);let c=o.useMessageContent()||"",{ast:u,processedMarkdown:h}=function(e){let{markdown:t,loading:n,onAstPreprocessError:a,math:r,cite:o}=e,{ast:s,processedMarkdown:i}=(0,Y.useMemo)(()=>{if(!t)return{ast:null,processedMarkdown:""};let e=nH(n?t.replace(/\*+$/,""):t),s=function(e,t){let n={extensions:[],mdastExtensions:[]};return n.extensions.push(nB.extensions["0"]),n.mdastExtensions.push(nB.mdastExtensions["0"]),t.math.markdown&&(n.extensions.push(nz.extensions["0"]),n.mdastExtensions.push(nz.mdastExtensions["0"])),t.cite&&(n.extensions.push((0,nL.X)()),n.mdastExtensions.push((0,nF.V)())),(0,nN.V)(e,n)}(e,{math:r,cite:o});return!function e(t){let{ast:n,loading:a,onError:r}=t;if(a)try{let t=n.children[n.children.length-1];if(!t)return;if("list"===t.type){let n=t.children[t.children.length-1];if(n){let t=n.children[n.children.length-1];if(t){if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d|\*\s?|-\s?)$/,""))}else"thematicBreak"===t.type&&1===n.children.length?n.children=[]:"list"===t.type&&e({ast:n,loading:a,onError:r})}}}else if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d)$/,""))}}catch(e){null==r||r(e)}}({ast:s,loading:n,onError:a}),{ast:s,processedMarkdown:e}},[t,n,r,o,a]),l=(0,Y.useMemo)(()=>!!(null==s?void 0:s.children.some(e=>"code"===e.type||"math"===e.type)),[s]);return{ast:s,processedMarkdown:i,hasMaxWidthBlock:l}}({markdown:(0,ec.of)(c,i!==H.HL.MessageStatus.WIP,rT),loading:i===H.HL.MessageStatus.WIP,onAstPreprocessError:()=>{},math:{markdown:!0},cite:!0}),p=(0,H.uF)(),g=o.useShowLoading(),m=o.useShowContinue()&&!g,f=o.useShowAssistantMessageActions(g),v=r8(l,i,g),x=!u&&!s,E=(0,Y.useMemo)(()=>({check:e=>p.convertCiteIndexToListIndex({sessionId:n,messageId:t},e),CiteWrapper:rf,onClick:e=>{let a=p.getSearchResult({sessionId:n||"",messageId:t||0},e);(null==a?void 0:a.url)&&rp(a.url,{sessionId:n,messageId:t})},wrapperDeps:{sessionId:n,messageId:t}}),[t,p,n]),y=(0,Y.useMemo)(()=>({messageSettled:f}),[f]);return(0,Y.useMemo)(()=>{let e=f||v||m;return(0,C.jsxs)("div",{className:(0,er.Z)(r3.assistantMessage,a&&r3.isLast,e&&r3.showActions,g&&r3.showLoading),children:[(0,C.jsx)(r6,{sessionId:n}),(0,C.jsx)(rJ,{messageId:t,sessionId:n}),(0,C.jsx)(rP,{messageIndex:{sessionId:n,messageId:t}}),(0,C.jsx)(rM,{messageId:t,sessionId:n,branchIndex:d,finished:null!=u}),u?(0,C.jsx)(rZ.Provider,{value:y,children:(0,C.jsx)(ac,{markdown:h,variant:"block",ast:u,copyCodeText:r("copyCode"),copyCodeOkText:r("copyCodeOk"),zoom:1.143,onCopyCode:ot,citeProps:E},"".concat(n,"_").concat(t))}):null,g?(0,C.jsx)(rX,{className:r3.loading}):null,x?(0,C.jsx)("div",{className:r3.blank}):null,(0,C.jsx)(r2,{messageId:t,sessionId:n}),(0,C.jsx)(r7,{sessionId:n,messageId:t})]})},[f,v,m,a,g,n,t,d,u,y,h,r,E,x])}),ot=e=>{let{lang:t}=e;t6.l.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:t}})};var on=n(97932);let oa=()=>{let e=(0,Y.useRef)(!1),t=10*!!en.G6;return{isComposingRef:e,onCompositionStart:()=>{e.current=!0},onCompositionEnd:()=>{setTimeout(()=>{e.current=!1},t)}}},or=(0,Y.forwardRef)(function(e,t){let{sessionId:n,messageId:a,onCancelEdit:r}=e,{editMessage:o}=(0,H.RJ)(),s=(0,nh.F)(),i=t6.a.useTranslate(),l=(0,Y.useRef)(null),d=(0,H.aK)(e=>{let t=e.getMessage(n,a);return(null==t?void 0:t.content)||""}),c=0===d.trim().length,[u,h]=(0,Y.useState)(()=>c),p=(0,Y.useRef)(""),{isComposingRef:g,onCompositionStart:m,onCompositionEnd:f}=oa(),v=(0,H.uF)(),x=(0,H.aK)(e=>{let t=e.getMessage(n,a);return!!t&&t.isEditing});(0,Y.useEffect)(()=>{x&&(p.current=d)},[x,d]),(0,Y.useEffect)(()=>{if(x){var e,t;null===(e=l.current)||void 0===e||e.focus(),null===(t=l.current)||void 0===t||t.setSelectionRange(d.length,d.length)}},[x]);let{thinkingEnabled:E,searchEnabled:y}=aw(),b=(0,H.aK)(e=>{if(!x)return!1;let t=e.getSession(n);return!!t&&t.state!==H.HL.SessionStateEnum.idle})||u;(0,Y.useImperativeHandle)(t,()=>({setEditingPromptEmpty:h}));let _=async()=>{t6.l.tracker.info({name:"editMessageSubmited",message:"用户编辑消息",payload:{sessionId:n,messageId:String(a)}}),v.closeSearchView(),o({chatSessionId:n,messageId:a,prompt:p.current,searchEnabled:y,getPowRes:()=>aj({t:i,scene:"completion_like",setIsSolvingChallenge:e=>{H.aK.getState().updateSession(n,t=>{t.state=e?H.HL.SessionStateEnum.sending:H.HL.SessionStateEnum.idle})}}),thinkingEnabled:E},{onSent:()=>{on.A.next({method:"onStartReceiveEditMessage",args:null})}})};return(0,C.jsx)(aq,{defaultFocused:!0,componentRef:l,defaultValue:d,onChange:e=>{p.current=e.currentTarget.value,h(!e.currentTarget.value.trim().length)},autoHeight:!0,variant:"bordered",style:{maxWidth:"calc(100% - 48px)",minHeight:100,maxHeight:268},theme:{padding:"8px 20px",borderRadius:"14px",lineHeight:"var(--ds-line-height-l)",fontSize:"var(--ds-font-size-l)",focusColor:s?"#32333E":void 0,focusBorderColor:s?"#4D6BFE":void 0},footer:(0,C.jsxs)(am,{justifyContent:"flex-end",style:{position:"absolute",right:0,top:"calc(100% + 12px)"},children:[(0,C.jsx)(e4.z,{type:"secondary",style:{borderRadius:14},onClick:r,theme:{color:s?"#3A3A46":"#EDEDED",textColor:s?"#F8FAFF":void 0},children:i("editMessageCancelButton")}),(0,C.jsx)(af.u,{isOpen:!!b&&void 0,renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,C.jsx)(e4.z,{domProps:t,domRef:n,style:{borderRadius:14},disabled:b,onClick:_,theme:{color:"#4D6BFE",textColor:s?"#F8FAFF":void 0,hoverColor:s?"#3D4FA9":"#2563EB"},children:i("editMessageSendButton")})},children:b?i("generatingDisableTooltip"):void 0})]}),textareaDomProps:{onKeyDown:e=>{!g.current&&("Enter"!==e.key||(e.ctrlKey||t6.l.isMobile?(e.preventDefault(),document.execCommand("insertText",!1,"\n")):e.shiftKey||!p.current.trim().length||b||(e.preventDefault(),_())))},onCompositionStart:m,onCompositionEnd:f}})}),oo=(0,Y.memo)(or);var os=n(2452);let oi={default:"解析失败",error40000:"未提取到文字",error40001:"未提取到文字",error40002:"未提取到文字",error40003:"解析失败",error40004:"解析失败",error40006:"解析失败",error40007:"解析失败",error40008:"解析失败",error40009:"未提取到文字",error50200:"服务器繁忙",error50201:"服务器繁忙",error50202:"服务器繁忙",error50300:"服务器繁忙",error50400:"服务器繁忙",error50401:"服务器繁忙",error50402:"服务器繁忙",error50403:"服务器繁忙"},ol={zh_CN:oi,en_US:{default:"Parsing failed",error40000:"No text extracted",error40001:"No text extracted",error40002:"No text extracted",error40003:"Parsing failed",error40004:"Parsing failed",error40006:"Parsing failed",error40007:"Parsing failed",error40008:"Parsing failed",error40009:"No text extracted",error50200:"Server busy",error50201:"Server busy",error50202:"Server busy",error50300:"Server busy",error50400:"Server busy",error50401:"Server busy",error50402:"Server busy",error50403:"Server busy"}},od=()=>document.body.clientWidth,oc=(0,Y.createContext)({width:od()}),ou=e=>{let{getWrap:t,children:n}=e,[a,r]=(0,Y.useState)(od);(0,Y.useEffect)(()=>{let e=new ResizeObserver(()=>{let e=t();e?r(oh(e)):r(od())}),n=t();return n&&e.observe(n),()=>e.disconnect()},[t]);let o=(0,Y.useMemo)(()=>({width:a}),[a]);return(0,C.jsx)(oc.Provider,{value:o,children:n})},oh=e=>{let t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},op=()=>(0,Y.useContext)(oc).width,og=()=>616>op()?2:3;var om=n(60133);function of(e){let{fileList:t,readOnly:n,onFileDelete:a,closeButtonOffset:r,style:o,align:s="left",lastLineLeft:i}=e,l=(0,Y.useRef)(null);return(0,C.jsx)(ou,{getWrap:()=>l.current||null,children:(0,C.jsx)("div",{ref:l,className:(0,er.Z)(om.wrapper,"right"===s&&om.rightAlign),style:{...o,marginTop:-(r||0),paddingTop:r},children:(0,C.jsx)(oC,{fileList:t,readOnly:n,onFileDelete:a,lastLineLeft:i})})})}let oC=(0,Y.memo)(function(e){let{fileList:t,readOnly:n,onFileDelete:a,lastLineLeft:r}=e;return(0,C.jsx)(C.Fragment,{children:t.map((e,o)=>(0,C.jsx)(oE,{file:e,readOnly:n,onDelete:n?()=>{}:()=>a(e),sideNode:(0,C.jsx)(ov,{idx:o,fileList:t,lastLineLeft:r})},e.renderKey))})}),ov=(0,Y.memo)(function(e){let{idx:t,fileList:n,lastLineLeft:a}=e,r=og();return a&&ox(t,n.length,r)?a:null}),ox=(e,t,n)=>{let a=t%n;return a?e===t-a:e===t-n};function oE(e){let{file:t,readOnly:n,onDelete:a,sideNode:r}=e,o=t6.a.useTranslate(),s=t6.a.useLocale(),i=(0,e9.pm)(),l=function(){let e=(0,Y.useCallback)((e,t)=>ol[t][e],[]);return(t,n)=>{let a=t?"error".concat(t):"default";return e(a in oi?a:"default",n)}}(),d=(0,H.cm)(),{isRequireDelete:c,isUploadFailed:u}=(0,H.hP)(e=>e.getIsRequireDelete(t.id)),h=(0,H.Dk)(t.fileName,"upper"),{formatStr:p}=(0,H.Hi)(t.fileSize),g=d.hooks.usePreviewType(t),m=(0,Y.useCallback)(e=>{e.stopPropagation(),d.matchCurrentPreviewFile(t)&&d.closePreview(),a()},[t,a,d]),f=async()=>{g&&(t6.l.tracker.info({name:"previewFile",message:"点击预览文件",payload:{type:g,fileName:t.fileName,id:t.id}}),(await d.previewFile(t)).success||i.error(o("previewFileFail")))};return(0,C.jsxs)("div",{className:(0,er.Z)(om.fileItem,c&&om.failed,!!g&&om.couldPreview),onClick:f,children:[r,(0,C.jsxs)("div",{className:om.fileItemBox,children:[(0,C.jsx)(eP.J,{className:om.fileIcon,size:32,children:!c&&[H.dV.FileParseStatus.PENDING,H.dV.FileParseStatus.PARSING].includes(t.status)?(0,C.jsx)(tN.g,{size:20,className:om.loadingWrapper}):(0,C.jsx)(oy,{type:h,failed:c})}),(0,C.jsxs)("div",{className:om.content,children:[(0,C.jsx)(af.u,{checkEllipsis:!0,theme:{maxWidth:"80vw"},renderTrigger:e=>{let{domProps:n,domRef:a,ellipsisDomRef:r}=e;return(0,C.jsx)("div",{...n,className:om.caption,ref:(0,os.l)(a,r),children:t.fileName})},children:t.fileName}),(0,C.jsx)("div",{className:om.subCaption,children:(e=>{var t,n;if(null===(t=H.hP.getState().getFileUploadInfo(e.id))||void 0===t?void 0:t.isUploading)return o("uploadFileStatusUploading");if(u)return(null===(n=H.hP.getState().getFileUploadInfo(e.id))||void 0===n?void 0:n.failedMsg)||o("uploadFileStatusFailed");switch(e.status){case H.dV.FileParseStatus.SUCCESS:return"".concat(h," ").concat(p);case H.dV.FileParseStatus.PENDING:return o("fileParseQueuing");case H.dV.FileParseStatus.PARSING:return o("uploadFileStatusParsing");case H.dV.FileParseStatus.CONTENT_FILTER:return t6.l.isMobile?o("uploadFileStatusContentFilterForMobile"):o("uploadFileStatusContentFilter");case H.dV.FileParseStatus.CONTENT_EMPTY:return o("uploadFileStatusContentEmpty");case H.dV.FileParseStatus.CONTENT_TOO_LONG:return o("fileContentTooLong");case H.dV.FileParseStatus.FAILED:return l(e.errorCode,s);case H.dV.FileParseStatus.CANCELLED:return o("fileParseFailed");case H.dV.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL:return o("systemServiceException");default:return(0,H.vv)(e.status),""}})(t)})]})]}),!n&&(0,C.jsx)("span",{role:"img",tabIndex:-1,onClick:m,children:c?(0,C.jsx)(oT,{}):(0,C.jsx)(oI,{})})]})}function oy(e){let{type:t,failed:n}=e;return H.Qs.getIsImageExt(t.toLocaleLowerCase())?n?(0,C.jsx)(oS,{}):(0,C.jsx)(ow,{}):n?(0,C.jsx)(o_,{}):(0,C.jsx)(ob,{})}function ob(){return(0,C.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M7 9C7 6.79086 8.79086 5 11 5L18.6383 5C19.1906 5 19.6383 5.44772 19.6383 6V6.92308C19.6383 9.13222 21.4292 10.9231 23.6383 10.9231H24C24.5523 10.9231 25 11.3708 25 11.9231V23C25 25.2091 23.2091 27 21 27H11C8.79086 27 7 25.2091 7 23V9Z",fill:"#F8CA27"}),(0,C.jsx)("g",{filter:"url(#filter0_d_602_422)",children:(0,C.jsx)("path",{d:"M19.6602 6.92458V5.84766L24.4126 10.9246H23.6602C21.451 10.9246 19.6602 9.13372 19.6602 6.92458Z",fill:"#F8EDC7"})}),(0,C.jsx)("path",{d:"M20.2557 12H11.7443C11.3332 12 11 12.3358 11 12.75C11 13.1642 11.3332 13.5 11.7443 13.5H20.2557C20.6668 13.5 21 13.1642 21 12.75C21 12.3358 20.6668 12 20.2557 12Z",fill:"#F8EDC7"}),(0,C.jsx)("path",{d:"M20.2557 16L11.7443 16.0017C11.3332 16.0017 11 16.3371 11 16.7509C11 17.1646 11.3332 17.5 11.7443 17.5L20.2557 17.4983C20.6668 17.4983 21 17.1629 21 16.7491C21 16.3354 20.6668 16 20.2557 16Z",fill:"#F8EDC7"}),(0,C.jsx)("path",{d:"M15.3575 20H11.6425C11.2876 20 11 20.3358 11 20.75C11 21.1642 11.2876 21.5 11.6425 21.5H15.3575C15.7124 21.5 16 21.1642 16 20.75C16 20.3358 15.7124 20 15.3575 20Z",fill:"#F8EDC7"}),(0,C.jsx)("defs",{children:(0,C.jsxs)("filter",{id:"filter0_d_602_422",x:"19.1602",y:"5.34766",width:"7.75195",height:"8.07617",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,C.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,C.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,C.jsx)("feOffset",{dx:"1",dy:"1"}),(0,C.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,C.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,C.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.591623 0 0 0 0 0.452482 0 0 0 0 0.0698445 0 0 0 0.25 0"}),(0,C.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_602_422"}),(0,C.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_602_422",result:"shape"})]})})]})}function o_(){return(0,C.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M7 9C7 6.79086 8.79086 5 11 5L18.6383 5C19.1906 5 19.6383 5.44772 19.6383 6V6.92308C19.6383 9.13222 21.4292 10.9231 23.6383 10.9231H24C24.5523 10.9231 25 11.3708 25 11.9231V23C25 25.2091 23.2091 27 21 27H11C8.79086 27 7 25.2091 7 23V9Z",fill:"#C2C2C2"}),(0,C.jsx)("g",{filter:"url(#filter0_d_602_442)",children:(0,C.jsx)("path",{d:"M19.6602 6.92458V5.84766L24.4126 10.9246H23.6602C21.451 10.9246 19.6602 9.13372 19.6602 6.92458Z",fill:"#EEEEEE"})}),(0,C.jsx)("path",{d:"M20.2557 12H11.7443C11.3332 12 11 12.3358 11 12.75C11 13.1642 11.3332 13.5 11.7443 13.5H20.2557C20.6668 13.5 21 13.1642 21 12.75C21 12.3358 20.6668 12 20.2557 12Z",fill:"#EEEEEE"}),(0,C.jsx)("path",{d:"M20.2557 16L11.7443 16.0017C11.3332 16.0017 11 16.3371 11 16.7509C11 17.1646 11.3332 17.5 11.7443 17.5L20.2557 17.4983C20.6668 17.4983 21 17.1629 21 16.7491C21 16.3354 20.6668 16 20.2557 16Z",fill:"#EEEEEE"}),(0,C.jsx)("path",{d:"M15.3575 20H11.6425C11.2876 20 11 20.3358 11 20.75C11 21.1642 11.2876 21.5 11.6425 21.5H15.3575C15.7124 21.5 16 21.1642 16 20.75C16 20.3358 15.7124 20 15.3575 20Z",fill:"#EEEEEE"}),(0,C.jsx)("defs",{children:(0,C.jsxs)("filter",{id:"filter0_d_602_442",x:"19.1602",y:"5.34766",width:"7.75195",height:"8.07617",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,C.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,C.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,C.jsx)("feOffset",{dx:"1",dy:"1"}),(0,C.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,C.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,C.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.331901 0 0 0 0 0.331901 0 0 0 0 0.331901 0 0 0 0.25 0"}),(0,C.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_602_442"}),(0,C.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_602_442",result:"shape"})]})})]})}function ow(){return(0,C.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M21.4237 7H10.5763C8.04887 7 6 8.94521 6 11.3447V20.6544C6 23.054 8.04887 24.9992 10.5763 24.9992H21.4237C23.9511 24.9992 26 23.054 26 20.6544V11.3447C26 8.94521 23.9511 7 21.4237 7Z",fill:"#9AD2EC"}),(0,C.jsx)("path",{d:"M11.3448 14.2014C12.3922 14.2014 13.2413 13.3955 13.2413 12.4015C13.2413 11.4074 12.3922 10.6016 11.3448 10.6016C10.2974 10.6016 9.44824 11.4074 9.44824 12.4015C9.44824 13.3955 10.2974 14.2014 11.3448 14.2014Z",fill:"white"}),(0,C.jsx)("path",{d:"M25.9989 15.4688L21.3278 19.2012C20.7752 19.6428 20.0993 19.9222 19.3825 20.0054C18.6656 20.0886 17.9387 19.972 17.2904 19.6699L13.5988 17.9489C13.0423 17.6896 12.4264 17.5663 11.8069 17.5902C11.1875 17.6141 10.5841 17.7845 10.0516 18.0859L6.00098 20.3788V20.6554C6.00089 21.226 6.11915 21.7909 6.34906 22.318C6.57896 22.8452 6.91598 23.3241 7.34087 23.7276C7.76576 24.131 8.27022 24.4511 8.82541 24.6694C9.38059 24.8878 9.97563 25.0002 10.5766 25.0002H21.4247C22.6381 24.9998 23.8017 24.5419 24.6595 23.7271C25.5173 22.9123 25.9991 21.8074 25.9989 20.6554V15.4688Z",fill:"#4579C7"})]})}function oS(){return(0,C.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M21.4237 7H10.5763C8.04887 7 6 8.94521 6 11.3447V20.6544C6 23.054 8.04887 24.9992 10.5763 24.9992H21.4237C23.9511 24.9992 26 23.054 26 20.6544V11.3447C26 8.94521 23.9511 7 21.4237 7Z",fill:"#CDCDCD"}),(0,C.jsx)("path",{d:"M11.3448 14.2014C12.3922 14.2014 13.2413 13.3955 13.2413 12.4015C13.2413 11.4074 12.3922 10.6016 11.3448 10.6016C10.2974 10.6016 9.44824 11.4074 9.44824 12.4015C9.44824 13.3955 10.2974 14.2014 11.3448 14.2014Z",fill:"white"}),(0,C.jsx)("path",{d:"M25.9989 15.4688L21.3278 19.2012C20.7752 19.6428 20.0993 19.9222 19.3825 20.0054C18.6656 20.0886 17.9387 19.972 17.2904 19.6699L13.5988 17.9489C13.0423 17.6896 12.4264 17.5663 11.8069 17.5902C11.1875 17.6141 10.5841 17.7845 10.0516 18.0859L6.00098 20.3788V20.6554C6.00089 21.226 6.11915 21.7909 6.34906 22.318C6.57896 22.8452 6.91598 23.3241 7.34087 23.7276C7.76576 24.131 8.27022 24.4511 8.82541 24.6694C9.38059 24.8878 9.97563 25.0002 10.5766 25.0002H21.4247C22.6381 24.9998 23.8017 24.5419 24.6595 23.7271C25.5173 22.9123 25.9991 21.8074 25.9989 20.6554V15.4688Z",fill:"#7A7A7A"})]})}function oI(){return(0,C.jsx)("div",{className:(0,er.Z)(om.closeButton,t6.l.isMobile&&om.alwaysShow),children:(0,C.jsx)(eP.J,{size:8,children:(0,C.jsxs)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.45.549a.777.777 0 0 1 0 1.098L1.648 7.451A.776.776 0 1 1 .55 6.353L6.353.55a.776.776 0 0 1 1.098 0z",fill:"#868686"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.55.548a.776.776 0 0 1 1.097 0l5.804 5.805A.777.777 0 0 1 6.353 7.45L.549 1.646a.777.777 0 0 1 0-1.098z",fill:"#868686"})]})})})}function oT(){return(0,C.jsx)("div",{className:(0,er.Z)(om.closeButton,om.failedCloseButton,t6.l.isMobile&&om.alwaysShow),children:(0,C.jsx)(eP.J,{size:9,children:(0,C.jsxs)("svg",{width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.95.549a.777.777 0 0 1 0 1.098L2.148 7.451A.776.776 0 1 1 1.05 6.353L6.853.55a.776.776 0 0 1 1.098 0z",fill:"#fff"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.05.548a.776.776 0 0 1 1.097 0l5.804 5.805A.777.777 0 0 1 6.853 7.45L1.049 1.646a.777.777 0 0 1 0-1.098z",fill:"#fff"})]})})})}let oM=(0,Y.memo)(function(e){let{messageId:t,sessionId:n,lastLineLeft:a}=e,r=(0,H.aK)(e=>e.getMessage(n,t));if(!r)return null;let o=r.files;return(null==o?void 0:o.length)?(0,C.jsx)(of,{readOnly:!0,fileList:o.map(e=>({...e,renderKey:e.id})),onFileDelete:()=>{},align:"right",style:{marginBottom:0,paddingLeft:48,maxHeight:"none",position:"relative",overflow:"visible"},lastLineLeft:a}):null});var oj=n(53193);let ok=e=>{let{sessionId:t,messageId:n,mode:a}=e,{resendMessage:r}=(0,H.RJ)(),o=t6.a.useTranslate(),s=(0,Y.useRef)(!1),i=(0,H.od)().hooks.useSessionChatStatus(t)===H.uT.idle,{thinkingEnabled:l,searchEnabled:d}=aw(),c=i?o("resendButtonTooltip"):o("generatingDisableTooltip");return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:c,domRef:u}=e;return(0,C.jsx)(eF.h,{domProps:c,domRef:u,className:(0,er.Z)(oj.resendButton,!i&&oj.disabled,"files"===a?oj.besideFiles:oj.besideContent),theme:{hoverColor:"transparent"},onClick:e=>{"click"===e.source&&e.evt.stopPropagation(),i&&!s.current&&r({sessionId:t,messageId:n,getPowRes:()=>aj({t:o,scene:"completion_like",setIsSolvingChallenge:e=>{s.current=e}}),thinkingEnabled:l,searchEnabled:d})},children:(0,C.jsx)(eP.J,{size:24,children:(0,C.jsx)(oA,{})})})},children:c})},oA=()=>(0,C.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M12 .5C18.351.5 23.5 5.649 23.5 12S18.351 23.5 12 23.5.5 18.351.5 12 5.649.5 12 .5zm-.225 4.8a.7.7 0 0 0-.528.224.703.703 0 0 0-.213.517.84.84 0 0 0 .056.304c.037.09.087.168.146.235l.809.831a.782.782 0 0 0-.147-.01 1.112 1.112 0 0 0-.157-.012 4.69 4.69 0 0 0-2.436.673 5.26 5.26 0 0 0-1.82 1.832c-.456.763-.685 1.617-.685 2.56 0 .966.232 1.845.696 2.639A5.33 5.33 0 0 0 9.36 16.99c.779.464 1.648.697 2.606.697.95 0 1.816-.233 2.595-.697a5.326 5.326 0 0 0 1.875-1.886 5.03 5.03 0 0 0 .696-2.606.716.716 0 0 0-.247-.55.754.754 0 0 0-.55-.236.78.78 0 0 0-.573.235.731.731 0 0 0-.236.551 3.46 3.46 0 0 1-.483 1.808c-.314.539-.741.97-1.28 1.292a3.44 3.44 0 0 1-1.797.482 3.44 3.44 0 0 1-1.797-.482 3.679 3.679 0 0 1-1.291-1.292 3.521 3.521 0 0 1-.472-1.808c0-.659.158-1.258.472-1.797a3.588 3.588 0 0 1 1.29-1.28 3.44 3.44 0 0 1 1.798-.484c.164 0 .3.008.404.023l-1.111 1.112a.722.722 0 0 0-.225.528c0 .21.07.386.213.528a.718.718 0 0 0 1.033-.012l2.246-2.246a.66.66 0 0 0 .203-.527.753.753 0 0 0-.203-.54l-2.223-2.268a.847.847 0 0 0-.247-.169.62.62 0 0 0-.28-.067z",fill:"#F59E0B"})});var oR=n(44428);let oN=e=>{let{messageContent:t,onStartEdit:n,sessionId:a,messageId:r,style:o}=e,s=t6.a.useTranslate(),i=(0,H.q_)(r),l=(0,H.XQ)(a,r).useIsLastUserMessage();return(0,C.jsxs)("div",{className:oR.actionsWithBranch,style:o,children:[(0,C.jsxs)(am,{alignItems:"flex-end",className:(0,er.Z)(oR.userMessageActions,l&&oR.alwaysShow),gap:0,children:[(0,C.jsx)(ax,{size:20,onClick:()=>{nG(t),t6.l.tracker.info({name:"copyUserMessage",message:"复制用户prompt",payload:{}})},children:s("copyCode")}),(0,C.jsx)(oO,{disabled:i,onStartEdit:i?void 0:n})]}),(0,C.jsx)(oL,{messageId:r,sessionId:a})]})},oL=e=>{let{sessionId:t,messageId:n}=e,a=(0,H.uF)(),r=(0,H.cm)(),o=(0,H.XQ)(t,n),s=o.useBranchCount(),i=o.useBranchIndex(),l=aA(e=>e.close);r_(i);let d=(0,Y.useCallback)(e=>{r.closePreview(),a.closeSearchView(),l(),H.aK.getState().navigateMessageBranch(t,n,e)},[l,n,r,a,t]);return s<=1?null:(0,C.jsx)(aV,{onIndexChange:d,count:s,index:i,style:oF})},oF={marginLeft:10,top:1,position:"relative"},oO=e=>{let{onStartEdit:t,disabled:n}=e,a=(0,nh.F)(),r=t6.a.useTranslate();return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:r,domRef:o}=e;return(0,C.jsx)(eF.h,{theme:{size:"20px",textColor:a?"#CDD4DF":"#909090"},style:{marginLeft:14,opacity:n?.45:1,cursor:n?"not-allowed":void 0},onClick:t,domRef:o,domProps:{...r,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}},children:(0,C.jsx)(eP.J,{size:20,children:(0,C.jsx)(oP,{})})})},children:r("editMessageTooltip")})};function oP(){return(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.712 2.79a1.854 1.854 0 0 1 2.623 0l1.673 1.672a1.854 1.854 0 0 1 0 2.623l-9.714 9.714a2.91 2.91 0 0 1-2.058.853H1.945a.8.8 0 0 1-.8-.8v-2.29c0-.773.307-1.513.853-2.058l9.714-9.715zm1.492 1.13c-.1-.1-.261-.1-.361 0l-1.327 1.326 2.035 2.035 1.327-1.326c.1-.1.1-.262 0-.362L13.204 3.92zm-.783 4.491l-2.035-2.034-7.258 7.257a1.31 1.31 0 0 0-.384.927v1.492h1.492c.348 0 .681-.138.927-.384l7.258-7.258z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.772 17.608c.35 0 .633-.283.633-.633v-.492a.633.633 0 0 0-.633-.633H9.858L8.1 17.608h9.672z",fill:"currentColor"})]})}let oD=(e,t,n)=>e||!t||n?e||t||!n?!e&&t&&n?oR.filesText:e&&t&&!n?oR.hintFiles:e&&!t&&n?oR.hintText:oR.hintFilesText:oR.text:oR.files,oB=(0,Y.memo)(function(e){let{messageId:t,sessionId:n}=e,a=(0,H.XQ)(n,t),r=a.useBranchCount(),o=a.useMessageContent()||"",s=a.useMessageHint(),i=(0,H.aK)(e=>{let a=e.getMessage(n,t);return!!a&&a.isEditing}),l=(0,Y.useRef)(null),d=(0,H.aK)(e=>e.updateMessage),c=0===o.trim().length,u=a.useFilesCount(),h=(0,Y.useRef)(()=>void 0);h.current=()=>{t6.l.tracker.info({name:"clickEditMessageButton",message:"用户点击消息编辑按钮",payload:{}})};let p=(0,Y.useCallback)(e=>{if(d(n,t,t=>{t.isEditing=e}),e)h.current();else{var a;null===(a=l.current)||void 0===a||a.setEditingPromptEmpty(c)}},[d,n,t,c]),g=(null==s?void 0:s.clickBehavior)===H.FT.CloseClickBehavior.retry,m=!(i||c),f=!i&&g&&c,v=e=>(0,C.jsx)(ok,{messageId:t,sessionId:n,mode:e}),x=(0,C.jsx)(oN,{messageId:t,sessionId:n,messageContent:o,onStartEdit:()=>p(!0)});return(0,C.jsxs)("div",{className:(0,er.Z)(oR.userMessageContainer,r>1&&oR.hasBranch,i&&oR.editing),children:[(0,C.jsx)(oM,{messageId:t,sessionId:n,lastLineLeft:f?v("files"):void 0}),i?(0,C.jsx)(oo,{messageId:t,sessionId:n,onCancelEdit:()=>p(!1),ref:l}):null,m?(0,C.jsxs)("div",{className:(0,er.Z)(oR.userMessage,u&&oR.belowFiles),children:[o,g?v("content"):null]}):null,i?null:(0,C.jsx)("div",{className:(0,er.Z)(oR.bottomWrap,oD(null==s?void 0:s.content,u,o)),children:s?(0,C.jsxs)("div",{className:oR.hintWithBranch,children:[s.content?(0,C.jsx)("span",{className:oR.hint,children:s.content}):null,x]}):x})]})});var oz=n(63989),oH=n(78802);let oU=()=>{let e=(0,et.TH)();return!!(0,nE.LX)(ns.CHARACTER_EXPLORE,e.pathname)},oV=()=>{let e=(0,et.TH)();return!!(0,nE.LX)(ns.CHARACTER_CREATE,e.pathname)},oW=()=>{let e=(0,et.TH)();return!!(0,nE.LX)(ns.CHARACTER_EDIT,e.pathname)},oG=()=>{let e=(0,et.TH)();return!!(0,nE.LX)(ns.CHARACTER_MINE,e.pathname)},oZ=()=>{var e,t;let n=(0,et.TH)(),a=(0,nE.LX)(ns.AGENT,n.pathname),r=(0,nE.LX)(ns.AGENT_SESSION,n.pathname),o=(null==a?void 0:null===(e=a.params)||void 0===e?void 0:e.agentId)||(null==r?void 0:null===(t=r.params)||void 0===t?void 0:t.agentId)||"";return(0,H.yV)(o)?{isCharacterChatPage:!0,agentId:o,isCharacterNewChat:!r}:{isCharacterChatPage:!1,isCharacterNewChat:!1,agentId:null}},oq=(0,Y.memo)(function(e){let{style:t}=e,n=t6.a.useTranslate(),a=na(),r=(0,et.bS)(ns.ROOT),{isCharacterChatPage:o,agentId:s,isCharacterNewChat:i}=oZ();return r||i?null:(0,C.jsxs)("div",{style:t,className:oH.newChatButton,onClick:()=>{t6.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"bottom",isCharacterChatPage:o?"true":"false",agentId:s||""}}),!r&&(o?a(ns.AGENT,{agentId:s}):a(ns.ROOT))},children:[(0,C.jsx)(oY,{size:18}),(0,C.jsx)("span",{children:n("agentSelectionCreateSessionTooltip")})]})});function oY(e){let{size:t}=e;return(0,C.jsxs)("svg",{width:t,height:t,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M5.856 17.121a.979.979 0 0 1-.327-.06.839.839 0 0 1-.283-.177.739.739 0 0 1-.187-.255.724.724 0 0 1-.07-.303l-.02-1.609a4.663 4.663 0 0 1-1.446-.455 4.252 4.252 0 0 1-.637-.401c-.199-.146-.385-.31-.553-.492a4.442 4.442 0 0 1-.45-.577 4.303 4.303 0 0 1-.327-.637 3.823 3.823 0 0 1-.206-.686 3.729 3.729 0 0 1-.064-.704V6.478c0-.261.025-.516.077-.771a4.43 4.43 0 0 1 .244-.747 4.062 4.062 0 0 1 .932-1.28c.2-.183.418-.347.65-.493.23-.145.482-.267.739-.364a4.21 4.21 0 0 1 .81-.225c.27-.054.553-.078.835-.078H8.55c.103 0 .2.018.29.054a.7.7 0 0 1 .411.376.667.667 0 0 1-.161.766.736.736 0 0 1-.25.151.764.764 0 0 1-.29.055H5.573c-.186 0-.366.012-.54.049-.18.03-.353.079-.52.145-.167.061-.328.14-.482.237-.148.091-.29.2-.418.316a2.897 2.897 0 0 0-.347.388c-.097.14-.187.286-.257.444a2.473 2.473 0 0 0-.206.977v4.287c0 .17.013.333.051.503a2.549 2.549 0 0 0 .772 1.33 2.721 2.721 0 0 0 .913.559c.167.066.347.115.527.152.18.03.36.048.546.048a.904.904 0 0 1 .61.23.848.848 0 0 1 .194.262.84.84 0 0 1 .07.303l.007.99 1.915-1.293a2.877 2.877 0 0 1 1.64-.492h2.372c.186 0 .366-.018.54-.048.18-.03.353-.08.52-.146.168-.067.329-.146.483-.237.148-.091.29-.2.418-.316.128-.121.244-.249.347-.388a2.8 2.8 0 0 0 .257-.444 2.47 2.47 0 0 0 .206-.977V8.585a.646.646 0 0 1 .225-.492.679.679 0 0 1 .244-.152.814.814 0 0 1 .585 0c.09.03.174.085.244.152a.657.657 0 0 1 .225.492V10.8c0 .261-.032.516-.083.771a4.192 4.192 0 0 1-.245.74c-.109.244-.244.468-.398.687a3.735 3.735 0 0 1-.534.6c-.2.183-.418.347-.65.493a4.134 4.134 0 0 1-.738.364 4.7 4.7 0 0 1-.81.225c-.27.054-.553.079-.836.079h-1.877c-.604 0-1.144.164-1.633.491l-2.54 1.713a.913.913 0 0 1-.514.157z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M15.866 4.125h-4.174c-.41 0-.741.313-.741.7 0 .387.332.7.741.7h4.174c.41 0 .742-.313.742-.7 0-.387-.332-.7-.742-.7z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M14.537 2.932c0-.396-.34-.717-.759-.717s-.758.32-.758.717v3.786c0 .396.34.717.758.717.42 0 .76-.321.76-.717V2.932z",fill:"currentColor"})]})}let oK=(0,Y.createContext)({historyMessageCache:null}),oQ=()=>{let e=(0,Y.useContext)(oK).historyMessageCache;if(!e)throw Error("historyMessageCache not provided");return e};var oX=n(45577);let oJ=e=>{let{content:t,onClick:n,className:a}=e;return(0,C.jsxs)("div",{className:(0,er.Z)(oX.recommendPrompt,a),onClick:n,children:[(0,C.jsx)("div",{className:oX.content,children:t}),(0,C.jsx)(eP.J,{size:8,className:oX.rightArrow,children:nc.eE})]})};var o$=n(42766);let o1=(0,Y.createContext)({getUploadFileController:()=>{throw Error("getUploadFileController is not implemented")}});o1.displayName="ChatInputUploadUiContext";let o0=()=>{let{getUploadFileController:e}=(0,Y.useContext)(o1);return e()},o2=(0,Y.memo)(function(e){let{fileBelongInfo:t,onFileDelete:n}=e,a=o0(),r=a.hooks.useFileList(t);return r.length?(0,C.jsx)(of,{fileList:r.map(e=>({...e.serverInfo||e.localInfo,renderKey:e.localInfo.id})),readOnly:!1,onFileDelete:e=>{let{id:t}=e;a.deleteFile(t),n()},style:{paddingBottom:14,paddingLeft:14,paddingRight:14},closeButtonOffset:5}):null}),o3=(0,Y.memo)(function(e){let{disabledByChatting:t,fileBelongInfo:n,onBeforeChooseFile:a}=e,r=t6.a.useTranslate(),o=(0,e9.pm)(),s=o0(),i=(0,Y.useRef)(null),l=(0,Y.useRef)(null),[d]=t6.l.storageHandles.searchEnabledStorageHandle.useState(),c=t||d,u=()=>{var e,t;a(),null===(e=i.current)||void 0===e||e.click(),null===(t=l.current)||void 0===t||t.setIsOpen(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(af.u,{componentRef:l,theme:{fontSize:"12px",lineHeight:"24px"},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,C.jsx)("div",{...t,onMouseLeave:()=>{var e,n;null===(e=l.current)||void 0===e||e.setIsOpen(!1),null===(n=t.onMouseLeave)||void 0===n||n.call(t)},ref:n,className:(0,er.Z)(o$.uploadLaunchButton,c&&o$.disabled),onClick:c?()=>{}:u,children:(0,C.jsx)(eP.J,{size:23,children:(0,C.jsx)(nc.hm,{})})})},children:d?r("searchNotSupportFiles"):(0,C.jsx)("span",{className:o$.uploadButtonTooltipText,children:r("uploadFileButtonTooltip")()})}),(0,C.jsx)("input",{type:"file",multiple:!0,disabled:c,ref:i,style:{display:"none"},onChange:e=>{let t=e.target.files,{validFiles:a,problem:i}=s.checkFilesCountOrSize(Array.from(t||[]),n);if(i){let e="exceedCount"===i?r("uploadMax50Files"):r("uploadMax100MBSize");o.error(e)}a.length&&Array.from(a).forEach(e=>{s.addFileAndUpload({file:e,fileBelongInfo:n,thinkingEnabled:t6.l.storageHandles.thinkingEnabledStorageHandle.get()})}),e.target.value=""},accept:H.dZ.getAcceptFileTypes()})]})}),o5=()=>{let{createSessionAndStartCompletion:e}=(0,H.RJ)(),t=na(),n=o0(),{tracker:a}=t6.l,r=t6.a.useTranslate();return async o=>{let{agentId:s,prompt:i,thinkingEnabled:l,searchEnabled:d,fileBelongInfo:c,isCreateNewChat:u,setIsSolvingChallenge:h,sessionId:p}=o;if(!s)return;let g=u&&p,m=e=>{g&&H.aK.getState().updateSession(p,t=>{t.state=e?H.HL.SessionStateEnum.sending:H.HL.SessionStateEnum.idle})};m(!0),e({agentId:s,prompt:i,thinkingEnabled:l,searchEnabled:d,getPowRes:()=>aj({t:r,setIsSolvingChallenge:h,scene:"completion_like"}),refFileIds:n.getRefFileIds(c)},{onSent:e=>{let{sessionId:r}=e;a.info({name:"createSessionAndStartCompletion",message:"创建会话并开始补全",payload:{agentId:s,newSessionId:r,isCreateNewChat:"".concat(u),thinkingEnabled:"".concat(l)}}),n.removeAgentFilesAfterCreateSession(s),g&&(n.removeSessionFilesAfterCreateSession(p),H.aK.getState().clearPrompt({sessionId:p})),m(!1),t(ns.AGENT_SESSION,{agentId:s,sessionId:r})},onUnsent:()=>{m(!1)}})}};var o4=n(42118);let o9=()=>{var e;let t=(0,H.dQ)(),n=na(),a=nn(ns.AGENT),r=(null==a?void 0:null===(e=a.params)||void 0===e?void 0:e.agentId)||"",{character:o}=t.hooks.useCharacterAuto(r);return(0,Y.useEffect)(()=>{r||n(ns.ROOT)},[r,n]),(0,C.jsx)("div",{className:o4.container,children:o?(0,C.jsx)(o6,{character:o}):(0,C.jsx)(tN.g,{})})},o6=e=>{let{character:t}=e,n=o5(),a=t.id,r={agentId:a,sessionId:null},{thinkingEnabled:o,searchEnabled:s}=aw();return(0,C.jsxs)("div",{className:o4.portrait,children:[(0,C.jsx)(rG,{size:46,avatar:t.avatar,className:o4.avatar}),(0,C.jsx)("div",{className:o4.name,children:t.name}),t.author.name?(0,C.jsx)("div",{className:o4.author,children:t.author.name}):null,t.description?(0,C.jsx)("div",{className:o4.description,children:t.description}):null,t.recommendedPrompts.length?(0,C.jsx)("div",{className:o4.recommendedPrompts,children:t.recommendedPrompts.map(e=>(0,C.jsx)(oJ,{content:e,onClick:()=>{n({agentId:a,prompt:e,thinkingEnabled:o,searchEnabled:s,fileBelongInfo:r,isCreateNewChat:!0,setIsSolvingChallenge:aC.Z})},className:o4.promptItem},e))}):null]})},o7=(0,Y.createContext)({setScrollEl:()=>{throw Error("useMessageListScroll called outside of MessageListScrollProvider")},getScrollEl:()=>null}),o8=(0,Y.memo)(function(e){let{children:t}=e,n=(0,Y.useRef)(null),a=(0,Y.useMemo)(()=>({setScrollEl:e=>{n.current=e},getScrollEl:()=>n.current}),[]);return(0,C.jsx)(o7.Provider,{value:a,children:t})}),se=e=>{let{setScrollEl:t}=(0,Y.useContext)(o7);(0,Y.useEffect)(()=>{t(e.current)},[e,t])},st=()=>{let e=(0,Y.useContext)(o7).getScrollEl();return(0,Y.useCallback)((t,n)=>{if(e){if(!e.contains(t))throw Error("el is not in scrollEl");!function(e,t,n){if(!t.contains(e))return;let a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.topOcclusion||0,r=n.bottomOcclusion||0,o=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=s.top+a,l=s.bottom-r,d=l-i,c=o.top-i,u=l-o.bottom,h=Math.max(o.top,i),p=Math.max(0,Math.min(o.bottom,l)-h),g=o.height;return{isFullyVisible:p===g,isOverflowing:g>d,isTopClipped:c<0,isBottomClipped:u<0,isPartiallyVisible:p>0,visibleHeight:p,visibleRatio:g>0?p/g:0,topDistance:c,bottomDistance:u,containerVisibleHeight:d,elementHeight:g}}(e,t,n);if(a.isFullyVisible)return;let r=t.scrollTop,o=r+a.topDistance,s=r-a.bottomDistance;if(a.elementHeight<=a.containerVisibleHeight){if(a.isPartiallyVisible&&!a.isTopClipped)return;if(a.isTopClipped&&a.isBottomClipped){let e=Math.abs(r-o),n=Math.abs(r-s);t.scrollTo({top:e<=n?o:s})}else a.isTopClipped?t.scrollTo({top:o}):a.isBottomClipped&&t.scrollTo({top:s})}else if(a.isTopClipped)t.scrollTo({top:o});else if(a.isBottomClipped&&a.isPartiallyVisible){let e=Math.min(r+Math.min(Math.abs(a.bottomDistance),100),o);e>o&&t.scrollTo({top:e})}}(t,e,n)}},[e])};var sn=n(49889);let sa=e=>{let{loadHistory:t}=e,n=t6.a.useTranslate();return(0,C.jsx)("div",{className:oz.error,children:(0,C.jsx)("div",{children:n("historyLoadFailed")({renderRetryButton:e=>(0,C.jsx)(e4.z,{variant:"text",onClick:t,children:e})})})})},sr=(0,Y.memo)(function(e){let{inputNode:t}=e,n=nn(ns.AGENT_SESSION),{isCharacterChatPage:a}=oZ(),r=null==n?void 0:n.params.sessionId,o=(0,H.aK)(e=>{let t=null==n?void 0:n.params.sessionId;if(!t)return!1;let a=e.getSession(t);return!a||a.state===H.HL.SessionStateEnum.idleWithNoHistory}),{fetchSessionHistory:s}=(0,H.af)(),i=(0,H.od)().hooks.useMessagePath(r),l=a&&!r,d=(0,H.aK)(e=>e.getMessage),c=oQ(),u=(0,Y.useCallback)(()=>{r&&s(r,{cache:c,isRetry:!0}).then(e=>{let{exist:t,gotSessionInfo:n}=e;if(t||n)return;let a=(0,nE.LX)(ns.AGENT_SESSION,t6.l.resolvePathRelativeToPublicPath(window.location.pathname));a&&a.params.sessionId===r&&on.A.next({method:"routerNavigate",args:{to:ns.ROOT}})})},[r,s,c]);(0,Y.useEffect)(()=>{o&&u()},[u,o]);let h=(0,H.aK)(e=>{if(!r)return"loaded";let t=e.getSession(r);return t&&t.state!==H.HL.SessionStateEnum.fetchingHistory&&t.state!==H.HL.SessionStateEnum.idleWithNoHistory?t.state===H.HL.SessionStateEnum.historyError?"error":"loaded":"loading"}),p=(0,Y.useMemo)(()=>(0,C.jsx)(C.Fragment,{children:i&&r?i.map((e,t)=>{let n=d(r,e);if(!n)return null;switch(n.role){case H.HL.MessageRole.ASSISTANT:return(0,C.jsx)(Y.Fragment,{children:(0,C.jsx)(oe,{sessionId:r,messageId:n.id,isLast:t===i.length-1})},n.id);case H.HL.MessageRole.USER:return(0,C.jsx)(oB,{messageId:n.id,sessionId:r},n.id);case H.HL.MessageRole.SYSTEM:return null}}):null}),[d,i,r]),g=(0,ec.mJ)("loading"===h,{showDelay:500,minDuration:200},r),m="loading"===h||g;return(0,C.jsxs)(so,{sessionLoading:m,inputNode:t,children:[l?(0,C.jsx)(o9,{}):null,m?g?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(tN.g,{className:oz.messageListLoading})}):null:"error"===h?(0,C.jsx)(sa,{loadHistory:u}):(0,C.jsx)("div",{className:oz.messageListScrollWrapper,children:p})]})});function so(e){let{sessionLoading:t,children:n,inputNode:a}=e,r=(0,Y.useRef)(null),o=rb();se(r);let s=(0,Y.useCallback)(()=>{if(!r.current)return;let e=r.current;e.scrollTop+e.offsetHeight>e.scrollHeight-300?o(!1):o(!0)},[o]);(0,Y.useLayoutEffect)(()=>()=>o(!1),[o]);let i=(0,Y.useCallback)(e=>{r.current&&(e.slice(),r.current.scrollTop=r.current.scrollHeight)},[]),l=(0,Y.useRef)(!0);(0,Y.useEffect)(()=>{let e=on.A.subscribe({next:e=>{let{method:t}=e;"clickButtonToScrollToBottom"===t&&i(t)}});return()=>e.unsubscribe()},[i]);let d=(0,Y.useCallback)(()=>{let e=r.current;e&&(l.current=e.scrollTop+e.offsetHeight>=e.scrollHeight-1,s())},[s]);rw(d);let c=nn(ns.AGENT_SESSION),u=null==c?void 0:c.params.sessionId,h=(0,Y.useRef)(!1),p=(0,H.aK)(e=>{if(!u)return -1;let t=e.getSession(u);return t?t.scrollToBottomTrigger:-1}),g=(0,H.aK)(e=>{if(!u)return -1;let t=e.getSession(u);return t?t.forceScrollToBottomTrigger:-1});return(0,Y.useEffect)(()=>{on.A.subscribe({next:e=>{let{method:t}=e;"onStartReceiveEditMessage"===t&&i("onStartReceiveEditMessage")}})},[i]),(0,Y.useLayoutEffect)(()=>{h.current=!0},[u]),rI(()=>{!h.current&&l.current&&i("scrollToBottomTrigger")}),(0,Y.useLayoutEffect)(()=>{rT()},[p]),(0,Y.useLayoutEffect)(()=>{!h.current&&i("forceScrollToBottomTrigger")},[g,i]),(0,Y.useLayoutEffect)(()=>{t||(i("sessionLoading"),d())},[t,i,d]),(0,Y.useLayoutEffect)(()=>{!t&&h.current&&(i("sessionId"),d())},[u]),(0,Y.useLayoutEffect)(()=>{h.current=!1},[u]),(0,C.jsx)(nj,{onResize:d,children:e=>{let{ref:o}=e;return(0,C.jsx)("div",{className:oz.messageListContainer,ref:o,children:(0,C.jsx)(nj,{onResize:s,forwardedRef:r,children:e=>{let{ref:r}=e;return(0,C.jsx)("div",{className:(0,er.Z)(oz.messageListScrollContainer,"scrollable"),ref:r,onScroll:d,children:(0,C.jsxs)("div",{className:oz.scrollContentWrapper,children:[n,!t&&(0,C.jsx)(ss,{}),a]})})}})})}})}let ss=()=>{let[e]=(0,Y.useState)((0,sn.EH)("show_new_chat_button_above_input",!0));return e?(0,C.jsx)("div",{className:oz.newChatButtonContainer,children:(0,C.jsx)(oq,{})}):null};function si(e){let{options:t=[],onSelect:n,componentRef:a,domProps:r,domRef:o,theme:s}=e,[i,l]=(0,Y.useState)(null),d=e=>{let a=t.filter(e=>"divider"!==e.type);if(null===i)l(a[0].key);else{let t=a.findIndex(e=>e.key===i);"ArrowDown"===e.key?l(a[(t+1)%a.length].key):"ArrowUp"===e.key?l(a[(t-1+a.length)%a.length].key):"Enter"===e.key&&(null==n||n(i,{option:a[t]}))}};return(0,Y.useImperativeHandle)(a,()=>({handleKeyboardEvent:d})),(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-dropdown-menu"),"".concat(J.F,"-elevated"),null==r?void 0:r.className),style:{...null==r?void 0:r.style,"--ds-dropdown-menu-font-size":null==s?void 0:s.fontSize,"--ds-dropdown-menu-color":null==s?void 0:s.color,"--ds-dropdown-menu-option-text-color":null==s?void 0:s.optionTextColor,"--ds-dropdown-menu-option-height":null==s?void 0:s.optionHeight,"--ds-dropdown-menu-option-color-hover":null==s?void 0:s.optionColorHover,"--ds-dropdown-menu-option-error-color-hover":null==s?void 0:s.optionErrorColorHover,"--ds-dropdown-menu-padding":null==s?void 0:s.padding,"--ds-dropdown-menu-option-padding":null==s?void 0:s.optionPadding,"--ds-dropdown-menu-option-line-height":null==s?void 0:s.optionLineHeight,"--ds-dropdown-menu-border-radius":null==s?void 0:s.borderRadius,"--ds-dropdown-menu-option-border-radius":null==s?void 0:s.optionBorderRadius,"--ds-dropdown-menu-option-icon-size":null==s?void 0:s.optionIconSize,"--ds-dropdown-menu-option-icon-color":null==s?void 0:s.optionIconColor,"--ds-dropdown-menu-option-icon-margin":null==s?void 0:s.optionIconMargin,"--ds-dropdown-menu-option-label-margin":null==s?void 0:s.optionLabelMargin},role:"menu",ref:o,...r,children:t.map(e=>{var t,a;return"divider"===e.type?(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-dropdown-menu-option"),"".concat(J.F,"-dropdown-menu-option-divider"))}):(0,Y.createElement)("div",{...e.domProps,style:{...null===(t=e.domProps)||void 0===t?void 0:t.style,...e.style},className:(0,er.Z)("".concat(J.F,"-dropdown-menu-option"),"".concat(J.F,"-dropdown-menu-option--").concat(e.type||"none"),i===e.key&&"".concat(J.F,"-dropdown-menu-option--pending"),e.className,null===(a=e.domProps)||void 0===a?void 0:a.className),onClick:t=>{var a,r;null===(r=e.domProps)||void 0===r||null===(a=r.onClick)||void 0===a||a.call(r,t),null==n||n(e.key,{option:e})},onMouseEnter:()=>{l(e.key)},key:e.key},e.icon?(0,C.jsx)("div",{className:"".concat(J.F,"-dropdown-menu-option__icon"),children:e.icon}):null,(0,C.jsx)("div",{className:"".concat(J.F,"-dropdown-menu-option__label"),children:e.label}))})})}n(47489);var sl=n(85617);function sd(e){let{renderTrigger:t,disabled:n,leaveDelay:a,enterDelay:r,wrapperStyle:o,onSelect:s,options:i,menuTheme:l,placement:d="bottom-start",trigger:c="hover",componentRef:u,dropdownMenuComponentRef:h,menuDomProps:p,menuDomRef:g}=e,m=(0,Y.useRef)(null),f=(e,t)=>{let n=null==s?void 0:s(e,t);if(!n||"close"===n.action){var a;null===(a=m.current)||void 0===a||a.setIsOpen(!1)}};return(0,Y.useImperativeHandle)(u,()=>({setIsOpen(e){var t;null===(t=m.current)||void 0===t||t.setIsOpen(e)},getIsOpen(){var e,t;return null!==(t=null===(e=m.current)||void 0===e?void 0:e.getIsOpen())&&void 0!==t&&t}})),(0,C.jsx)(sl.f,{disabled:n,leaveDelay:a,enterDelay:r,wrapperStyle:o,renderTrigger:t,renderFloating:e=>{let{nodeRef:t,onMouseDown:n,onMouseEnter:a,onMouseLeave:r}=e;return(0,C.jsx)(si,{componentRef:h,theme:l,onSelect:f,options:i,domRef:(0,os.l)(g,t),domProps:{...p,onMouseDown:e=>{var t;null==p||null===(t=p.onMouseDown)||void 0===t||t.call(p,e),n(e)},onMouseEnter:e=>{var t;null==p||null===(t=p.onMouseEnter)||void 0===t||t.call(p,e),a(e)},onMouseLeave:e=>{var t;null==p||null===(t=p.onMouseLeave)||void 0===t||t.call(p,e),r(e)}}})},placement:d,trigger:c,componentRef:m})}var sc=n(35515);let su=e=>(0,H.aK)((0,sc.N)(t=>{if(!e)return null;let n=t.getSession(e);return{title:(null==n?void 0:n.title)||"",titleType:(null==n?void 0:n.titleType)||"WIP"}})),sh=(0,Y.memo)(function(e){let{sessionId:t}=e,n=t6.a.useTranslate(),a=su(t),r=(0,Y.useRef)(a||{}),o=(0,Y.useRef)(t),s=t!==o.current,[i,l]=(0,Y.useState)(null==a?void 0:a.title),d=n("untitledChat");return(0,Y.useEffect)(()=>{var e,n;if(o.current!==t)return o.current=t,r.current.title=null==a?void 0:a.title,r.current.titleType=null==a?void 0:a.titleType,l(null==a?void 0:a.title),ab.Z;if((null===(e=r.current)||void 0===e?void 0:e.titleType)===(null==a?void 0:a.titleType)||(null===(n=r.current)||void 0===n?void 0:n.title)===(null==a?void 0:a.title)||(null==a?void 0:a.titleType)==="USER")return l(null==a?void 0:a.title),ab.Z;let{play:s,abort:i}=sp(e=>{let t=(null==a?void 0:a.title)||"";l(t.slice(0,Math.ceil(t.length*e)))},400);return r.current.title=null==a?void 0:a.title,r.current.titleType=null==a?void 0:a.titleType,s(),i},[null==a?void 0:a.title,null==a?void 0:a.titleType,t]),(0,C.jsx)(C.Fragment,{children:(s?null==a?void 0:a.title:i)||d})}),sp=(e,t)=>{let n=performance.now(),a=!1,r=null,o=()=>{if(a)return;let s=Math.min((performance.now()-n)/t,1);e(s),s<1&&(r=requestAnimationFrame(o))};return{play:o,abort:()=>{a=!0,null!==r&&cancelAnimationFrame(r)}}},sg=e=>{let{sessionId:t,deleteSession:n}=e,a=eC();return(0,Y.useCallback)(()=>{t6.l.tracker.info({name:"openDeleteSessionModal",message:"打开删除session modal",payload:{}});let e=a.open({modalProps:{children:(0,C.jsx)(sm,{sessionId:t,deleteSession:n,onClose:()=>{t6.l.tracker.info({name:"closeDeleteSessionModal",message:"关闭删除session modal",payload:{}}),e.close()}})}})},[n,a,t])};function sm(e){let{sessionId:t,onClose:n,deleteSession:a}=e,r=t6.a.useTranslate(),o=(0,nh.F)(),[s,i]=(0,Y.useState)(!1);return(0,C.jsx)(eg,{onClose:n,title:r("deleteSessionModalContentTitle"),variant:"dialog",theme:{color:o?"#3A3A46":void 0,textColor:o?"#F8FAFF":void 0},footer:(0,C.jsxs)(am,{justifyContent:"flex-end",children:[(0,C.jsx)(e4.z,{type:"secondary",domProps:{"data-autofocus":!0},onClick:n,theme:{textColor:o?"#F8FAFF":void 0,color:o?"#555562":void 0},children:r("deleteSessionModalContentCancelButton")}),(0,C.jsx)(e4.z,{type:"error",loading:s,theme:{hoverColor:o?"#8B3F45":void 0,color:o?"#D44344":void 0},onClick:()=>{i(!0),a(t),n(),i(!1)},children:r("deleteSessionModalContentConfirmButton")})]}),children:r("deleteSessionModalContentDescription")})}var sf=n(7157);let sC=(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0",clipRule:"evenodd"})}),sv=(0,Y.memo)(function(e){let{id:t,title:n,isActive:a,agentId:r,onDeleteSession:o,onRenameSession:s,onSelectSession:i}=e,l=t6.a.useTranslate(),d=(0,e9.pm)(),c=(0,nh.F)(),u=na(),h=(0,H.yV)(r),p=sg({sessionId:t,deleteSession:o}),g=(0,H.dQ)(),m=h?g.getCharacter(r):null,f=(0,Y.useRef)(null),v=(0,Y.useRef)(null),x=(0,Y.useRef)(null),E=(0,Y.useRef)(null),[y,b]=(0,Y.useState)(!1);(0,Y.useEffect)(()=>{if(y){var e;null==x||null===(e=x.current)||void 0===e||e.focus()}},[y]);let _=()=>{var e,n;(null===(e=x.current)||void 0===e?void 0:e.value)?s(t,null===(n=x.current)||void 0===n?void 0:n.value).then(e=>{let{success:t}=e;b(!1),t||d.error(l("renameFailed"))}):b(!1)};return y?(0,C.jsx)(eO,{theme:{height:"40px",padding:"0 10px",color:"#fff",borderRadius:"12px"},variant:"bordered",onBlur:()=>_(),defaultValue:n||l("untitledChat"),onKeyDown:e=>{var t;(null===(t=E.current)||void 0===t||!t.isComposingRef.current)&&"Enter"===e.key&&_()},componentRef:E,inputDomRef:x}):(0,C.jsx)(sd,{placement:"bottom-start",trigger:"click",componentRef:f,dropdownMenuComponentRef:v,menuDomProps:{onMouseDown(e){e.preventDefault()}},onSelect:e=>{"rename"===e&&b(!0),"delete"===e&&p()},options:[{icon:(0,C.jsx)(eP.J,{size:24,style:{color:c?"#CDD4DF":void 0},children:sx}),label:l("sessionItemMenuRenameOption"),key:"rename"},{icon:(0,C.jsx)(eP.J,{size:24,children:sE}),label:l("sessionItemMenuDeleteOption"),key:"delete",type:"error"}],menuTheme:{fontSize:"var(--ds-font-size-m)",padding:"4px",optionIconMargin:"0 10px 0 0",optionLineHeight:"var(--ds-line-height-m)",optionIconSize:"20px",optionPadding:"8px 16px 8px 8px",optionBorderRadius:"12px",borderRadius:"12px",color:c?"#3A3A46":void 0,optionColorHover:c?"#555562":void 0,optionErrorColorHover:c?"rgba(255, 99, 99, 0.25)":void 0},wrapperStyle:{padding:"6px"},renderTrigger:e=>{let{domRef:o,domProps:s}=e;return(0,C.jsxs)("div",{className:(0,er.Z)(sf.menuItem,a&&sf.active),onClick:e=>{var n;(null===(n=o.current)||void 0===n||!n.contains(e.target))&&(i(t),u(ns.AGENT_SESSION,{agentId:r,sessionId:t}))},tabIndex:0,children:[(0,C.jsx)(af.u,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:n,domRef:a,ellipsisDomRef:r}=e;return(0,C.jsxs)("div",{...n,ref:(0,os.l)(a,r),className:sf.content,children:[m?(0,C.jsx)(rG,{size:24,avatar:m.avatar,className:sf.avatar}):null,(0,C.jsx)(sh,{sessionId:t})]})},children:n}),(0,C.jsx)("div",{className:sf.actionButton,ref:o,...s,onFocus:()=>{var e;null===(e=s.onFocus)||void 0===e||e.call(s)},onBlur:()=>{var e,t;null===(e=s.onBlur)||void 0===e||e.call(s),null===(t=f.current)||void 0===t||t.setIsOpen(!1)},onKeyDown:e=>{var t,n,a;(null===(t=f.current)||void 0===t?void 0:t.getIsOpen())?null===(n=v.current)||void 0===n||n.handleKeyboardEvent(e):("ArrowDown"===e.key||"Enter"===e.key)&&(null===(a=f.current)||void 0===a||a.setIsOpen(!0))},tabIndex:0,children:(0,C.jsx)(eP.J,{size:16,children:sC})}),(0,C.jsx)("div",{className:sf.smallMask}),(0,C.jsx)("div",{className:sf.largeMask})]})}})}),sx=(0,C.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M20.2286 18.25H3.77142C3.34538 18.25 3 18.5954 3 19.0214C3 19.4475 3.34538 19.7928 3.77142 19.7928H20.2286C20.6546 19.7928 21 19.4475 21 19.0214C21 18.5954 20.6546 18.25 20.2286 18.25Z",fill:"currentColor"}),(0,C.jsx)("mask",{id:"mask0_1954_727",maskUnits:"userSpaceOnUse",x:"3",y:"2",width:"15",height:"15",children:(0,C.jsx)("path",{d:"M17.1429 2H3V16.1428H17.1429V2Z",fill:"white"})}),(0,C.jsx)("g",{mask:"url(#mask0_1954_727)",children:(0,C.jsx)("path",{d:"M4.48999 16.14C4.36999 16.14 4.26002 16.12 4.15002 16.1C4.04002 16.07 3.94003 16.03 3.84003 15.98C3.73003 15.93 3.63999 15.88 3.54999 15.8C3.45999 15.73 3.39001 15.65 3.32001 15.56C3.25001 15.48 3.19001 15.38 3.14001 15.28C3.09001 15.18 3.05003 15.07 3.03003 14.96C3.01003 14.85 3 14.74 3 14.62C3 14.51 3.00998 14.4 3.03998 14.29L3.75 11.33C3.9 10.71 4.20001 10.18 4.64001 9.73L11.4 2.98C11.55 2.82 11.72 2.68 11.91 2.56C12.09 2.44 12.28 2.34 12.49 2.25C12.69 2.17 12.9 2.1 13.12 2.06C13.33 2.02 13.55 2 13.77 2C14 2 14.21 2.02 14.43 2.06C14.65 2.1 14.86 2.17 15.06 2.25C15.27 2.34 15.46 2.44 15.64 2.56C15.83 2.68 16 2.82 16.15 2.98C16.31 3.14 16.45 3.31001 16.57 3.49001C16.69 3.67001 16.79 3.87001 16.88 4.07001C16.96 4.27001 17.03 4.49 17.07 4.7C17.11 4.92 17.13 5.14 17.13 5.36C17.13 5.58 17.11 5.79999 17.07 6.00999C17.03 6.22999 16.96 6.44 16.88 6.64C16.79 6.85 16.69 7.04 16.57 7.22C16.45 7.41 16.31 7.58 16.15 7.73L9.40002 14.49C8.95002 14.94 8.42 15.23 7.81 15.38L4.84003 16.09C4.73003 16.12 4.60999 16.14 4.48999 16.14ZM13.67 3.63C13.22 3.66 12.84 3.84 12.52 4.16L5.78998 10.89C5.55998 11.12 5.41002 11.39 5.33002 11.71L4.66998 14.46L7.42999 13.8C7.73999 13.72 8.02 13.57 8.25 13.34L15 6.58C15.08 6.5 15.15 6.42001 15.22 6.32001C15.28 6.23001 15.33 6.13 15.38 6.02C15.42 5.92 15.45 5.81 15.47 5.7C15.5 5.58 15.51 5.47 15.51 5.36C15.51 5.24 15.5 5.13 15.47 5.02C15.45 4.91 15.42 4.8 15.38 4.69C15.33 4.59 15.28 4.49 15.22 4.39C15.15 4.3 15.08 4.21 15 4.13C14.82 3.96 14.62 3.82001 14.39 3.74001C14.16 3.65001 13.91 3.61 13.67 3.63Z",fill:"currentColor"})})]}),sE=(0,C.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.3948 8.24785C5.89262 8.21027 6.32593 8.58498 6.36058 9.083L6.91194 17.0084V17.0423C6.91194 18.562 8.1119 19.8099 9.60009 19.8099H14.4119C15.905 19.8099 17.1001 18.563 17.1001 17.0423V17.009L17.6407 9.08428C17.6747 8.58626 18.1074 8.21098 18.6053 8.24783C19.099 8.28438 19.4706 8.71284 19.4369 9.20682L18.9 17.0774C18.8817 19.6322 16.8736 21.6849 14.4119 21.6849H9.60009C7.14544 21.6849 5.13073 19.6335 5.11207 17.0781L4.56455 9.20795C4.53019 8.71406 4.90112 8.28511 5.3948 8.24785Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.75C21 6.26777 20.5803 6.6875 20.0625 6.6875H3.9375C3.41973 6.6875 3 6.26777 3 5.75C3 5.23223 3.41973 4.8125 3.9375 4.8125H20.0625C20.5803 4.8125 21 5.23223 21 5.75Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2 10.75C10.6971 10.75 11.1 11.1529 11.1 11.65L11.1 16.1C11.1 16.5971 10.6971 17 10.2 17C9.70299 17 9.30005 16.5971 9.30005 16.1L9.30005 11.65C9.30005 11.1529 9.70299 10.75 10.2 10.75Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7999 10.75C14.297 10.75 14.6999 11.1529 14.6999 11.65L14.6999 16.1C14.6999 16.5971 14.297 17 13.7999 17C13.3028 17 12.8999 16.5971 12.8999 16.1L12.8999 11.65C12.8999 11.1529 13.3028 10.75 13.7999 10.75Z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.37093 2.87988C9.53733 2.5331 9.88788 2.3125 10.2725 2.3125H13.7269C14.1114 2.3125 14.462 2.53305 14.6284 2.87977L15.8048 5.33074L14.1949 6.16926L13.2436 4.1875H10.7558L9.80489 6.16916L8.19482 5.33084L9.37093 2.87988Z",fill:"currentColor"})]});var sy=n(8225);let sb=e=>{let{showLoading:t}=e,n=(0,Y.useRef)(null);return(0,C.jsx)(es.Z,{in:t,timeout:150,classNames:{enterActive:sy.show,enterDone:sy.show},unmountOnExit:!0,nodeRef:n,children:(0,C.jsx)("div",{ref:n,className:(0,er.Z)(sy.skeletonWrap),children:Array.from({length:4}).map((e,t)=>(0,C.jsx)("div",{className:sy.skeletonContainer,children:(0,C.jsx)(tc.O,{variant:"text",className:sy.skeleton})},t))})})};function s_(e){let{onSelectSession:t}=e,n=t6.a.useTranslate(),a=(0,H.aK)(e=>e.sessionsState),r=(0,H.aK)(e=>e.getSession),o=(0,H.RJ)().deleteSession,s=(0,H.aK)(e=>e.renameSession),i=na(),l=nn(ns.AGENT_SESSION),d=(null==l?void 0:l.params.sessionId)||null,c=(0,H.aK)(e=>e.noMoreSessions),u=(0,H.aK)(e=>e.firstPageSettled),h=!u,p=(0,ec.mJ)(h,{showDelay:800,minDuration:500}),g=(0,H.Ax)(),m=(0,ec.$0)(e=>{o(e),d===e&&i(ns.ROOT)}),f=(0,ec.$0)(e=>{let n=r(e);return n?(0,C.jsx)(sw,{isActive:d===n.id,sessionId:e,onDeleteSession:m,onRenameSession:s,onSelectSession:t},e):null}),v=(0,H.aK)(e=>e.fetchSessions),x=(0,ec.$z)(e=>{e&&!c&&v()}),E=c&&g.isEmpty;return(0,C.jsxs)("div",{className:(0,er.Z)(sy.menuContainer,E&&sy.empty,"scrollable"),children:[(0,C.jsx)(sb,{showLoading:p}),(0,C.jsxs)("div",{className:(0,er.Z)(sy.sessionList,!h&&!p&&sy.show),children:[0===g.todaySessions.length?null:(0,C.jsxs)("div",{className:sy.section,children:[(0,C.jsx)("div",{className:sy.sectionHeader,children:n("sessionHistoryTimelineLabelToday")},"header"),g.todaySessions.map(f),(0,C.jsx)("div",{className:sy.sectionTrailingPadding},"padding")]}),0===g.yesterdaySessions.length?null:(0,C.jsxs)("div",{className:sy.section,children:[(0,C.jsx)("div",{className:sy.sectionHeader,children:n("sessionHistoryTimelineLabelYesterday")},"header"),g.yesterdaySessions.map(f),(0,C.jsx)("div",{className:sy.sectionTrailingPadding},"padding")]}),0===g.days7Sessions.length?null:(0,C.jsxs)("div",{className:sy.section,children:[(0,C.jsx)("div",{className:sy.sectionHeader,children:n("sessionHistoryTimelineLabel7days")},"header"),g.days7Sessions.map(f),(0,C.jsx)("div",{className:sy.sectionTrailingPadding},"padding")]}),0===g.days30Sessions.length?null:(0,C.jsxs)("div",{className:sy.section,children:[(0,C.jsx)("div",{className:sy.sectionHeader,children:n("sessionHistoryTimelineLabel30days")},"header"),g.days30Sessions.map(f),(0,C.jsx)("div",{className:sy.sectionTrailingPadding},"padding")]}),g.previousSessions.map(e=>(0,C.jsxs)("div",{className:sy.section,children:[(0,C.jsx)("div",{className:sy.sectionHeader,children:e.month},"header"),e.sessions.map(f),(0,C.jsx)("div",{className:sy.sectionTrailingPadding},"padding")]},e.month))]}),E?(0,C.jsx)("div",{className:sy.empty,children:n("historyIsEmpty")}):null,!c&&"error"!==a&&(0,C.jsx)("div",{ref:x,className:sy.loadmoreSentinel}),"error"===a&&(0,C.jsx)("div",{className:(0,er.Z)(sy.error,g.isEmpty&&sy.errorEmpty),children:(0,C.jsx)("div",{children:n("historyLoadFailed")({renderRetryButton:e=>(0,C.jsx)(e4.z,{variant:"text",onClick:v,children:e})})})}),u&&"loading"===a&&(0,C.jsx)(tN.g,{className:sy.sessionLoading})]})}let sw=(0,Y.memo)(function(e){let{sessionId:t,isActive:n,onDeleteSession:a,onRenameSession:r,onSelectSession:o}=e,s=(0,H.aK)(e=>{let n=e.getSession(t);return n?n.agentId:null}),i=(0,H.aK)(e=>{let n=e.getSession(t);return n?n.title:""});return null===s||null===t?null:(0,C.jsx)(sv,{id:t,title:i,agentId:s,isActive:n,onDeleteSession:a,onRenameSession:r,onSelectSession:o})});var sS=n(22373);function sI(e){let{className:t,collapsed:n,onCollapsedChange:a,size:r}=e,o=t6.a.useTranslate(),s=(0,nh.F)();return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:o,domRef:i}=e;return(0,C.jsx)(eF.h,{domProps:o,domRef:i,theme:{size:r,textColor:s?"#ABB2BD":void 0},className:t,onClick:()=>a(!n),children:n?(0,C.jsx)(sM,{}):(0,C.jsx)(sT,{})})},children:o(n?"expandSiderbarButton":"collapseSiderbarButton")})}function sT(){return(0,C.jsxs)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1382_20239",children:(0,C.jsx)("rect",{id:"折叠边栏0730",width:"30.000000",height:"30.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsx)("rect",{id:"折叠边栏0730",width:"30.000000",height:"30.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,C.jsxs)("g",{clipPath:"url(#clip1382_20239)",children:[(0,C.jsx)("rect",{id:"rect",x:"17.420410",y:"12.316406",rx:"1.000947",width:"5.995172",height:"2.001895",transform:"rotate(137.159 17.420410 12.316406)",fill:"currentColor",fillOpacity:"1.000000"}),(0,C.jsx)("rect",{id:"rect",x:"12.959473",y:"13.728516",rx:"0.995190",width:"6.002943",height:"1.990380",transform:"rotate(40.853 12.959473 13.728516)",fill:"currentColor",fillOpacity:"1.000000"}),(0,C.jsx)("path",{id:"path",d:"M20.1 25.5L9.9 25.51C9.48 25.51 9.06 25.47 8.65 25.39C8.24 25.3 7.84 25.18 7.45 25.02C7.06 24.86 6.69 24.66 6.34 24.43C5.99 24.19 5.67 23.92 5.37 23.63C5.07 23.33 4.81 23 4.58 22.65C4.34 22.3 4.15 21.93 3.98 21.54C3.82 21.15 3.7 20.75 3.62 20.34C3.54 19.93 3.5 19.51 3.5 19.09L3.5 10.93C3.5 10.51 3.54 10.1 3.62 9.68C3.7 9.27 3.82 8.87 3.98 8.48C4.15 8.09 4.34 7.72 4.58 7.37C4.81 7.02 5.07 6.69 5.37 6.39C5.67 6.1 5.99 5.83 6.34 5.6C6.69 5.36 7.06 5.16 7.45 5C7.84 4.84 8.24 4.72 8.65 4.64C9.06 4.55 9.48 4.51 9.9 4.51L20.1 4.5C20.52 4.5 20.94 4.54 21.35 4.62C21.76 4.7 22.16 4.83 22.55 4.99C22.94 5.15 23.31 5.35 23.66 5.58C24 5.82 24.33 6.08 24.62 6.38C24.92 6.68 25.19 7 25.42 7.35C25.65 7.7 25.85 8.07 26.01 8.46C26.17 8.85 26.3 9.25 26.38 9.67C26.46 10.08 26.5 10.5 26.5 10.92L26.5 19.07C26.5 19.5 26.46 19.91 26.38 20.32C26.3 20.74 26.17 21.14 26.01 21.53C25.85 21.92 25.65 22.29 25.42 22.64C25.19 22.99 24.92 23.31 24.62 23.61C24.33 23.91 24 24.17 23.66 24.41C23.31 24.64 22.94 24.84 22.55 25C22.16 25.16 21.76 25.29 21.35 25.37C20.94 25.45 20.52 25.5 20.1 25.5ZM9.9 6.6C9.61 6.6 9.33 6.63 9.05 6.69C8.78 6.74 8.51 6.82 8.24 6.93C7.98 7.04 7.73 7.18 7.5 7.33C7.26 7.49 7.04 7.67 6.84 7.87C6.64 8.07 6.46 8.29 6.31 8.53C6.15 8.77 6.02 9.01 5.91 9.28C5.8 9.54 5.72 9.81 5.66 10.09C5.61 10.37 5.58 10.65 5.58 10.93L5.58 19.09C5.58 19.37 5.61 19.65 5.66 19.93C5.72 20.21 5.8 20.48 5.91 20.74C6.02 21.01 6.15 21.26 6.31 21.49C6.46 21.73 6.64 21.95 6.84 22.15C7.04 22.35 7.26 22.53 7.5 22.69C7.73 22.85 7.98 22.98 8.24 23.09C8.51 23.2 8.78 23.28 9.05 23.33C9.33 23.39 9.61 23.42 9.9 23.42L20.1 23.41C20.38 23.41 20.67 23.37 20.94 23.32C21.22 23.26 21.49 23.18 21.75 23.07C22.01 22.96 22.26 22.83 22.5 22.67C22.73 22.51 22.95 22.33 23.15 22.13C23.35 21.93 23.53 21.71 23.69 21.48C23.85 21.24 23.98 20.99 24.09 20.73C24.2 20.47 24.28 20.2 24.33 19.92C24.39 19.64 24.42 19.36 24.42 19.07L24.42 10.92C24.42 10.64 24.39 10.35 24.33 10.07C24.28 9.79 24.2 9.52 24.09 9.26C23.98 9 23.85 8.75 23.69 8.51C23.53 8.28 23.35 8.06 23.15 7.86C22.95 7.66 22.73 7.48 22.5 7.32C22.26 7.16 22.01 7.03 21.75 6.92C21.49 6.81 21.22 6.73 20.94 6.67C20.67 6.62 20.38 6.59 20.1 6.59L9.9 6.6Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"rect",d:"M8.5 5.51L10.54 5.51L10.6 24.43L8.55 24.43L8.5 5.51Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"evenodd"})]})]})}function sM(){return(0,C.jsxs)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1381_20236",children:(0,C.jsx)("rect",{id:"打开边栏0730",width:"30.000000",height:"30.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsx)("rect",{id:"打开边栏0730",width:"30.000000",height:"30.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,C.jsxs)("g",{clipPath:"url(#clip1381_20236)",children:[(0,C.jsx)("rect",{id:"rect",x:"11.572754",y:"17.683594",rx:"1.000947",width:"5.995172",height:"2.001895",transform:"rotate(-42.841 11.572754 17.683594)",fill:"currentColor",fillOpacity:"1.000000"}),(0,C.jsx)("rect",{id:"rect",x:"16.033691",y:"16.271484",rx:"0.995190",width:"6.002943",height:"1.990380",transform:"rotate(-139.147 16.033691 16.271484)",fill:"currentColor",fillOpacity:"1.000000"}),(0,C.jsx)("path",{id:"path",d:"M20.09 25.48L9.89 25.5C9.47 25.5 9.05 25.45 8.64 25.37C8.23 25.29 7.83 25.17 7.44 25C7.05 24.84 6.68 24.64 6.33 24.41C5.98 24.18 5.66 23.91 5.36 23.61C5.07 23.31 4.8 22.99 4.57 22.64C4.34 22.29 4.14 21.92 3.98 21.53C3.82 21.14 3.69 20.74 3.61 20.32C3.53 19.91 3.49 19.49 3.49 19.07L3.49 10.92C3.49 10.5 3.53 10.08 3.61 9.67C3.69 9.25 3.82 8.85 3.98 8.46C4.14 8.07 4.34 7.7 4.57 7.35C4.8 7 5.07 6.68 5.36 6.38C5.66 6.08 5.98 5.81 6.33 5.58C6.68 5.35 7.05 5.15 7.44 4.99C7.83 4.82 8.23 4.7 8.64 4.62C9.05 4.54 9.47 4.5 9.89 4.5L20.09 4.48C20.51 4.48 20.93 4.52 21.34 4.6C21.75 4.69 22.15 4.81 22.54 4.97C22.93 5.13 23.3 5.33 23.65 5.57C24 5.8 24.32 6.06 24.62 6.36C24.92 6.66 25.18 6.98 25.41 7.33C25.65 7.69 25.84 8.06 26.01 8.45C26.17 8.84 26.29 9.24 26.37 9.65C26.45 10.06 26.49 10.48 26.5 10.91L26.5 19.06C26.49 19.48 26.45 19.89 26.37 20.31C26.29 20.72 26.17 21.12 26.01 21.51C25.84 21.9 25.65 22.27 25.41 22.62C25.18 22.97 24.92 23.3 24.62 23.6C24.32 23.89 24 24.16 23.65 24.39C23.3 24.63 22.93 24.83 22.54 24.99C22.15 25.15 21.75 25.27 21.34 25.35C20.93 25.44 20.51 25.48 20.09 25.48ZM9.89 6.59C9.61 6.59 9.32 6.62 9.05 6.67C8.77 6.73 8.5 6.81 8.24 6.92C7.98 7.03 7.73 7.16 7.49 7.32C7.26 7.48 7.04 7.66 6.84 7.86C6.64 8.06 6.46 8.28 6.3 8.51C6.14 8.75 6.01 9 5.9 9.26C5.79 9.52 5.71 9.8 5.66 10.07C5.6 10.35 5.57 10.63 5.57 10.92L5.57 19.07C5.57 19.36 5.6 19.64 5.66 19.92C5.71 20.19 5.79 20.47 5.9 20.73C6.01 20.99 6.14 21.24 6.3 21.48C6.46 21.71 6.64 21.93 6.84 22.13C7.04 22.33 7.26 22.51 7.49 22.67C7.73 22.83 7.98 22.96 8.24 23.07C8.5 23.18 8.77 23.26 9.05 23.32C9.32 23.37 9.61 23.4 9.89 23.4L20.09 23.39C20.38 23.39 20.66 23.36 20.94 23.3C21.21 23.25 21.48 23.17 21.75 23.06C22.01 22.95 22.26 22.81 22.49 22.66C22.73 22.5 22.95 22.32 23.15 22.12C23.35 21.91 23.52 21.7 23.68 21.46C23.84 21.22 23.97 20.98 24.08 20.71C24.19 20.45 24.27 20.18 24.33 19.9C24.38 19.62 24.41 19.34 24.41 19.06L24.41 10.91C24.41 10.62 24.38 10.34 24.33 10.06C24.27 9.78 24.19 9.51 24.08 9.25C23.97 8.98 23.84 8.74 23.68 8.5C23.52 8.26 23.35 8.04 23.15 7.84C22.95 7.64 22.73 7.46 22.49 7.3C22.26 7.15 22.01 7.01 21.75 6.9C21.48 6.79 21.21 6.71 20.94 6.66C20.66 6.6 20.38 6.57 20.09 6.57L9.89 6.59Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"rect",d:"M8.49 5.5L10.53 5.5L10.59 24.41L8.54 24.41L8.49 5.5Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"evenodd"})]})]})}var sj=n(5163);function sk(e){let{collapsed:t,onCollapsedChange:n}=e,a=na();return(0,C.jsxs)("div",{className:sS.topMenuContainer,children:[(0,C.jsx)("div",{className:sj.mobileLeftIconPlaceholder}),(0,C.jsx)("div",{className:sj.deepseekIconContainer,onClick:()=>{a(ns.ROOT)},children:(0,C.jsx)(nc.vi,{})}),t?null:(0,C.jsx)(sI,{className:sj.collapsedDrawerButton,size:"28px",collapsed:!1,onCollapsedChange:n}),(0,C.jsx)(eP.J,{size:24,className:sj.mobileCollapsedDrawerButton,domProps:{onClick:()=>{n(!0)}},children:(0,C.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M4.27777 24.2888L23.7222 24.2888C24.4279 24.2888 25 23.7167 25 23.0111C25 22.3054 24.4279 21.7333 23.7222 21.7333L4.27777 21.7333C3.57208 21.7333 3 22.3054 3 23.0111C3 23.7167 3.57208 24.2888 4.27777 24.2888Z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M13.2407 15.4001L23.7222 15.4001C24.4279 15.4001 25 14.8281 25 14.1224C25 13.4167 24.4279 12.8446 23.7222 12.8446L13.2407 12.8446C12.535 12.8446 11.963 13.4167 11.963 14.1224C11.963 14.8281 12.535 15.4001 13.2407 15.4001Z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M4.27777 6.55542L23.7222 6.55542C24.4279 6.55542 25 5.98334 25 5.27765C25 4.57197 24.4279 3.99989 23.7222 3.99989L4.27777 3.99989C3.57208 3.99989 3 4.57197 3 5.27765C3 5.98334 3.57208 6.55542 4.27777 6.55542Z",fill:"currentColor"})]})})]})}var sA=n(93137);let sR="goMyCharacters",sN=()=>{let e=na(),t=t6.a.useTranslate(),n=(0,H.dQ)().hooks.usePinnedCharacters().map(e=>({key:e.id,label:(0,C.jsx)(sL,{character:e})})).concat({label:(0,C.jsxs)("div",{className:(0,er.Z)(sA.dropdownMenuLabelText,sA.goToMine),children:[t("myRolesDropdown"),(0,C.jsx)(eP.J,{size:8,className:sA.goToMineIcon,children:nc.eE})]}),key:sR});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("i",{className:sA.delimiter}),(0,C.jsx)(sd,{menuDomProps:{onClick:e=>{e.stopPropagation()}},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,C.jsx)("div",{ref:n,...t,onClick:e=>e.stopPropagation(),className:sA.trigger,children:nc.C2})},onSelect:t=>{if(t===sR){e(ns.CHARACTER_MINE);return}e(ns.AGENT,{agentId:t})},menuTheme:{},options:n})]})},sL=e=>{let{character:t}=e;return(0,C.jsxs)("div",{className:sA.dropdownMenuLabel,children:[(0,C.jsx)(rG,{avatar:t.avatar,size:20,className:sA.dropdownMenuLabelAvatar}),(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:n,domRef:a,ellipsisDomRef:r}=e;return(0,C.jsx)("span",{className:sA.dropdownMenuLabelText,...n,ref:(0,os.l)(a,r),children:t.name})},checkEllipsis:!0,children:t.name})]})};var sF=n(87496);function sO(e){let{onClick:t}=e,n=t6.a.useTranslate(),a=na(),r=nn(ns.ROOT),[o]=t6.l.useFgByKey("enableCustomCharacterFnModule");return(0,C.jsxs)("div",{className:sF.button,onClick:()=>{t6.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"top",isCharacterChatPage:"false",agentId:""}}),r||a(ns.ROOT),t()},children:[(0,C.jsxs)("div",{className:sF.left,children:[(0,C.jsx)("div",{className:sF.icon,children:nc.Ll}),n("agentSelectionCreateSessionTooltip")]}),o?(0,C.jsx)(sN,{}):null]})}function sP(e){let[t,n]=e.split("@"),a=[],r=Math.floor(t.length/2),o=Math.max(r-2,0),s=Math.min(r+2,t.length);for(let e=0;e<t.length;e++)e<o||e>=s?a.push(t[e]):a.push("*");return"".concat(a.join(""),"@").concat(n)}var sD=n(99364);function sB(e){let{status:t="none",variant:n="filled",disabled:a=!1,options:r=[],size:o="m",style:s,placeholder:i,defaultValue:l,onChange:d,theme:c}=e,u=(0,Y.useMemo)(()=>{let e=r.map(e=>(0,C.jsx)("option",{value:e.value,children:e.label},e.value));return void 0!==i&&e.unshift((0,C.jsx)("option",{value:"",disabled:!0,selected:!0,children:i})),e},[r,i]),h=(0,Y.useMemo)(()=>({...s,"--ds-native-select-color":null==c?void 0:c.color}),[s,c]);return(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-native-select"),"".concat(J.F,"-native-select--").concat(n),"".concat(J.F,"-native-select--").concat(t),"".concat(J.F,"-native-select--").concat(o),a&&"".concat(J.F,"-native-select--disabled")),style:h,role:"none",children:[(0,C.jsx)("select",{defaultValue:l,className:"".concat(J.F,"-native-select__select"),onChange:e=>{null==d||d(e.currentTarget.value)},children:u}),(0,C.jsx)("div",{className:"".concat(J.F,"-native-select__arrow"),"aria-hidden":!0,children:(0,C.jsx)(sz,{})})]})}function sz(){return(0,C.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",children:(0,C.jsx)("path",{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n	c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z",fill:"currentColor"})})}function sH(e){let{options:t=[],defaultValue:n=null,value:a,onChange:r,className:o,style:s,theme:i,focusable:l=!0}=e,[d,c]=(0,Y.useState)(n),u=void 0===a?d:a,h=t.findIndex(e=>e.value===u),[p,g]=(0,Y.useState)(null),[m,f]=(0,Y.useState)(()=>null===u&&t.length?t[0].value:u),[v,x]=(0,Y.useState)(0),E=(0,Y.useRef)(null),y=(0,Y.useMemo)(()=>({...s,"--ds-segmented-color":null==i?void 0:i.color,"--ds-segmented-selected-color":null==i?void 0:i.selectedColor,"--ds-segmented-button-box-shadow":null==i?void 0:i.boxShadow}),[s,i]);(0,Y.useEffect)(()=>{if(v){var e;null===(e=E.current)||void 0===e||e.focus()}},[v]);let b=(0,Y.useRef)(null);return(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-segmented"),o),style:y,ref:b,onKeyDown:e=>{if("ArrowRight"===e.key||"ArrowLeft"===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let n=t.findIndex(e=>e.value===p),a=n;if(-1===n)return;let o=0;for(;o<t.length;){switch(o+=1,e.key){case"ArrowRight":case"ArrowDown":a+=1;break;case"ArrowLeft":case"ArrowUp":a-=1}a<0?a=t.length-1:a>=t.length&&(a=0);let n=t[a];if(!n.disabled){f(n.value),x(e=>e+1),c(n.value),null==r||r(n.value);break}}}},onBlur:e=>{var t;(null===(t=b.current)||void 0===t?void 0:t.contains(e.relatedTarget))&&f(u)},role:"tablist",children:t.map((e,n)=>{let a=h===n,o=e.disabled,s=l&&!o&&m===e.value;return(0,C.jsxs)("div",{role:"tab","aria-selected":a,tabIndex:s?0:void 0,className:(0,er.Z)("".concat(J.F,"-segmented-button"),a&&"".concat(J.F,"-segmented-button--selected"),o&&"".concat(J.F,"-segmented-button--disabled")),onMouseDown:o?void 0:()=>{c(e.value),null==r||r(e.value),f(e.value)},ref:s?E:void 0,onFocus:o?void 0:()=>g(e.value),onBlur:o?void 0:()=>g(null),children:[e.label,n===t.length-1||n+1===h?null:(0,C.jsx)("div",{className:"".concat(J.F,"-segmented-separator"),"aria-hidden":!0}),(0,C.jsx)("div",{className:"".concat(J.F,"-segmented-button__shadow"),"aria-hidden":!0})]},e.value)})})}n(5468),n(49150),n(76089);var sU=n(46235);function sV(){let e=t6.a.useTranslate(),[t,n]=(0,Y.useState)(H.dV.ExportChatHistoryStatus.Created),[a,r]=(0,Y.useState)(null),o=null;function s(){!document.hidden&&t!==H.dV.ExportChatHistoryStatus.Finished&&(0,H.JV)().then(e=>{let{data:t}=e;n(t.status),r(t.downloadUrl),t.status===H.dV.ExportChatHistoryStatus.Finished&&o&&(clearInterval(o),document.removeEventListener("visibilitychange",s))})}return(0,C.jsxs)(C.Fragment,{children:[t===H.dV.ExportChatHistoryStatus.Created&&(0,C.jsx)(e4.z,{size:"m",variant:"bordered",type:"secondary",onClick:function(){document.addEventListener("visibilitychange",s),o=setInterval(s,5e3),s()},children:e("avatarMenuSettingsDialogExportOldHistoryButton")}),t===H.dV.ExportChatHistoryStatus.Pending&&(0,C.jsxs)("span",{className:sU.statusPending,children:[(0,C.jsx)(tN.g,{}),"\xa0",e("avatarMenuSettingsDialogExportOldHistoryPendingLabel")]}),t===H.dV.ExportChatHistoryStatus.Finished&&(0,C.jsx)(e4.z,{size:"m",variant:"text",icon:(0,C.jsx)(sW,{}),className:sU.statusFinished,onClick:()=>(function(e){if("string"!=typeof e||!e)return;let t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)})(a),children:e("avatarMenuSettingsDialogExportOldHistoryFinishedLabel")})]})}function sW(e){return(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,C.jsx)("path",{fill:"currentColor",d:"M11 17H7q-2.075 0-3.537-1.463T2 12t1.463-3.537T7 7h4v2H7q-1.25 0-2.125.875T4 12t.875 2.125T7 15h4zm-3-4v-2h8v2zm5 4v-2h4q1.25 0 2.125-.875T20 12t-.875-2.125T17 9h-4V7h4q2.075 0 3.538 1.463T22 12t-1.463 3.538T17 17z"})})}function sG(e){let{onClose:t}=e,n=t6.a.useTranslate(),a=(0,nh.F)(),r=(0,e9.pm)(),[o,s]=(0,Y.useState)(!1),i=(0,H.aK)(e=>e.clearSessions);return(0,C.jsx)(eg,{variant:"dialog",title:n("deleteAllHistoryModalTitle"),onClose:t,theme:{color:a?"#3A3A46":void 0,textColor:a?"#F8FAFF":void 0},footer:(0,C.jsxs)(em,{children:[(0,C.jsx)(e4.z,{variant:"filled",size:"m",onClick:()=>{t()},type:"secondary",domProps:{"data-autofocus":!0},theme:{textColor:a?"#F8FAFF":void 0,color:a?"#555562":void 0,secondaryButtonHoverColor:a?"#474756":void 0},children:n("deleteAllHistoryModalCancel")}),(0,C.jsx)(e4.z,{variant:"filled",size:"m",loading:o,theme:{hoverColor:a?"#8B3F45":void 0,color:a?"#D44344":void 0},onClick:()=>{s(!0),(0,H.mf)().then(()=>{s(!1),r.success({node:(0,Y.createElement)(t6.a.ensureTranslateComponent("deleteAllHistoryOkToast")),description:n("deleteAllHistoryOkToast")}),t6.l.tracker.info({name:"deleteAllHistoryOk",message:"删除所有历史成功",payload:{}}),t(),i()}).catch(e=>{r.error({node:(0,Y.createElement)(t6.a.ensureTranslateComponent("deletAllHistoryFailedToast")),description:n("deletAllHistoryFailedToast")}),t6.l.tracker.error({name:"deleteAllHistoryFailed",message:"删除所有历史出错",payload:t6.l.withError(e,{})}),s(!1)})},type:"error",children:n("deleteAllHistoryModalConfirm")})]}),children:(0,C.jsx)(tq.C,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:n("deleteAllHistoryModalContent")})})}function sZ(e){let{value:t,defaultValue:n=!1,disabled:a=!1,size:r="m",domProps:o,domRef:s,onChange:i}=e,[l,d]=(0,Y.useState)(n),c=tm(l,t),u=(0,Y.useCallback)(e=>{null==i||i(e),void 0===t&&d(e)},[i,t]),{className:h,...p}=null!=o?o:{},g=(0,er.Z)("".concat(J.F,"-switch"),c&&"".concat(J.F,"-switch--checked"),a&&"".concat(J.F,"-switch--disabled"),"".concat(J.F,"-switch--size-").concat(r),h);return(0,C.jsx)("button",{className:g,style:null==p?void 0:p.style,role:"switch","aria-checked":c,onClick:e=>{var t;null==o||null===(t=o.onClick)||void 0===t||t.call(o,e),a||u(!c)},tabIndex:0,ref:s,...p,children:(0,C.jsx)("div",{className:"".concat(J.F,"-switch-thumb"),"aria-hidden":"true"})})}n(20141);var sq=n(57572),sY=n(68354),sK=n(88346);function sQ(){return(0,sY.ZP)(H.Yu.users_settings,H.nH)}function sX(){let e=t6.a.useTranslate(),t=(0,e9.pm)(),{data:n,isLoading:a,error:r,mutate:o}=sQ(),[s,i]=(0,Y.useState)(!1),l=(0,ec.Vb)({value:s,delay:200,defaultValue:!1,shouldDelay:()=>!0}),d=null==n?void 0:n.data.training_allowed;async function c(a){i(!0);try{t6.l.tracker.info({name:"switchAllowTraining",payload:{to:a},message:"切换允许训练开关"}),await (0,H.uk)({training_allowed:a}),n&&o((0,sK.Uy)(e=>{e.data.training_allowed=a},n),{revalidate:!1})}catch(n){t.error(e("allowTrainingSwitchNetworkError")),t6.l.tracker.error({name:"switchAllowTrainingFailed",payload:t6.l.tracker.withError(n,{to:a}),message:"切换允许训练开关"})}finally{i(!1)}}return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:sq.labelContainer,children:[(0,C.jsx)("span",{children:e("allowTrainingSwitchLabel")}),(0,C.jsx)("div",{className:sq.description,children:e("allowTrainingDescription")})]}),(0,C.jsx)("div",{className:sq.switchContainer,children:a||r||l?(0,C.jsx)(tN.g,{}):(0,C.jsx)(sZ,{value:d,onChange:c})})]})}var sJ=n(68964);let s$="/api/v0/users",s1=()=>{let e=(0,e9.pm)(),t=t6.a.useTranslate(),{beUnauthenticated:n}=t9();return async()=>{let{tracker:a}=t6.l;a.info({name:"logout",message:"开始登出"});try{let e=t6.l.httpWithCoreType;await (0,tt.H$)(void 0,{http:e,baseUrl:s$}),n({navigateToSignIn:!0,isBanned:!1})}catch(n){t6.l.tracker.error({name:"logoutFailed",message:"登出失败",payload:t6.l.withError(n,{})}),e.error({node:t("logoutFail"),description:"退出登录失败"})}}},s0=()=>{let{beUnauthenticated:e}=t9(),{http:t}=t6.l;return async()=>{let n=await t.http.post("/api/v0/users/logout_all_sessions",{context:t.withDefaultHttpContext({withToken:!0})});if(0!==n.json.data.biz_code)throw n.json.data;return{clear:()=>e({navigateToSignIn:!0,isBanned:!1})}}},s2=e=>{let{onSuccess:t}=e,n=t6.a.useTranslate(),a=eC(),{tracker:r}=t6.l;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:sJ.labelContainer,children:(0,C.jsx)("span",{children:n("logoutAllDevices")})}),(0,C.jsx)("div",{className:sJ.operationContainer,children:(0,C.jsx)(e4.z,{type:"secondary",variant:"bordered",onClick:()=>{r.info({name:"openLogoutAllDevicesModal",message:"打开登出所有设备对话框",payload:{}});let e=a.open({modalProps:{children:(0,C.jsx)(s3,{onSuccess:t,onClose:()=>{e.close()}})}})},children:n("logoutAllDevicesButton")})})]})},s3=e=>{let{onClose:t,onSuccess:n}=e,a=t6.a.useTranslate(),r=(0,nh.F)(),[o,s]=(0,Y.useState)(!1),i=(0,e9.pm)(),l=s0(),{tracker:d}=t6.l;return(0,C.jsx)(eg,{variant:"dialog",newCloseButton:!0,onClose:t,domProps:{"data-autofocus":!0},title:a("logoutAllDevices"),theme:{color:r?"#3A3A46":void 0},footer:(0,C.jsxs)(em,{children:[(0,C.jsx)(e4.z,{variant:"filled",size:"m",onClick:()=>{d.info({name:"cancelLogoutAllDevicesModal",message:"关闭登出所有设备对话框",payload:{}}),t()},type:"secondary",domProps:{"data-autofocus":!0},theme:{textColor:r?"#F8FAFF":void 0,color:r?"#555562":void 0},children:a("logoutAllDevicesCancel")}),(0,C.jsx)(e4.z,{variant:"filled",size:"m",loading:o,theme:{hoverColor:r?"#8B3F45":void 0,color:r?"#D44344":void 0},onClick:()=>{s(!0),d.info({name:"confirmLogoutAllDevices",message:"开始登出所有设备",payload:{}}),l().then(e=>{let{clear:a}=e;t6.l.tracker.info({name:"logoutAllDevicesSuccess",message:"登出所有设备成功",payload:{}}),t(),a(),n()}).catch(e=>{i.error({node:(0,Y.createElement)(t6.a.ensureTranslateComponent("logoutAllDevicesFail")),description:a("logoutAllDevicesFail")}),t6.l.tracker.error({name:"logoutAllDevicesFail",message:"登出所有设备失败",payload:t6.l.withError(e,{})})}).finally(()=>{s(!1)})},type:"error",children:a("logoutAllDevicesConfirm")})]}),children:a("logoutAllDevicesDesc")(a("logoutAllDevicesConfirm"))})},s5=e=>({rgbHover:e?"255 255 255 / 8%":"0 0 0 / 4%"});var s4=n(12843);function s9(e,t){if(!e)return;let n=document.createElement("a");n.href=e,t&&(n.download=t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function s6(){let{data:e,isLoading:t,error:n,mutate:a}=(0,sY.ZP)(H.Yu.download_export_history,H.RZ,{refreshInterval:e=>5e3*((null==e?void 0:e.data.status)==="PENDING"),revalidateOnFocus:!1}),r=(0,e9.pm)(),o=t6.a.useTranslate(),s=null==e?void 0:e.data,i=(null==s?void 0:s.status)==="PENDING",l=(null==s?void 0:s.status)==="FINISHED",d=(null==s?void 0:s.status)==="EMPTY",c=(0,Y.useCallback)(()=>{t6.l.tracker.info({name:"exportAllData",payload:{},message:"导出所有历史数据"}),(0,H.UK)().then(e=>{e.data.code===H.dV.ExportAllDataErrorCode.RATE_LIMIT&&(r.error(o.exportAllRateLimit),t6.l.tracker.error({name:"exportAllDataFailed",message:"导出所有历史数据失败-频控",payload:{}}))}).catch(e=>{r.error(o.exportAllFailed),t6.l.tracker.error({name:"exportAllDataFailed",payload:t6.l.tracker.withError(e,{}),message:"导出所有历史数据失败-其他错误"})}).finally(a)},[a,o,r]),u=(0,Y.useCallback)(()=>{d?c():(null==s?void 0:s.status)==="FINISHED"&&(s9(s.historyDownloadUrl),setTimeout(()=>{s9(s.legacyHistoryDownloadUrl)},1e3))},[s,c,d]);function h(e){return rs()(1e3*e).format("YYYY-MM-DD HH:mm")}return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:sJ.labelContainer,children:[(0,C.jsx)("span",{children:o.exportAllLabel}),(0,C.jsx)("div",{className:sJ.description,children:l?o.exportAllExpiryNoticeDesc((0,C.jsx)(e4.z,{variant:"text",onClick:c,style:{fontSize:"unset"},children:o.exportAllReexportBtn}),h(s.exportAt),h(s.expireAt)):o.exportAllDesc})]}),(0,C.jsx)("div",{className:sJ.operationContainer,children:t||n?(0,C.jsx)(tN.g,{}):(0,C.jsx)(e4.z,{className:s4.button,type:"secondary",variant:"bordered",loading:i,style:i?{pointerEvents:"none"}:{},onClick:u,icon:l?(0,C.jsx)(eP.J,{size:16,children:(0,C.jsx)(nc._8,{})}):null,children:i?null:l?(0,C.jsx)(C.Fragment,{children:o.exportAllDownload}):o.exportAllButton})})]})}var s7=n(28161);function s8(e){let{children:t,isLast:n=!1}=e;return(0,C.jsx)(am,{className:s7.settingsItem,justifyContent:"space-between",alignItems:"center",style:{padding:"12px 0",borderBottom:n?"":"1px solid rgb(var(--ds-rgb-separator))"},children:t})}function ie(e){let{children:t}=e;return(0,C.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:"var(--ds-input-height-m)"},children:t})}function it(e){var t;let{defaultSelectedSection:n,onClose:a}=e,r=t6.a.useTranslate(),o=(0,nh.F)(),{tracker:s}=t6.l,i=(0,nm.L)(e=>e.user),l=(null==i?void 0:i.email)||(null==i?void 0:null===(t=i.idProfile)||void 0===t?void 0:t.email),d=t6.l.useIsMainlandChina(),c=t6.l.useApp(e=>e.localePreference),u=t6.l.useApp(e=>e.setLocalePreference),h=t6.l.useApp(e=>e.themePreference),p=t6.l.useApp(e=>e.setThemePreference),{beUnauthenticated:g}=t9(),[m,f]=(0,Y.useState)(n),v=e2({isMainlandChina:d}),x=eC();sQ();let E=(0,Y.useMemo)(()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(s8,{children:[r("settingsLocalePreference"),(0,C.jsx)(sB,{style:{width:"fit-content"},defaultValue:c,onChange:e=>{u(e)},theme:{color:o?"#555562":void 0},options:[{label:"English",value:"en_US"},{label:"中文",value:"zh_CN"},{label:r("settingsLocalePreferenceSystem"),value:"system"}]})]}),(0,C.jsxs)(s8,{isLast:!(null==i?void 0:i.hasLegacyChatHistory),children:[r("avatarMenuSettingsDialogThemeItemLabel"),(0,C.jsx)(sB,{style:{width:"fit-content"},defaultValue:h,onChange:e=>{p(e),s.info({name:"changeAppTheme",message:"修改颜色主题",payload:{appTheme:e}})},theme:{color:o?"#555562":void 0},options:[{label:r("avatarMenuSettingsDialogThemeSelectLightOption"),value:"light"},{label:r("avatarMenuSettingsDialogThemeSelectDarkOption"),value:"dark"},{label:r("avatarMenuSettingsDialogThemeSelectSystemOption"),value:"system"}]})]}),(null==i?void 0:i.hasLegacyChatHistory)&&(0,C.jsxs)(s8,{isLast:!0,children:[r("avatarMenuSettingsDialogExportOldHistoryLabel")," ",(0,C.jsx)(sV,{})]})]}),[o,c,u,p,r,h,s,null==i?void 0:i.hasLegacyChatHistory]),y=function(e){let{locale:t,isMainlandChina:n}=e,a=ez(),{termsOfUse:r,termsOfUseFile:o}=eW(),s=e2({isMainlandChina:n});return{termsOfUse:{link:o||s.termsOfUse,label:r||a("termsOfUse",t)},privacyPolicy:{link:s.privacyPolicy,label:a("privacyPolicy",t)}}}({locale:t6.a.useLocale(),isMainlandChina:d}),b=(0,Y.useMemo)(()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(s8,{children:[y.termsOfUse.label,(0,C.jsx)(e4.z,{type:"secondary",variant:"bordered",component:"a",domProps:{target:"_blank",href:v.termsOfUse},children:r("viewPolicyButton")})]}),(0,C.jsxs)(s8,{isLast:!0,children:[y.privacyPolicy.label,(0,C.jsx)(e4.z,{type:"secondary",variant:"bordered",component:"a",domProps:{target:"_blank",href:v.privacyPolicy},children:r("viewPolicyButton")})]})]}),[y,v,r]),_=(0,Y.useMemo)(()=>{var e,t;return(0,C.jsxs)(C.Fragment,{children:[(null==i?void 0:null===(e=i.idProfile)||void 0===e?void 0:e.name)?(0,C.jsxs)(s8,{children:[(0,C.jsx)("span",{children:r("profileUserName")}),(0,C.jsxs)(ie,{children:[i.idProfile.name,"GOOGLE"===i.idProfile.provider&&(0,C.jsxs)(C.Fragment,{children:["\xa0",(0,C.jsx)(e_,{})]}),"WECHAT"===i.idProfile.provider&&(0,C.jsxs)(C.Fragment,{children:["\xa0",(0,C.jsx)(ia,{})]})]})]}):null,l?(0,C.jsxs)(s8,{children:[(0,C.jsx)("span",{children:r("profileEmailTitle")}),(0,C.jsx)(ie,{children:sP(l)})]}):d||i?null:(0,C.jsxs)(s8,{children:[(0,C.jsx)(tc.O,{variant:"text",children:r("profileEmailTitle")}),(0,C.jsx)(ie,{children:(0,C.jsx)(tc.O,{variant:"text",children:"********@*****.***"})})]}),(0,C.jsxs)(s8,{children:[r("profilePhoneNumberTitle"),i?(0,C.jsx)(ie,{children:i.mobile?(t=i.mobile,"".concat(t.slice(0,3),"****").concat(t.slice(7,11))):"-"}):(0,C.jsx)(ie,{children:(0,C.jsx)(tc.O,{variant:"text",children:"**************"})})]}),(0,C.jsx)(s8,{children:(0,C.jsx)(sX,{})}),(0,C.jsx)(s8,{children:(0,C.jsx)(s6,{})}),(0,C.jsx)(s8,{children:(0,C.jsx)(s2,{onSuccess:a})}),(0,C.jsxs)(s8,{children:[r("avatarMenuSettingsDialogDeleteAllHistoryLabel"),(0,C.jsx)(e4.z,{type:"error",onClick:()=>{let e=x.open({modalProps:{children:(0,C.jsx)(sG,{onClose:()=>{e.close(),t6.l.tracker.info({name:"closeDeleteAllHistoryModal",message:"关闭删除所有历史 modal",payload:{}})}})}});s.info({name:"openDeleteAllHistoryModal",message:"打开删除所有历史 modal",payload:{}})},children:r("avatarMenuSettingsDialogDeleteAllHistoryButton")})]}),(0,C.jsxs)(s8,{isLast:!0,children:[r("avatarMenuSettingsDialogDeleteAccountItemLabel"),(0,C.jsx)(tY,{size:"m",variant:"filled",afterDeleteAccountOk:()=>{a(),g({navigateToSignIn:!0,isBanned:!1})},email:r("supportEmail")})]})]})},[i,r,l,d,x,s,a,g]);return(0,C.jsx)($,{...s5(o),children:(0,C.jsxs)(eg,{newCloseButton:!0,onClose:a,domProps:{"data-autofocus":!0},title:r("avartarMenuSettingsDialogTitle"),theme:{color:o?"#3A3A46":void 0},children:[(0,C.jsx)(sH,{focusable:!1,style:{marginBottom:12},theme:{selectedColor:o?"#70707E":void 0,color:o?"#5D5D6C":void 0,boxShadow:"0px 0px 4px 0px rgba(0, 0, 0, 0.02), 0px 6px 10px 0px rgba(0, 0, 0, 0.04)"},value:m,onChange:e=>f(e),options:[{label:r("settingDialogAsideGeneralOptionLabel"),value:"general"},{label:r("settingDialogAsideAccountOptionLabel"),value:"account"},{label:r("settingDialogAsidePolicyOptionLabel"),value:"policy"}]}),"general"===m&&E,"account"===m&&_,"policy"===m&&b]})})}let ia=()=>(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{fill:"#00c70a",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})}),ir=()=>(0,C.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1267_20496",children:(0,C.jsx)("rect",{id:"退出登录",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsx)("rect",{id:"退出登录",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,C.jsxs)("g",{clipPath:"url(#clip1267_20496)",children:[(0,C.jsx)("path",{id:"path",d:"M9.64 17.25L7.29 17.25C7.01 17.25 6.73 17.22 6.45 17.16C6.17 17.11 5.91 17.03 5.64 16.92C5.38 16.81 5.14 16.68 4.9 16.53C4.67 16.37 4.45 16.2 4.25 16C4.05 15.8 3.88 15.58 3.72 15.35C3.56 15.12 3.43 14.87 3.32 14.62C3.21 14.36 3.13 14.09 3.08 13.82C3.02 13.54 3 13.26 3 12.98L3 7.01C3 6.73 3.02 6.45 3.08 6.17C3.13 5.9 3.21 5.63 3.32 5.37C3.43 5.12 3.56 4.87 3.72 4.64C3.88 4.41 4.05 4.19 4.25 3.99C4.45 3.79 4.67 3.62 4.9 3.46C5.14 3.31 5.38 3.18 5.64 3.07C5.91 2.96 6.17 2.88 6.45 2.83C6.73 2.77 7.01 2.75 7.29 2.75L9.64 2.75C9.74 2.75 9.83 2.76 9.92 2.8C10 2.83 10.08 2.89 10.15 2.95C10.21 3.02 10.26 3.09 10.3 3.18C10.33 3.27 10.35 3.36 10.35 3.45C10.35 3.54 10.33 3.63 10.3 3.72C10.26 3.8 10.21 3.88 10.15 3.95C10.08 4.01 10 4.06 9.92 4.1C9.83 4.13 9.74 4.15 9.64 4.15L7.29 4.15C7.1 4.15 6.91 4.17 6.73 4.21C6.54 4.24 6.36 4.3 6.19 4.37C6.01 4.44 5.85 4.53 5.69 4.63C5.53 4.74 5.39 4.85 5.25 4.99C5.12 5.12 5 5.26 4.9 5.42C4.79 5.58 4.7 5.74 4.63 5.91C4.56 6.09 4.5 6.26 4.47 6.45C4.43 6.63 4.41 6.82 4.41 7.01L4.41 12.99C4.41 13.17 4.43 13.36 4.47 13.54C4.5 13.73 4.56 13.9 4.63 14.08C4.7 14.25 4.79 14.41 4.9 14.57C5 14.73 5.12 14.87 5.25 15C5.39 15.14 5.53 15.25 5.69 15.36C5.85 15.46 6.01 15.55 6.19 15.62C6.36 15.69 6.54 15.75 6.73 15.79C6.91 15.82 7.1 15.84 7.29 15.84L9.64 15.84C9.74 15.84 9.83 15.86 9.92 15.89C10 15.93 10.08 15.98 10.15 16.05C10.21 16.11 10.26 16.19 10.3 16.27C10.33 16.36 10.35 16.45 10.35 16.54C10.35 16.64 10.33 16.73 10.3 16.81C10.26 16.9 10.21 16.97 10.14 17.04C10.08 17.11 10 17.16 9.92 17.19C9.83 17.23 9.74 17.25 9.64 17.25Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M16.43 10.74L8.92 10.74C8.82 10.74 8.73 10.72 8.65 10.68C8.56 10.64 8.48 10.59 8.42 10.52C8.35 10.45 8.3 10.37 8.26 10.29C8.23 10.2 8.21 10.1 8.21 10.01C8.21 9.91 8.23 9.82 8.26 9.73C8.3 9.64 8.35 9.56 8.42 9.49C8.48 9.42 8.56 9.37 8.65 9.33C8.73 9.3 8.82 9.28 8.92 9.28L16.43 9.28L16.43 10.74Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M13.13 13.46C13.06 13.39 13.01 13.31 12.97 13.22C12.94 13.13 12.92 13.04 12.92 12.94C12.92 12.85 12.94 12.75 12.97 12.66C13.01 12.58 13.06 12.5 13.13 12.43L15.48 10.01L13.13 7.59C13.06 7.52 13.01 7.44 12.97 7.35C12.94 7.26 12.92 7.17 12.92 7.07C12.92 6.98 12.94 6.88 12.97 6.79C13.01 6.71 13.06 6.63 13.13 6.56C13.19 6.49 13.27 6.44 13.36 6.4C13.44 6.37 13.53 6.35 13.63 6.35C13.72 6.35 13.81 6.37 13.9 6.4C13.98 6.44 14.06 6.49 14.13 6.56L16.7 9.2C16.8 9.31 16.88 9.43 16.94 9.57C16.99 9.71 17.02 9.86 17.02 10.01C17.02 10.16 16.99 10.31 16.94 10.45C16.88 10.59 16.8 10.71 16.7 10.82L14.13 13.46C14.06 13.53 13.98 13.58 13.9 13.62C13.81 13.65 13.72 13.67 13.63 13.67C13.53 13.67 13.44 13.65 13.36 13.62C13.27 13.58 13.19 13.53 13.13 13.46Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),io=()=>(0,C.jsx)("svg",{width:"34",height:"35",viewBox:"0 0 34 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M17 34.895c9.298 0 17-7.686 17-17 0-9.299-7.702-17-17.017-17C7.685.895 0 8.596 0 17.895c0 9.314 7.702 17 17 17zm0-14.302c-3.226-.016-5.727-2.715-5.727-6.27-.016-3.357 2.518-6.155 5.727-6.155 3.193 0 5.71 2.798 5.71 6.155 0 3.555-2.5 6.303-5.71 6.27zm0 11.52c-3.686 0-7.603-1.53-10.088-4.213 1.876-2.83 5.645-4.46 10.088-4.46 4.394 0 8.18 1.597 10.072 4.46-2.485 2.683-6.386 4.213-10.072 4.213z",fill:"currentColor"})}),is=()=>(0,C.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1258_20868",children:(0,C.jsx)("rect",{id:"联系我们",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsx)("rect",{id:"联系我们",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,C.jsxs)("g",{clipPath:"url(#clip1258_20868)",children:[(0,C.jsx)("path",{id:"path",d:"M13.76 17.07C13.39 17.07 13.04 16.97 12.72 16.78L10.09 15.16C10.01 15.11 9.94 15.04 9.88 14.96C9.82 14.88 9.78 14.8 9.76 14.7C9.73 14.61 9.73 14.51 9.74 14.41C9.76 14.32 9.79 14.22 9.84 14.14C9.89 14.06 9.95 13.98 10.03 13.93C10.11 13.87 10.19 13.83 10.29 13.8C10.38 13.78 10.48 13.77 10.57 13.79C10.67 13.8 10.76 13.84 10.84 13.89L13.47 15.5C13.51 15.53 13.55 15.55 13.6 15.56C13.64 15.58 13.69 15.58 13.74 15.58C13.78 15.59 13.83 15.58 13.87 15.57C13.92 15.56 13.96 15.55 14.01 15.53C14.05 15.51 14.09 15.48 14.12 15.45C14.16 15.42 14.19 15.39 14.22 15.35C14.24 15.31 14.27 15.27 14.28 15.22C14.3 15.18 14.31 15.13 14.32 15.09L15.56 5.12C15.57 5.02 15.56 4.92 15.52 4.82C15.48 4.72 15.41 4.65 15.33 4.58C15.25 4.52 15.15 4.49 15.05 4.48C14.95 4.47 14.85 4.49 14.76 4.53L4.77 9.41C4.67 9.46 4.6 9.53 4.54 9.62C4.48 9.71 4.45 9.81 4.45 9.92C4.45 10.03 4.47 10.13 4.53 10.22C4.58 10.31 4.65 10.38 4.75 10.44L7.35 11.85C7.47 11.91 7.59 11.93 7.71 11.91C7.84 11.89 7.94 11.83 8.03 11.73L12.64 6.6C12.71 6.53 12.78 6.47 12.87 6.43C12.96 6.39 13.05 6.36 13.15 6.36C13.24 6.36 13.34 6.37 13.43 6.4C13.52 6.44 13.6 6.49 13.67 6.55C13.74 6.62 13.8 6.7 13.84 6.79C13.88 6.88 13.9 6.97 13.9 7.07C13.91 7.17 13.89 7.26 13.86 7.36C13.83 7.45 13.78 7.53 13.71 7.6L9.1 12.74C8.95 12.9 8.78 13.04 8.58 13.15C8.39 13.26 8.18 13.33 7.96 13.37C7.74 13.41 7.52 13.41 7.3 13.38C7.08 13.34 6.87 13.27 6.67 13.16L4.11 11.77C3.94 11.68 3.78 11.57 3.65 11.44C3.51 11.3 3.39 11.15 3.29 10.99C3.19 10.82 3.12 10.65 3.07 10.46C3.02 10.27 3 10.08 3 9.89C3 9.7 3.03 9.51 3.08 9.33C3.14 9.15 3.21 8.97 3.32 8.81C3.42 8.65 3.54 8.51 3.68 8.38C3.82 8.26 3.97 8.16 4.14 8.07L14.1 3.21C14.4 3.06 14.71 2.99 15.04 2.99C15.38 3 15.69 3.08 15.98 3.25C16.16 3.35 16.32 3.47 16.46 3.62C16.6 3.77 16.71 3.93 16.8 4.12C16.89 4.3 16.96 4.49 16.99 4.7C17.03 4.9 17.03 5.1 17 5.31L15.76 15.27C15.75 15.39 15.72 15.51 15.69 15.63C15.65 15.75 15.6 15.87 15.54 15.98C15.49 16.09 15.42 16.19 15.35 16.29C15.27 16.38 15.19 16.47 15.1 16.56C15 16.64 14.91 16.71 14.8 16.78C14.7 16.84 14.59 16.89 14.48 16.94C14.36 16.98 14.25 17.01 14.13 17.04C14.01 17.06 13.88 17.07 13.76 17.07Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M7.89 17.36C7.8 17.36 7.7 17.34 7.61 17.31C7.53 17.27 7.45 17.21 7.38 17.15C7.31 17.08 7.26 16.99 7.22 16.9C7.18 16.81 7.16 16.72 7.16 16.62L7.16 12.99L8.62 12.99L8.62 16.62C8.62 16.72 8.6 16.82 8.56 16.91C8.53 17 8.47 17.08 8.41 17.15C8.34 17.21 8.26 17.27 8.17 17.31C8.08 17.34 7.99 17.36 7.89 17.36Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),ii=()=>(0,C.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip1258_20863",children:(0,C.jsx)("rect",{id:"系统设置",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,C.jsx)("rect",{id:"系统设置",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,C.jsxs)("g",{clipPath:"url(#clip1258_20863)",children:[(0,C.jsx)("path",{id:"path",d:"M11.21 12.03C11.07 12.1 10.93 12.17 10.78 12.22C10.63 12.26 10.47 12.3 10.31 12.32C10.15 12.34 10 12.34 9.84 12.33C9.68 12.33 9.52 12.3 9.37 12.26C9.21 12.22 9.06 12.17 8.92 12.1C8.78 12.03 8.64 11.95 8.51 11.85C8.39 11.76 8.27 11.66 8.17 11.54C8.06 11.42 7.97 11.3 7.89 11.16C7.81 11.03 7.74 10.89 7.69 10.75C7.64 10.6 7.6 10.45 7.58 10.3C7.56 10.14 7.56 9.99 7.57 9.84C7.58 9.68 7.6 9.53 7.65 9.38C7.69 9.23 7.74 9.09 7.81 8.95C7.88 8.81 7.97 8.68 8.07 8.56C8.16 8.44 8.27 8.32 8.39 8.22C8.51 8.12 8.64 8.03 8.78 7.95C8.92 7.88 9.06 7.81 9.21 7.76C9.36 7.71 9.52 7.68 9.68 7.66C9.84 7.64 10 7.63 10.15 7.64C10.31 7.65 10.47 7.68 10.62 7.72C10.78 7.76 10.93 7.81 11.07 7.88C11.21 7.95 11.35 8.03 11.48 8.12C11.6 8.22 11.72 8.32 11.82 8.44C11.93 8.56 12.02 8.68 12.1 8.81C12.18 8.95 12.25 9.09 12.3 9.23C12.35 9.38 12.39 9.53 12.41 9.68C12.43 9.84 12.43 9.99 12.42 10.14C12.41 10.3 12.39 10.45 12.34 10.6C12.3 10.75 12.25 10.89 12.18 11.03C12.11 11.17 12.02 11.3 11.92 11.42C11.83 11.54 11.72 11.66 11.6 11.76C11.48 11.86 11.35 11.95 11.21 12.03ZM9.54 9.23C9.43 9.28 9.34 9.36 9.27 9.45C9.2 9.55 9.14 9.65 9.11 9.76C9.08 9.87 9.07 9.99 9.09 10.1C9.11 10.22 9.14 10.33 9.2 10.43C9.27 10.53 9.34 10.62 9.44 10.69C9.54 10.76 9.64 10.81 9.76 10.84C9.88 10.87 9.99 10.88 10.11 10.86C10.23 10.85 10.35 10.81 10.45 10.75C10.56 10.7 10.65 10.62 10.72 10.53C10.79 10.43 10.85 10.33 10.88 10.22C10.91 10.11 10.92 9.99 10.9 9.87C10.88 9.76 10.85 9.65 10.79 9.55C10.73 9.45 10.65 9.36 10.55 9.29C10.46 9.22 10.35 9.17 10.23 9.14C10.11 9.11 10 9.1 9.88 9.12C9.76 9.13 9.64 9.17 9.54 9.23Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,C.jsx)("path",{id:"path",d:"M11.98 17.24C11.69 17.4 11.38 17.48 11.04 17.48L8.94 17.48C8.73 17.48 8.53 17.45 8.34 17.39C8.15 17.32 7.97 17.23 7.8 17.11C7.64 16.99 7.5 16.85 7.39 16.69C7.27 16.53 7.19 16.35 7.13 16.16L6.97 15.6C6.95 15.55 6.93 15.5 6.89 15.46C6.86 15.42 6.82 15.39 6.77 15.36C6.72 15.33 6.67 15.32 6.62 15.31C6.56 15.3 6.51 15.3 6.46 15.32L5.87 15.46C5.68 15.51 5.48 15.53 5.27 15.51C5.07 15.5 4.87 15.45 4.68 15.37C4.5 15.3 4.32 15.19 4.17 15.06C4.02 14.93 3.89 14.78 3.79 14.61L2.75 12.87C2.65 12.7 2.58 12.52 2.54 12.33C2.5 12.13 2.49 11.94 2.51 11.74C2.54 11.55 2.6 11.36 2.68 11.18C2.77 11 2.89 10.84 3.03 10.7L3.45 10.29C3.49 10.25 3.52 10.21 3.54 10.16C3.56 10.11 3.57 10.06 3.57 10C3.57 9.95 3.56 9.9 3.54 9.85C3.52 9.8 3.49 9.75 3.45 9.72L3.03 9.3C2.89 9.16 2.77 9 2.68 8.82C2.6 8.65 2.54 8.46 2.51 8.26C2.49 8.07 2.5 7.87 2.54 7.68C2.58 7.49 2.65 7.3 2.75 7.13L3.8 5.37C3.9 5.2 4.03 5.05 4.18 4.92C4.34 4.79 4.51 4.68 4.7 4.61C4.89 4.53 5.08 4.49 5.29 4.47C5.49 4.45 5.69 4.47 5.89 4.52L6.47 4.66C6.52 4.68 6.58 4.68 6.63 4.67C6.69 4.67 6.74 4.65 6.79 4.62C6.83 4.6 6.87 4.56 6.91 4.52C6.94 4.48 6.97 4.43 6.98 4.38L7.14 3.82C7.2 3.63 7.29 3.45 7.4 3.29C7.52 3.13 7.66 2.99 7.82 2.87C7.98 2.75 8.16 2.66 8.35 2.59C8.55 2.53 8.75 2.5 8.95 2.5L11.06 2.5C11.26 2.5 11.46 2.53 11.65 2.59C11.85 2.66 12.03 2.75 12.19 2.87C12.35 2.99 12.49 3.13 12.61 3.29C12.72 3.45 12.81 3.63 12.86 3.82L13.02 4.38C13.04 4.43 13.06 4.48 13.1 4.52C13.13 4.56 13.17 4.6 13.22 4.62C13.27 4.65 13.32 4.67 13.37 4.67C13.43 4.68 13.48 4.68 13.54 4.66L14.12 4.52C14.32 4.47 14.52 4.45 14.72 4.47C14.92 4.49 15.12 4.53 15.31 4.61C15.49 4.68 15.66 4.79 15.82 4.92C15.97 5.05 16.1 5.2 16.2 5.37L17.24 7.11C17.35 7.28 17.42 7.46 17.46 7.66C17.5 7.85 17.5 8.04 17.48 8.24C17.45 8.44 17.4 8.62 17.31 8.8C17.22 8.98 17.1 9.14 16.96 9.28L16.54 9.69C16.51 9.73 16.48 9.78 16.45 9.82C16.43 9.87 16.42 9.92 16.42 9.98C16.42 10.03 16.43 10.08 16.45 10.13C16.48 10.18 16.51 10.23 16.54 10.26L16.96 10.68C17.11 10.82 17.22 10.98 17.31 11.16C17.4 11.33 17.45 11.52 17.48 11.72C17.5 11.91 17.5 12.11 17.46 12.3C17.42 12.5 17.35 12.68 17.24 12.85L16.19 14.61C16.09 14.78 15.96 14.93 15.81 15.06C15.65 15.19 15.48 15.3 15.29 15.37C15.11 15.45 14.91 15.5 14.71 15.51C14.5 15.53 14.3 15.51 14.1 15.46L13.52 15.32C13.47 15.3 13.41 15.3 13.36 15.31C13.31 15.32 13.25 15.33 13.21 15.36C13.16 15.39 13.12 15.42 13.08 15.46C13.05 15.5 13.03 15.55 13.01 15.6L12.85 16.16C12.78 16.39 12.67 16.6 12.52 16.78C12.37 16.97 12.19 17.12 11.98 17.24ZM5.21 5.92C5.15 5.95 5.09 6 5.06 6.07L4 7.83C3.96 7.91 3.94 8 3.95 8.09C3.96 8.18 4 8.25 4.07 8.32L4.49 8.73C4.57 8.82 4.65 8.91 4.72 9.01C4.78 9.1 4.84 9.21 4.89 9.32C4.93 9.42 4.97 9.54 4.99 9.65C5.01 9.77 5.03 9.88 5.03 10C5.03 10.12 5.01 10.23 4.99 10.35C4.97 10.46 4.93 10.58 4.89 10.68C4.84 10.79 4.78 10.9 4.72 10.99C4.65 11.09 4.57 11.18 4.49 11.27L4.07 11.68C4 11.75 3.96 11.82 3.95 11.91C3.94 12 3.96 12.09 4 12.17L5.05 13.91C5.09 13.99 5.16 14.05 5.25 14.08C5.33 14.12 5.42 14.12 5.52 14.1L6.1 13.96C6.22 13.93 6.33 13.91 6.46 13.9C6.58 13.9 6.7 13.9 6.82 13.92C6.94 13.93 7.06 13.96 7.17 14C7.29 14.04 7.4 14.08 7.5 14.14C7.61 14.2 7.7 14.27 7.8 14.35C7.89 14.42 7.97 14.51 8.04 14.6C8.12 14.69 8.18 14.79 8.24 14.9C8.29 15 8.33 15.11 8.37 15.22L8.53 15.78C8.56 15.87 8.61 15.94 8.68 16C8.76 16.05 8.84 16.08 8.94 16.08L11.04 16.08C11.14 16.08 11.22 16.05 11.3 16C11.37 15.94 11.42 15.87 11.45 15.78L11.61 15.22C11.64 15.11 11.69 15 11.74 14.9C11.8 14.79 11.86 14.69 11.93 14.6C12.01 14.51 12.09 14.42 12.18 14.35C12.27 14.27 12.37 14.2 12.48 14.14C12.58 14.08 12.69 14.04 12.81 14C12.92 13.96 13.04 13.93 13.16 13.92C13.28 13.9 13.4 13.9 13.52 13.9C13.64 13.91 13.76 13.93 13.88 13.96L14.46 14.1C14.55 14.12 14.64 14.12 14.73 14.08C14.82 14.05 14.89 13.99 14.93 13.91L15.99 12.15C16.03 12.07 16.05 11.98 16.04 11.89C16.03 11.8 15.99 11.72 15.92 11.66L15.5 11.25C15.42 11.16 15.34 11.07 15.27 10.97C15.21 10.87 15.15 10.77 15.1 10.66C15.06 10.55 15.02 10.44 15 10.33C14.98 10.21 14.96 10.1 14.96 9.98C14.96 9.86 14.98 9.75 15 9.63C15.02 9.52 15.06 9.4 15.1 9.29C15.15 9.19 15.21 9.08 15.27 8.99C15.34 8.89 15.42 8.8 15.5 8.71L15.92 8.3C15.99 8.23 16.02 8.16 16.04 8.07C16.05 7.97 16.03 7.89 15.99 7.81L14.94 6.07C14.9 5.99 14.83 5.93 14.74 5.9C14.65 5.86 14.57 5.86 14.47 5.88L13.89 6.02C13.77 6.05 13.66 6.07 13.53 6.08C13.41 6.08 13.29 6.08 13.17 6.06C13.05 6.05 12.93 6.02 12.82 5.98C12.7 5.95 12.59 5.9 12.49 5.84C12.38 5.78 12.29 5.71 12.19 5.63C12.1 5.56 12.02 5.47 11.95 5.38C11.87 5.29 11.81 5.19 11.75 5.08C11.7 4.98 11.66 4.87 11.62 4.76L11.46 4.2C11.43 4.11 11.38 4.04 11.31 3.98C11.23 3.93 11.15 3.9 11.05 3.9L8.95 3.9C8.85 3.9 8.77 3.93 8.69 3.98C8.62 4.04 8.57 4.11 8.54 4.2L8.38 4.76C8.35 4.87 8.3 4.98 8.25 5.08C8.19 5.19 8.13 5.29 8.06 5.38C7.98 5.47 7.9 5.56 7.81 5.63C7.72 5.71 7.62 5.78 7.51 5.84C7.41 5.9 7.3 5.95 7.18 5.98C7.07 6.02 6.95 6.05 6.83 6.06C6.71 6.08 6.59 6.08 6.47 6.08C6.35 6.07 6.23 6.05 6.11 6.02L5.53 5.88C5.42 5.85 5.31 5.86 5.21 5.92Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]});function il(e){var t,n;let{showName:a}=e,r=t6.a.useTranslate(),o=(0,nh.F)(),s=(0,nm.L)(e=>e.user),i=(0,Y.useRef)(null),l=(0,Y.useRef)(null),d=(null==s?void 0:null===(t=s.idProfile)||void 0===t?void 0:t.name)||((null==s?void 0:s.email)?sP(s.email):void 0)||((null==s?void 0:s.mobile)?(n=s.mobile,"".concat(n.slice(0,3),"****").concat(n.slice(7,11))):void 0)||"",c=ic(),u=s1();return(0,C.jsx)(sd,{trigger:"click",dropdownMenuComponentRef:i,onSelect:e=>{"settings"===e||"info"===e?c(e):"help"===e?N()?A():k():"logout"===e&&(nu.current=!1,u())},options:[{label:d,key:"info"},{label:r("avartarMenuSettingsOption"),icon:(0,C.jsx)(eP.J,{size:24,children:(0,C.jsx)(ii,{})}),key:"settings"},{label:r("report"),key:"help",icon:(0,C.jsx)(eP.J,{size:24,children:(0,C.jsx)(is,{})})},{label:r("logout"),key:"logout",icon:(0,C.jsx)(eP.J,{size:24,children:(0,C.jsx)(ir,{})})}],placement:"top-start",menuTheme:{fontSize:"var(--ds-font-size-m)",padding:"6px",optionIconMargin:"0",optionLineHeight:"var(--ds-line-height-m)",optionIconSize:"20px",optionPadding:"8px 14px 8px 12px",optionLabelMargin:"0 10px",color:o?"#3A3A46":void 0,optionColorHover:o?"#555562":void 0,optionIconColor:o?"#CDD4DF":void 0},menuDomProps:{onMouseDown(e){e.preventDefault()}},componentRef:l,renderTrigger:e=>{let{domRef:t,domProps:n}=e;return a?(0,C.jsxs)("div",{className:sD.container,...n,ref:t,onClick:()=>{var e,t,n;(null===(e=l.current)||void 0===e?void 0:e.getIsOpen())?null===(n=l.current)||void 0===n||n.setIsOpen(!1):null===(t=l.current)||void 0===t||t.setIsOpen(!0)},children:[(0,C.jsx)("div",{className:sD.userAvatar,children:(0,C.jsx)(id,{})}),(0,C.jsx)("div",{className:sD.username,children:r("siderProfile")})]}):(0,C.jsx)("div",{className:sD.userAvatar,ref:t,...n,onBlur:()=>{var e;null===(e=l.current)||void 0===e||e.setIsOpen(!1)},onKeyDown:e=>{var t,n,a;(null===(t=l.current)||void 0===t?void 0:t.getIsOpen())?null===(a=i.current)||void 0===a||a.handleKeyboardEvent(e):("ArrowDown"===e.key||"Enter"===e.key)&&(null===(n=l.current)||void 0===n||n.setIsOpen(!0))},children:(0,C.jsx)(id,{})})}})}let id=()=>{var e;let[t,n]=(0,Y.useState)(!1),{user:a}=(0,nm.L)();return(null==a?void 0:null===(e=a.idProfile)||void 0===e?void 0:e.picture)&&!t?(0,C.jsx)("img",{className:sD.picture,src:a.idProfile.picture,alt:"","aria-hidden":"true",onError:()=>n(!0)}):(0,C.jsx)(eP.J,{className:sD.userIcon,size:32,children:(0,C.jsx)(io,{})})},ic=()=>{let e=eC();return(0,Y.useCallback)(t=>{let n=e.open({modalProps:{children:(0,C.jsx)(it,{defaultSelectedSection:"settings"===t?"general":"account",onClose:()=>{t6.l.tracker.info({name:"closeSettingModal",message:"关闭设置 modal",payload:{}}),n.close()}})}})},[e])};!function(e){class t{static encodeText(n,a){let r=e.QrSegment.makeSegments(n);return t.encodeSegments(r,a)}static encodeBinary(n,a){let r=e.QrSegment.makeBytes(n);return t.encodeSegments([r],a)}static encodeSegments(e,a){let o,s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,c=!(arguments.length>5)||void 0===arguments[5]||arguments[5];if(!(t.MIN_VERSION<=i&&i<=l&&l<=t.MAX_VERSION)||d<-1||d>7)throw RangeError("Invalid value");for(o=i;;o++){let n=8*t.getNumDataCodewords(o,a),i=r.getTotalBits(e,o);if(i<=n){s=i;break}if(o>=l)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&s<=8*t.getNumDataCodewords(o,e)&&(a=e);let u=[];for(let t of e)for(let e of(n(t.mode.modeBits,4,u),n(t.numChars,t.mode.numCharCountBits(o),u),t.getData()))u.push(e);let h=8*t.getNumDataCodewords(o,a);n(0,Math.min(4,h-u.length),u),n(0,(8-u.length%8)%8,u);for(let e=236;u.length<h;e^=253)n(e,8,u);let p=[];for(;8*p.length<u.length;)p.push(0);return u.forEach((e,t)=>p[t>>>3]|=e<<7-(7&t)),new t(o,a,p,d)}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let a=0;a<t;a++)(0!==n||0!==a)&&(0!==n||a!==t-1)&&(n!==t-1||0!==a)&&this.drawAlignmentPattern(e[n],e[a]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let e=0;e<10;e++)n=n<<1^(n>>>9)*1335;let r=(t<<10|n)^21522;for(let e=0;e<=5;e++)this.setFunctionModule(8,e,a(r,e));this.setFunctionModule(8,7,a(r,6)),this.setFunctionModule(8,8,a(r,7)),this.setFunctionModule(7,8,a(r,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,a(r,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,a(r,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,a(r,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;for(let e=0;e<18;e++){let n=a(t,e),r=this.size-11+e%3,o=Math.floor(e/3);this.setFunctionModule(r,o,n),this.setFunctionModule(o,r,n)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let a=-4;a<=4;a++){let r=Math.max(Math.abs(a),Math.abs(n)),o=e+a,s=t+n;o>=0&&o<this.size&&s>=0&&s<this.size&&this.setFunctionModule(o,s,2!==r&&4!==r)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let a=-2;a<=2;a++)this.setFunctionModule(e+a,t+n,1!==Math.max(Math.abs(a),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let n=this.version,a=this.errorCorrectionLevel;if(e.length!==t.getNumDataCodewords(n,a))throw RangeError("Invalid argument");let r=t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][n],o=t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][n],s=Math.floor(t.getNumRawDataModules(n)/8),i=r-s%r,l=Math.floor(s/r),d=[],c=t.reedSolomonComputeDivisor(o);for(let n=0,a=0;n<r;n++){let r=e.slice(a,a+l-o+(n<i?0:1));a+=r.length;let s=t.reedSolomonComputeRemainder(r,c);n<i&&r.push(0),d.push(r.concat(s))}let u=[];for(let e=0;e<d[0].length;e++)d.forEach((t,n)=>{(e!==l-o||n>=i)&&u.push(t[e])});return u}drawCodewords(e){if(e.length!==Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6===t&&(t=5);for(let r=0;r<this.size;r++)for(let o=0;o<2;o++){let s=t-o,i=(t+1&2)==0?this.size-1-r:r;!this.isFunction[i][s]&&n<8*e.length&&(this.modules[i][s]=a(e[n>>>3],7-(7&n)),n++)}}}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let a;switch(e){case 0:a=(n+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=n%3==0;break;case 3:a=(n+t)%3==0;break;case 4:a=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:a=n*t%2+n*t%3==0;break;case 6:a=(n*t%2+n*t%3)%2==0;break;case 7:a=((n+t)%2+n*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][n]&&a&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let n=0;n<this.size;n++){let a=!1,r=0,o=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[n][s]===a?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,o),a||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),a=this.modules[n][s],r=1);e+=this.finderPenaltyTerminateAndCount(a,r,o)*t.PENALTY_N3}for(let n=0;n<this.size;n++){let a=!1,r=0,o=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][n]===a?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,o),a||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),a=this.modules[s][n],r=1);e+=this.finderPenaltyTerminateAndCount(a,r,o)*t.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let a=0;a<this.size-1;a++){let r=this.modules[n][a];r===this.modules[n][a+1]&&r===this.modules[n+1][a]&&r===this.modules[n+1][a+1]&&(e+=t.PENALTY_N2)}let n=0;for(let e of this.modules)n=e.reduce((e,t)=>e+ +!!t,n);let a=this.size*this.size;return e+(Math.ceil(Math.abs(20*n-10*a)/a)-1)*t.PENALTY_N4}getAlignmentPatternPositions(){if(1===this.version)return[];{let e=Math.floor(this.version/7)+2,t=32===this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6];for(let a=this.size-7;n.length<e;a-=t)n.splice(1,0,a);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let a=1;for(let r=0;r<e;r++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],a),e+1<n.length&&(n[e]^=n[e+1]);a=t.reedSolomonMultiply(a,2)}return n}static reedSolomonComputeRemainder(e,n){let a=n.map(e=>0);for(let r of e){let e=r^a.shift();a.push(0),n.forEach((n,r)=>a[r]^=t.reedSolomonMultiply(n,e))}return a}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let n=0;for(let a=7;a>=0;a--)n=n<<1^(n>>>7)*285^(t>>>a&1)*e;return n}finderPenaltyCountPatterns(e){let t=e[1],n=t>0&&e[2]===t&&e[3]===3*t&&e[4]===t&&e[5]===t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0===t[0]&&(e+=this.size),t.pop(),t.unshift(e)}constructor(e,n,a,r){if((0,aQ._)(this,"version",void 0),(0,aQ._)(this,"errorCorrectionLevel",void 0),(0,aQ._)(this,"size",void 0),(0,aQ._)(this,"mask",void 0),(0,aQ._)(this,"modules",[]),(0,aQ._)(this,"isFunction",[]),this.version=e,this.errorCorrectionLevel=n,e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(r<-1||r>7)throw RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let e=0;e<this.size;e++)o.push(!1);for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();let s=this.addEccAndInterleave(a);if(this.drawCodewords(s),-1===r){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);let n=this.getPenaltyScore();n<e&&(r=t,e=n),this.applyMask(t)}}this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}}function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let a=t-1;a>=0;a--)n.push(e>>>a&1)}function a(e,t){return(e>>>t&1)!=0}(0,aQ._)(t,"MIN_VERSION",1),(0,aQ._)(t,"MAX_VERSION",40),(0,aQ._)(t,"PENALTY_N1",3),(0,aQ._)(t,"PENALTY_N2",3),(0,aQ._)(t,"PENALTY_N3",40),(0,aQ._)(t,"PENALTY_N4",10),(0,aQ._)(t,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,aQ._)(t,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]),e.QrCode=t;class r{static makeBytes(e){let t=[];for(let a of e)n(a,8,t);return new r(r.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!r.isNumeric(e))throw RangeError("String contains non-numeric characters");let t=[];for(let a=0;a<e.length;){let r=Math.min(e.length-a,3);n(parseInt(e.substr(a,r),10),3*r+1,t),a+=r}return new r(r.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){let t;if(!r.isAlphanumeric(e))throw RangeError("String contains unencodable characters in alphanumeric mode");let a=[];for(t=0;t+2<=e.length;t+=2){let o=45*r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));n(o+=r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),11,a)}return t<e.length&&n(r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,a),new r(r.Mode.ALPHANUMERIC,e.length,a)}static makeSegments(e){return""===e?[]:r.isNumeric(e)?[r.makeNumeric(e)]:r.isAlphanumeric(e)?[r.makeAlphanumeric(e)]:[r.makeBytes(r.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw RangeError("ECI assignment value out of range");if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else if(e<1e6)n(6,3,t),n(e,21,t);else throw RangeError("ECI assignment value out of range");return new r(r.Mode.ECI,0,t)}static isNumeric(e){return r.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return r.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let a of e){let e=a.mode.numCharCountBits(t);if(a.numChars>=1<<e)return 1/0;n+=4+e+a.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!==e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}constructor(e,t,n){if((0,aQ._)(this,"mode",void 0),(0,aQ._)(this,"numChars",void 0),(0,aQ._)(this,"bitData",void 0),this.mode=e,this.numChars=t,this.bitData=n,t<0)throw RangeError("Invalid argument");this.bitData=n.slice()}}(0,aQ._)(r,"NUMERIC_REGEX",/^[0-9]*$/),(0,aQ._)(r,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+./:-]*$/),(0,aQ._)(r,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"),e.QrSegment=r}(m||(m={})),function(e){class t{constructor(e,t){(0,aQ._)(this,"ordinal",void 0),(0,aQ._)(this,"formatBits",void 0),this.ordinal=e,this.formatBits=t}}(0,aQ._)(t,"LOW",new t(0,1)),(0,aQ._)(t,"MEDIUM",new t(1,0)),(0,aQ._)(t,"QUARTILE",new t(2,3)),(0,aQ._)(t,"HIGH",new t(3,2)),e.Ecc=t}((u=m||(m={})).QrCode||(u.QrCode={})),function(e){class t{numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}constructor(e,t){(0,aQ._)(this,"modeBits",void 0),(0,aQ._)(this,"numBitsCharCount",void 0),this.modeBits=e,this.numBitsCharCount=t}}(0,aQ._)(t,"NUMERIC",new t(1,[10,12,14])),(0,aQ._)(t,"ALPHANUMERIC",new t(2,[9,11,13])),(0,aQ._)(t,"BYTE",new t(4,[8,16,16])),(0,aQ._)(t,"KANJI",new t(8,[8,10,12])),(0,aQ._)(t,"ECI",new t(7,[0,0,0])),e.Mode=t}((h=m||(m={})).QrSegment||(h.QrSegment={}));let iu={L:m.QrCode.Ecc.LOW,M:m.QrCode.Ecc.MEDIUM,Q:m.QrCode.Ecc.QUARTILE,H:m.QrCode.Ecc.HIGH};function ih(e){let{value:t,color:n="#000",backgroundColor:a="#FFF",iconSrc:r,iconSize:o=40,iconBackgroundColor:s="#FFF",iconBorderRadius:i=4,size:l=100,padding:d,errorCorrectionLevel:c="M",type:u="canvas",className:h,style:p,svgDomProps:g,canvasDomProps:f,domProps:v}=e,x=(0,Y.useRef)(null),E=(0,Y.useMemo)(()=>m.QrCode.encodeText(null!=t?t:"",iu[c]),[c,t]),y=(0,Y.useMemo)(()=>"svg"===u?function(e,t,n,a){let r=e.getModules(),o=r.length,s="",i='<path fill="transparent" d="M0,0 h'.concat(o,"v").concat(o,'H0z" shape-rendering="crispEdges"></path>'),l='<path fill="'.concat(t,'" d="').concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach(function(e,a){let r=null;e.forEach(function(o,s){if(!o&&null!==r){n.push("M".concat(r+t," ").concat(a+t,"h").concat(s-r,"v1H").concat(r+t,"z")),r=null;return}if(s===e.length-1){if(!o)return;null===r?n.push("M".concat(s+t,",").concat(a+t," h1v1H").concat(s+t,"z")):n.push("M".concat(r+t,",").concat(a+t," h").concat(s+1-r,"v1H").concat(r+t,"z"));return}o&&null===r&&(r=s)})}),n.join("")}(r,0),'" shape-rendering="crispEdges"></path>'),d="";if(a){let{iconSrc:e,iconSize:t}=a,s=Math.floor(.1*n),i=o/n,l=(t||s)*i,c=(t||s)*i,u=r.length/2-c/2,h=r.length/2-l/2;d+='<image href="'.concat(e,'" width="').concat(c,'" height="').concat(l,'" x="').concat(u,'" y="').concat(h,'" preserveAspectRatio="none"></image>')}return s+=i,s+=l,{innerHtml:s+=d,numCells:o}}(E,n,l,r?{iconSrc:r,iconSize:o,iconBackgroundColor:s,iconBorderRadius:i}:null):null,[n,s,i,o,r,E,l,u]),b=(0,ec.$0)(()=>{!function(e,t,n,a,r,o){let s=t.current;if(!s)return;let i=2*n,l=i/e.size;s.width=i,s.height=i;let d=s.getContext("2d");if(d){d.clearRect(0,0,s.width,s.height);for(let t=0;t<e.size;t++)for(let n=0;n<e.size;n++){d.fillStyle=e.getModule(n,t)?a:r;let o=Math.floor(n*l),s=Math.ceil((n+1)*l),i=Math.floor(t*l),c=Math.ceil((t+1)*l);d.fillRect(o,i,s-o,c-i)}if(o){var c,u,h,p,g,m;let{icon:e,iconBackgroundColor:t,iconBorderRadius:n,iconSize:a}=o,r=2*a,i=(s.width-r)/2,l=(s.height-r)/2;d.fillStyle=t,d.beginPath(),c=d,u=i,h=l,p=r,g=r,m=2*n,c.beginPath(),c.moveTo(u+m,h),c.lineTo(u+p-m,h),c.arcTo(u+p,h,u+p,h+m,m),c.lineTo(u+p,h+g-m),c.arcTo(u+p,h+g,u+p-m,h+g,m),c.lineTo(u+m,h+g),c.arcTo(u,h+g,u,h+g-m,m),c.lineTo(u,h+m),c.arcTo(u,h,u+m,h,m),c.closePath(),d.fill();let f=e.width/e.height,C=f>=1?r:r*f,v=f<=1?r:r/f,x=i+(r-C)/2,E=l+(r-v)/2;d.drawImage(e,x,E,C,v)}}}(E,x,l,n,a,r&&_?{icon:_,iconSize:o,iconBackgroundColor:s,iconBorderRadius:i}:null)}),_=(0,Y.useMemo)(()=>{if("canvas"===u&&r){let e=new Image;return e.src=r,e.onload=()=>{b()},e}return null},[u,r,b]),w=(0,Y.useMemo)(()=>y?(0,C.jsx)("svg",{height:l,width:l,viewBox:"0 0 ".concat(y.numCells," ").concat(y.numCells),role:"img",dangerouslySetInnerHTML:{__html:y.innerHtml},...g}):null,[l,y,g]);(0,Y.useLayoutEffect)(()=>{"canvas"===u&&b()},[u,t,b]);let S=(0,Y.useMemo)(()=>"canvas"===u?(0,C.jsx)("canvas",{ref:x,style:{width:"".concat(l,"px"),height:"".concat(l,"px")},...f}):null,[f,l,u]);return(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-qr-code"),h,null==v?void 0:v.className),style:{padding:"number"==typeof d?"".concat(d,"px"):d,backgroundColor:a,width:"".concat(l,"px"),height:"".concat(l,"px"),boxSizing:"content-box",...null==v?void 0:v.style,...p},children:[w,S]})}let ip=(0,Y.memo)(function(e){let{enabled:t,disabled:n,onToggle:a,tooltipText:r}=e,o=t6.a.useTranslate(),s=(0,nh.F)(),i=(0,C.jsx)(ig,{color:a5(s,t,n).textColor||""});return(0,C.jsx)(a2,{placement:"right",enabled:t,disabled:n,onToggle:a,icon:i,tooltipText:r,rightSlot:null,text:o("search")})}),ig=e=>{let{color:t}=e;return(0,C.jsx)(eP.J,{size:17,style:{color:t},children:(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("circle",{cx:"10",cy:"10",r:"9",stroke:"currentColor",strokeWidth:"1.8"}),(0,C.jsx)("path",{d:"M10 1c1.657 0 3 4.03 3 9s-1.343 9-3 9M10 19c-1.657 0-3-4.03-3-9s1.343-9 3-9M1 10h18",stroke:"currentColor",strokeWidth:"1.8"})]})})},im=(0,C.jsxs)("svg",{width:"36",height:"16",viewBox:"0 0 36 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("rect",{width:"36",height:"16",rx:"8",fill:"url(#paint0_linear_5707_2640)",fillOpacity:".85"}),(0,C.jsx)("path",{d:"M7.113 4.86h1.1l3.65 5.31h.04V4.86h1.09V12h-1.06l-3.69-5.37h-.04V12h-1.09V4.86zm7.285 0h5.13v.93h-4.04v2.08h3.8v.93h-3.8v2.27h4.21V12h-5.3V4.86zm5.756 0h1.23l1.39 5.56h.04l1.46-5.56h1.14l1.46 5.56h.04l1.39-5.56h1.23L27.475 12h-1.16l-1.45-5.51h-.04L23.375 12h-1.17l-2.05-7.14z",fill:"#fff"}),(0,C.jsx)("defs",{children:(0,C.jsxs)("linearGradient",{id:"paint0_linear_5707_2640",y1:"8",x2:"36",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,C.jsx)("stop",{stopColor:"#4D6BFE"}),(0,C.jsx)("stop",{offset:"1",stopColor:"#6948D6"})]})})]});var iC=n(83815);let iv=()=>{let e=(0,nh.F)(),t=t6.a.useTranslate();return(0,C.jsx)(af.u,{theme:{backgroundColor:e?void 0:"#fff"},showShadow:!0,renderTrigger:e=>{let{domProps:n,domRef:a}=e;return(0,C.jsxs)("div",{className:iC.mobileApp,ref:a,...n,onClick:()=>{t6.l.isMobile&&no(),n.onClick()},children:[(0,C.jsx)(eP.J,{size:20,style:{marginRight:8},children:nc.T0}),t("downloadAppInMobile"),(0,C.jsx)("span",{className:iC.new,children:im})]})},children:(0,C.jsx)(ix,{})})},ix=()=>{let e=t6.a.useTranslate();return(0,C.jsxs)("div",{className:iC.tooltipContent,children:[(0,C.jsx)(ih,{size:160,className:iC.qrCode,value:nr,iconSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHZpZXdCb3g9IjAgMCA4NCA4NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNzcyNl8xNDk1KSI+PHBhdGggZD0iTTc2LjM5IDIwLjQ3MmMtLjczOC0uMzY3LTEuMDcuMzQ5LTEuNDc1LjY5OC0uMTQ0LjEzMS0uMjguMjcyLS40MDYuNDIyLTEuMDE0IDEuMzA0LTIuMzYgMS45MjgtNC4wMDIgMS44NzMtMi41MjYtLjE4NC00LjYyOC42OC02LjMyNSAyLjU3LS4yOTUtMi4yNzYtMS41MTItMy44MzctMy42MzMtNC42NjNhNi4zNDIgNi4zNDIgMCAwIDEtMi43ODQtMS45NjUgNy42MTQgNy42MTQgMCAwIDEtLjg4NS0yLjMzMWMtLjE2Ni0uNDc4LS4zMTQtLjk3My0uODY3LTEuMDY1LS41MzUtLjA5Mi0uODEuNDIyLTEuMDMyLjg0NC0uODg2IDEuNzI2LTEuMjkgMy41OC0xLjIzNiA1LjU0NWExMS45OTMgMTEuOTkzIDAgMCAwIDEuNDAxIDUuODAyIDExLjYzIDExLjYzIDAgMCAwIDMuOTY1IDQuNDI0Yy40MjQuMjAyLjU1My41MzMuMzcuOTczLS4yNC44NDUtLjUxNyAxLjY3LS43NTcgMi40OTctLjE2Ni41Ny0uNDI0LjY2LS45NzcuNDRhMTUuODk2IDE1Ljg5NiAwIDAgMS01LjA3Mi0zLjU0MiA4Mi44NSA4Mi44NSAwIDAgMC03LjU3OS03LjQ1NWMtLjY2My0uNDk1LTEuMzA5LS45NzItMi4wMS0xLjQxMy0yLjkzMi0yLjg4My4zODgtNS4yNTEgMS4xMjUtNS41MjYuNzU2LS4yOTQuMjc3LTEuMzA0LTIuMjY4LTEuMjg2YTIxLjE5IDIxLjE5IDAgMCAwLTcuODM3IDIuMDU3Yy0uNDQyLjE3My0uODk5LjMwOC0xLjM2NS40MDRhMjYuMzc3IDI2LjM3NyAwIDAgMC04LjQwOS0uMjk0Yy01LjU2OS41NjktOS45NCAzLjE5NC0xMy4xMSA3Ljg5NS0zLjgzNyA1LjU2My01LjA1NCAxMS42NzYtMy42NyAxOC4zMjMgMS4xNjEgNi45MiA0LjQyNSAxMi41OTUgOS43OTEgMTcuMDM3IDUuMzg1IDQuNzc0IDExLjYzNiA2Ljk0IDE4Ljc5MSA2LjQ0NSA1LjU1IDAgMTAuNC0xLjg3MyAxNC41NjgtNS42YTEzLjExOCAxMy4xMTggMCAwIDAgNS4yIDEuMTkzYzEuNjguMTI5IDMuMzIgMCA0Ljk2LS4zODUgMi4xNTgtLjQ2IDIuMDEtMi41MzQgMS4yMTgtMi45LTYuMjg4LTIuOTc1LTQuOTA1LTEuNzgyLTYuMTU5LTIuNzkyIDMuMTktMy45MSA4LjAyMi03Ljk2OCA5LjkwMi0yMS4xMTQuMDc0LS44NDQuMDc0LTEuNjg4IDAtMi41MzMgMC0uNTMzLjExMS0uNzE2LjY4My0uNzlhMTEuNjI1IDExLjYyNSAwIDAgMCA0LjUtMS40ODdjNC4wNzUtMi4yOTUgNS43MTYtNi4wNzcgNi4xMDMtMTAuNTkzLjA1NS0uNjQzLjAwMS0xLjM2LS43MTktMS43MDh6bS0zNS41MTcgNDAuNzRjLTYuMDg1LTQuOTM4LTkuMDM1LTYuNTcyLTEwLjI5LTYuNS0xLjI1My4wNzUtLjk0IDEuNDE1LS42ODIgMi4yOTYuMjQuODA4LjYxIDEuNTQyIDEuMDg4IDIuMjIyLjI1OC4yOTQuMzUuNjI0LjI3NyAxLjAxYTEuMTQ0IDEuMTQ0IDAgMCAxLS42MjcuODI2Yy0xLjk1NSAxLjI0OC01LjM2Ni0uNDIzLTUuNTE0LS41MTQtNC4xMy0yLjQyNC03LjM0LTUuNzQ3LTkuNjQ0LTkuOTctMi4zMDUtNC4yMDQtMy41Ni04LjcwMi0zLjc4LTEzLjUxMiAwLTEuMTU2LjI3NS0xLjU3OCAxLjQ1NS0xLjc4YTEzLjI3NCAxMy4yNzQgMCAwIDEgNC40MjYtLjEzYzYuMjUxLjk1NiAxMS41NjIgMy43MjggMTUuOTMzIDguMzczYTU0Ljk3NiA1NC45NzYgMCAwIDEgNi40MTcgOC43MDMgNDEuNDg3IDQxLjQ4NyAwIDAgMCA3LjIxIDguNzk0Yy44My43MzQgMS42OTcgMS40MTQgMi42IDIuMDM4LTIuMjg2LjI3NS02LjE3Ny4zMy04Ljg3LTEuODU0bC4wMDEtLjAwMnptMi45NS0xOS4zODdjLS4wMTctLjYwNi4yOTYtLjkxOC45MDQtLjkzN2EuNzk2Ljc5NiAwIDAgMSAuMjk2IDBjLjEzLjA1NS4yNC4xMjkuMzUuMjIuMjc3LjMxMy4zMzIuNjQzLjE2NiAxLjAxLS4xNDguMzg2LS40MjQuNTctLjgzLjU4OC0uNTkgMC0uODY4LS4yOTQtLjg4Ni0uODgxem05LjA3NCA0LjgxYTQuNzkzIDQuNzkzIDAgMCAxLTEuNzE1LjQ3NyAzLjQ4MyAzLjQ4MyAwIDAgMS0yLjM0Mi0uNzUyYy0uODQ5LS41MzMtMS4zODMtMS4zMDQtMS42MDUtMi4yOTZhNS42NDcgNS42NDcgMCAwIDEgMC0xLjc2MmMuMjc3LS45LjAzNy0xLjYzNC0uNy0yLjIwM2EyLjg5NiAyLjg5NiAwIDAgMC0yLjAxLS41ODggMS44MzQgMS44MzQgMCAwIDEtLjczOC0uMjM4Yy0uNDk4LS4yNC0uNjA4LS42MDYtLjMzMi0xLjA4NC4xNjYtLjIzOC4zNS0uNDQuNTUzLS42NDIgMS4xMjUtLjU1IDIuMjUtLjU1IDMuMzU2IDBhMTAuMjE4IDEwLjIxOCAwIDAgMSAyLjk1IDIuMzY4IDIwLjk0IDIwLjk0IDAgMCAxIDEuOTkzIDIuNzU0Yy41MzQuNzkuOTc3IDEuNjUyIDEuMjkgMi41Ny4yMDMuNjA3LS4wMTggMS4xMDItLjcgMS4zOTZ6IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNzcyNl8xNDk1KSIvPjwvZz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzcyNl8xNDk1IiB4MT0iNDIuMDYzIiB5MT0iMTYiIHgyPSI0Mi4wNjMiIHkyPSI2OS4yNSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM1RDc4RkUiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzRTVGRkUiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iY2xpcDBfNzcyNl8xNDk1Ij48cGF0aCBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2IDE1KSIgZD0iTTAgMGg3MXY1NEgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",style:{background:"#fff",padding:2}}),e("scanDownloadApp")]})},iE=()=>{let e=(0,nh.F)();return(0,C.jsx)(af.u,{showShadow:!0,theme:{backgroundColor:e?void 0:"#fff"},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,C.jsx)("div",{className:iC.slimMobile,ref:n,...t,children:(0,C.jsx)(eP.J,{size:28,children:nc.T0})})},children:(0,C.jsx)(ix,{})})};var iy=n(29617);function ib(e){let{collapsed:t}=e;return(0,C.jsxs)("div",{className:iy.bar,children:[(0,C.jsx)(iv,{}),(0,C.jsx)(il,{showName:!0,collapsed:t})]})}let i_=e=>n.e("268").then(n.bind(n,65158)).then(t=>t.i[e]),iw=e=>{let{name:t,props:n}=e,[a,r]=(0,Y.useState)(null);return((0,Y.useEffect)(()=>{let e=!0;return Promise.resolve(i_(t)).then(t=>{e&&r(t||(()=>null))}).catch(e=>{t6.l.logger.warn("load dynamic component error",e)}),()=>{e=!1}},[t]),a)?(0,C.jsx)(a,{...n}):null};var iS=n(94618);function iI(e){let{className:t,collapsed:n,setCollapsed:a}=e,r=(0,Y.useMemo)(()=>(0,C.jsx)(s_,{onSelectSession:()=>{t6.l.isMobile&&a(!0)}}),[a]),o=(0,Y.useMemo)(()=>(0,C.jsx)(sk,{collapsed:n,onCollapsedChange:a}),[n,a]);return(0,C.jsxs)("div",{className:(0,er.Z)(iS.sider,t),children:[o,(0,C.jsxs)("div",{className:iS.buttonLine,children:[(0,C.jsx)(sO,{onClick:()=>{t6.l.isMobile&&a(!0)}}),(0,C.jsx)(iw,{name:"CharacterEntryButton",props:{}})]}),r,(0,C.jsx)(ib,{collapsed:n})]})}function iT(){let e=t6.a.useTranslate(),t=na(),n=(0,nh.F)(),a=nn(ns.ROOT);return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domProps:r,domRef:o}=e;return(0,C.jsx)(eF.h,{domProps:r,domRef:o,theme:{size:"28px",textColor:n?"#ABB2BD":void 0},onClick:()=>{a||t(ns.ROOT)},children:(0,C.jsx)(nc.dY,{})})},children:e("agentSelectionCreateSessionTooltip")})}var iM=n(27189);function ij(e){let{className:t,setCollapsed:n,collapsed:a}=e;return(0,C.jsxs)("div",{className:(0,er.Z)(t,iM.sider),children:[(0,C.jsx)(eP.J,{size:44,style:{cursor:"pointer"},domProps:{onClick:()=>{n(!1)}},children:(0,C.jsx)(nc.ug,{})}),(0,C.jsx)("div",{style:{marginTop:38,display:"flex"},children:(0,C.jsx)(sI,{size:"28px",collapsed:!0,onCollapsedChange:()=>{n(!1)}})}),(0,C.jsx)("div",{style:{marginTop:38,display:"flex"},children:(0,C.jsx)(iT,{})}),(0,C.jsx)("div",{style:{flex:1}}),(0,C.jsx)(iE,{}),(0,C.jsx)(il,{showName:!1,collapsed:a})]})}let ik={sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)",xl:"(min-width: 1280px)","2xl":"(min-width: 1536px)","3xl":"(min-width: 1920px)"},iA=(0,e6.Ue)(e=>({screenWidthBreakpointMap:{sm:!1,md:!1,lg:!1,xl:!1,"2xl":!1,"3xl":!1},setScreenWidthBreakpointMap:(t,n)=>e(e=>({screenWidthBreakpointMap:{...e.screenWidthBreakpointMap,[t]:n}}))})),iR=(e,t)=>{let n=window.matchMedia(e);t(n.matches);let a=e=>{let{matches:n}=e;t(n)};return n.addListener(a),()=>n.removeListener(a)},iN=!1,iL=()=>{if(iN)return;iN=!0;let e=new Set;for(let[t,n]of Object.entries(ik)){let a=iR(n,e=>{iA.getState().setScreenWidthBreakpointMap(t,e)});e.add(a)}return()=>{iN=!1,e.forEach(e=>e()),e.clear()}},iF=()=>iA(e=>!e.screenWidthBreakpointMap.lg),iO=()=>iA(e=>{let t=e.screenWidthBreakpointMap;return t.md&&!t.lg}),iP=()=>iA(e=>e.screenWidthBreakpointMap["3xl"]);var iD=n(53619);let iB=e=>()=>!!e||t6.l.getLastSessionValue().siderCollapsed,iz=(0,Y.memo)(function(e){let{componentRef:t}=e,n=(0,H.cm)(),a=(0,H.uF)(),r=iO(),[o,s]=(0,Y.useState)(iB(r)),[i,l]=(0,Y.useState)(iB(r)),d=(0,Y.useCallback)(e=>{t6.l.setLastSessionValue(t=>({...t,siderCollapsed:e})),s(e)},[]);iH({searchViewController:a,previewController:n,closeMenu:(0,Y.useCallback)(()=>d(!0),[d]),collapsed:o}),(0,Y.useImperativeHandle)(t,()=>({setCollapsed:d}));let c=(0,Y.useRef)();return(0,Y.useEffect)(()=>{clearInterval(c.current),o?c.current=setTimeout(()=>{l(!0)},100):l(!1)},[o]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:(0,er.Z)(iD.sider,o&&iD.collapsed),children:[o&&(0,C.jsx)(ij,{className:(0,er.Z)(iD.slimSider,!i&&iD.hide),collapsed:o,setCollapsed:d}),(0,C.jsx)(iI,{className:(0,er.Z)(iD.wideSider,o&&iD.hide),collapsed:o,setCollapsed:d})]}),(0,C.jsx)("div",{className:(0,er.Z)(iD.mask,o&&iD.transparent),onClick:()=>{d(!0)}})]})}),iH=e=>{let{searchViewController:t,previewController:n,closeMenu:a,collapsed:r}=e,o=iF(),s=(0,Y.useRef)(o);s.current=o;let i=!iP(),l=(0,Y.useRef)(i);l.current=i;let d=aA(e=>e.visible),c=aA(e=>e.close);(0,Y.useEffect)(()=>{t.listenSearch(()=>{s.current&&a()})},[t,a]),(0,Y.useEffect)(()=>{n.listenPreview(()=>{l.current&&a()})},[n,a]),(0,Y.useEffect)(()=>{d&&l.current&&a()},[d,a]),(0,Y.useEffect)(()=>{!r&&s.current&&t.closeSearchView()},[r,t]),(0,Y.useEffect)(()=>{!r&&l.current&&(n.closePreview(),c())},[r,n,c]),(0,Y.useEffect)(()=>{o&&a()},[o,a])};var iU=n(25388);function iV(e){return"".concat(e," - DeepSeek")}let iW=(0,e6.Ue)(()=>({title:null})),iG=e=>{e&&(document.title=iV(e)),iW.setState({title:e})};function iZ(){let e=t6.a.useTranslate(),t=iW(e=>e.title);return(0,C.jsx)(iU.q,{children:(0,C.jsx)("title",{children:t?iV(t):"DeepSeek - ".concat(e("chatHtmlTitle"))})})}var iq=n(12140);let iY={flex:1,minWidth:0,display:"flex",justifyContent:"center",alignContent:"center",zIndex:12};function iK(){let e=H.aK.getState().renameSession,t=(0,nh.F)(),n=t6.a.useTranslate(),a=(0,e9.pm)(),r=nn(ns.AGENT_SESSION),o=(0,H.aK)(e=>{let t=null==r?void 0:r.params.sessionId;return t&&e.getSession(t)?t:null}),s=(0,H.aK)(e=>{if(!o)return!1;let t=e.getSession(o);return!!t&&(t.state===H.HL.SessionStateEnum.idleWithNoHistory||t.state===H.HL.SessionStateEnum.fetchingHistory)}),i=su(o);iG(null==i?void 0:i.title);let[l,d]=(0,Y.useState)(!1),c=(0,Y.useRef)(null);(0,Y.useEffect)(()=>{if(l){var e;null===(e=c.current)||void 0===e||e.focus()}},[l]);let u=()=>{if(o){if(c.current){var t;e(o,null===(t=c.current)||void 0===t?void 0:t.value).then(e=>{d(!1),e.success||a.error(n("renameFailed"))})}else d(!1)}};return o&&(s?(0,C.jsx)("div",{style:iY,children:(0,C.jsx)(tc.O,{className:iq.skeleton,style:{width:180,height:24},variant:"text"})}):(0,C.jsx)("div",{style:iY,children:l?(0,C.jsx)(eO,{maxLength:32,onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u()},autosize:!0,defaultValue:(null==i?void 0:i.title)||n("untitledChat"),style:{maxWidth:"100%"},variant:"bordered",inputDomRef:c,theme:{height:"40px",fontWeight:"600",textColor:t?"#fff":"#000",focusBorderColor:t?"#4D6BFE":void 0,focusColor:t?"#32333E":void 0,lineHeight:"24px",fontSize:"14px",padding:"0 12px"}}):(0,C.jsx)("div",{className:iq.modelName,tabIndex:0,style:{outline:"none"},onFocus:()=>{d(!0)},onClick:()=>{d(!0)},children:(0,C.jsx)(sh,{sessionId:o})})}))}let iQ=(0,Y.memo)(function(){return null});function iX(){let e=nn(ns.ROOT),t=nn(ns.AGENT),n=nn(ns.AGENT_SESSION),a=(null==t?void 0:t.params.agentId)||"";return t?{type:"agent",agentId:a}:e?{type:"agent",agentId:H.HL.AgentId.CHAT}:n?{type:"session",agentId:a,sessionId:n.params.sessionId||""}:{type:"none"}}var iJ=n(38168);let i$=e=>{let{fallback:t}=e,{agentId:n,isCharacterNewChat:a}=oZ(),{character:r}=(0,H.dQ)().hooks.useCharacterAuto(n),o=na();return!r||a?t:(0,C.jsx)(af.u,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:s}=e;return(0,C.jsx)("div",{className:iJ.characterInHeader,...t,ref:(0,os.l)(n,s),onClick:()=>{!a&&o(ns.AGENT,{agentId:r.id})},children:null==r?void 0:r.name})},children:null==r?void 0:r.name})};var i1=n(80565);let i0=()=>{let e=t6.a.useTranslate();return t6.l.isMobile?(0,C.jsxs)("div",{className:i1.mobileApp,onClick:no,children:[(0,C.jsx)(eP.J,{size:18,style:{color:"var(--dsr-icon-fg-1)",marginRight:4},children:nc.T0}),e("downloadAppInMobile")]}):null},i2=()=>{let e=(0,nh.F)();return(0,C.jsx)(eP.J,{height:22,style:{color:e?"#cdd4df":"#262626"},children:(0,C.jsx)(nc.vi,{})})},i3=(0,Y.memo)(function(e){let{onMenuClick:t,className:n}=e,a=na(),r=iX(),o=(0,nh.F)(),s=(0,Y.useMemo)(()=>"session"===r.type?(0,C.jsx)(iK,{}):(0,C.jsx)(iQ,{}),[r.type]),i=nn(ns.ROOT);return(0,C.jsxs)("div",{className:(0,er.Z)(i1.messageListHeader,n),children:[(0,C.jsxs)("div",{className:i1.sessionHeader,children:[(0,C.jsx)(i$,{}),s,(0,C.jsx)("div",{className:i1.headerMask})]}),(0,C.jsxs)("div",{className:i1.mobileHeader,children:[(0,C.jsx)(eP.J,{size:24,domProps:{onClick:t},style:{color:o?"#cdd4df":"#8b8b8b"},className:(0,er.Z)(i1.iconButton,i1.left),children:i5}),(0,C.jsx)(i$,{fallback:window?(0,C.jsx)(i0,{}):(0,C.jsx)(i2,{})}),(0,C.jsx)(eP.J,{size:24,style:{color:o?"#cdd4df":"#8b8b8b"},className:(0,er.Z)(i1.iconButton,i1.right),domProps:{onClick:()=>{i||(t6.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"mobile_top_right",isCharacterChatPage:"false",agentId:""}}),a(ns.ROOT))}},children:nc.Ll})]})]})}),i5=(0,C.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M23.7222 4H4.27776C3.57207 4 3 4.57207 3 5.27776C3 5.98345 3.57207 6.55553 4.27776 6.55553H23.7222C24.4279 6.55553 25 5.98345 25 5.27776C25 4.57207 24.4279 4 23.7222 4Z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M14.7593 12.8887H4.27776C3.57207 12.8887 3 13.4607 3 14.1664C3 14.8721 3.57207 15.4442 4.27776 15.4442H14.7593C15.465 15.4442 16.037 14.8721 16.037 14.1664C16.037 13.4607 15.465 12.8887 14.7593 12.8887Z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M23.7222 21.7334H4.27776C3.57207 21.7334 3 22.3055 3 23.0112C3 23.7169 3.57207 24.2889 4.27776 24.2889H23.7222C24.4279 24.2889 25 23.7169 25 23.0112C25 22.3055 24.4279 21.7334 23.7222 21.7334Z",fill:"currentColor"})]});var i4=n(62521),i9=n(63439),i6=n(60655);let i7=(0,Y.memo)(function(e){let{onClose:t,children:n,className:a,name:r}=e;return(0,C.jsx)(i9.rq,{onClose:t,className:(0,er.Z)(i6.container,a),title:(0,C.jsx)(af.u,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:a}=e;return(0,C.jsx)("div",{role:"heading",...t,ref:(0,os.l)(n,a),children:r})},children:r}),children:n})}),i8=()=>(0,Y.lazy)(()=>Promise.all([n.e("553"),n.e("884")]).then(n.bind(n,38886)).then(e=>({default:e.PreviewAll}))),le=(0,Y.memo)(function(){let e=(0,H.cm)(),t=e.hooks.useCurrentPreviewInfo(),n=aA();return t?(0,C.jsx)(lt,{type:t.type,onClose:()=>e.closePreview(),name:t.name,url:t.url}):n.visible?(0,C.jsx)(lt,{type:"html",onClose:n.close,name:n.title||"HTML",code:n.code}):null}),lt=(0,Y.memo)(function(e){let[t,n]=(0,Y.useState)(0),a=(0,Y.useMemo)(i8,[t]);return(0,C.jsx)(t6.l.ErrorBoundary,{renderFallback:a=>{let{error:r,reset:o}=a;return(0,C.jsx)(ln,{error:r,onReset:()=>{n(t+1),o()},onClose:()=>e.onClose()})},onError:e=>{t6.l.tracker.error({name:"previewAllFailed",message:"触发预览 Error Boundary",payload:t6.l.withError(e,{pathname:location.pathname})})},children:(0,C.jsx)(i7,{...e,children:(0,C.jsx)(Y.Suspense,{fallback:null,children:(0,C.jsx)(a,{...e},t)})})})});function ln(e){let{error:t,onReset:n,onClose:a,className:r}=e,o=t6.a.useTranslate(),s=t6.l.useIsDebug();return(0,C.jsx)("div",{className:(0,er.Z)(i4.errorContainer,r),children:(0,C.jsxs)("div",{className:i4.main,children:[(0,C.jsx)("div",{className:i4.title,children:o("errorPageTitle")}),s?(0,C.jsx)("pre",{className:i4.error,children:JSON.stringify((0,nf.Xy)(t),null,2)}):null,(0,C.jsxs)("div",{className:i4.action,children:[(0,C.jsx)(e4.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{n()},children:o("errorPageReloadButton")}),(0,C.jsx)(e4.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{a()},children:o("cancel")})]})]})})}var la=n(89940);let lr=(0,Y.memo)(function(){let e=(0,H.uF)(),t=e.hooks.useShowingSearchResult(),n=t6.a.useTranslate(),a=!!t.length,r=(0,Y.useCallback)(()=>e.closeSearchView(),[e]),o=(0,Y.useRef)(a);return((0,Y.useEffect)(()=>{!a&&o.current&&r(),o.current=a},[r,a]),a)?(0,C.jsx)(i9.rq,{className:(0,er.Z)(la.container,"scrollable"),onClose:r,title:n.searchResult,children:(0,C.jsx)("div",{className:la.content,children:t.map((t,n)=>(0,C.jsx)(rc,{searchResult:t,index:n+1,className:la.item,messageIndex:e.getShowingSearchView()||{sessionId:"",messageId:-1}},t.url))})}):null});var lo=n(58325);function ls(e){let t,n,{children:a,className:r,type:o,showIcon:s=!1,bordered:i=!0,style:l}=e;switch(o){case"warning":t="".concat(J.F,"-alert__icon--warning"),n=(0,C.jsx)(e9.aN,{});break;case"success":t="".concat(J.F,"-alert__icon--success"),n=(0,C.jsx)(e9.tm,{});break;case"info":t="".concat(J.F,"-alert__icon--info");break;default:t="".concat(J.F,"-alert__icon--error"),n=(0,C.jsx)(e9.Pz,{})}return(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-alert"),"".concat(J.F,"-alert--").concat(o),i&&"".concat(J.F,"-alert--bordered"),r),style:l,children:[s?(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-alert__icon"),t),children:n}):null,(0,C.jsx)("div",{className:"".concat(J.F,"-alert__content"),children:a})]})}n(32815);let li=e=>({zh_CN:"YYYY [年] M [月] D [日] HH:mm",en_US:"MMMM D, YYYY HH:mm"})[e];var ll=n(96706);function ld(e){var t,n,a,r;return e?{token:e.token,id:e.id,email:e.email,mobile:e.mobile||e.mobile_number||"",areaCode:e.area_code||"",status:e.status,idProfile:e.id_profile?e.id_profile:null,featureGates:{},avatarUrl:(null===(t=e.id_profile)||void 0===t?void 0:t.picture)?e.id_profile.picture.replace("s96-c","s".concat(64,"-c")):null,chat:{isMuted:!!(null===(n=e.chat)||void 0===n?void 0:n.is_muted),muteUntil:e.chat?1e3*e.chat.mute_until:0},hasLegacyChatHistory:null!==(a=e.has_legacy_chat_history)&&void 0!==a&&a,needBirthday:null!==(r=e.need_birthday)&&void 0!==r&&r}:null}function lc(e){let{muteUntil:t,className:n}=e,a=t6.a.useTranslate(),r=t6.a.useLocale();return(0,sY.ZP)(H.Yu.users_current,()=>(0,tt.I3)(void 0,{http:t6.l.httpWithCoreType,baseUrl:s$},ld).then(e=>{let{data:{user:t}}=e;return t}),{onSuccess(e){H.aK.getState().setMuted(e.chat)},refreshInterval:12e5}),(0,Y.useEffect)(()=>{t||(0,sY.JG)(H.Yu.users_current)},[t]),(0,C.jsx)("div",{className:(0,er.Z)(ll.input,n),style:{paddingTop:16,paddingBottom:8},children:(0,C.jsx)(ls,{type:"warning",children:a("muteAlert")({muteUntil:t?rs()(t).format(li(r)):"...",renderContactUs(e){let{children:t}=e;return(0,C.jsx)(e4.z,{variant:"text",theme:{textColor:"inherit",ringColor:"currentColor"},style:{textDecoration:"underline"},onClick:()=>{k()},children:t})}})})})}var lu=n(71165);let lh=e=>{let{files:t,status:n,textEmpty:a,currentExceeded:r}=e,o=n!==H.uT.verifying&&(n===H.uT.receiving||("multi"!==t.filesCountScale||!r)&&!!t.isAllReady&&(!t.isEmpty||!a));return{couldSubmit:!!o&&(t.isEmpty?!a:t.isAllReady),submitOrStopButtonUsable:o}},lp=e=>{let{isAllFilesParsed:t,isContainFilesRequireDelete:n,tokenCountState:a,inputValue:r,chatStatus:o,isMobile:s}=e,[i,l]=(0,Y.useState)("none"),d=t6.a.useTranslate(),c=!t,u=!r.trim().length&&"empty"===a.filesCountScale,h=!(c||n)&&!a.isFirstCompletion&&a.currentExceeded&&"single"===a.filesCountScale,p=(0,Y.useRef)(i);p.current=i,(0,Y.useEffect)(()=>{c&&"user"!==p.current&&l("none"),!c&&h&&l("system")},[h,c]);let g=()=>{if(!a.currentExceeded)return null;let{filesCountScale:e,maxTokenNewFilesAllowed:t,filesTokenCount:n}=a;return"multi"!==e?null:t<=0?d("uploadMultipleFileTokenCountExceededPrompt2"):d("uploadMultipleFileTokenCountExceededPrompt")({percent:Math.max(1,Math.floor(t/n*100))+""})},m=(()=>{if(s&&o!==H.uT.idle)return null;if(o===H.uT.receiving)return d("chatInputStopButtonTooltip");if(c)return d("uploadingFiles");if(n)return d("uploadFileDeleteInvalidFilePrompt");let e=g();return e||(h?d("chatInputNewChatButtonTooltip"):s?null:u&&o===H.uT.idle?d("chatInputEmptyPromptButtonTooltip"):null)})(),f="none"!==i&&!!m||s;return{tipText:m,isShowTip:f||void 0,shouldOpenNewChat:h,onTryToSubmit:()=>l("user"),onTriggerClear:()=>l("none")}},lg=e=>{let{filesCountScale:t,enabled:n,t:a}=e;return"empty"!==t?a("deleteFilesToSearchTooltip"):n?"":a("deactivatedSearchTooltip")},lm=async e=>{let t=lf(e),n=(await lC(Array.from(e||[]).map(e=>e.webkitGetAsEntry()),!0)).map(e=>e.file);return n.length>=t.length?n:t},lf=e=>Array.from(e||[]).map(e=>e.getAsFile()).filter(e=>!!e),lC=async(e,t)=>{let n=[],{tracker:a}=t6.l,r=async e=>{for(let o of e)if(o){if(t&&o.isDirectory){let e;let t=o.createReader(),n=[];try{do e=await new Promise((e,n)=>{t.readEntries(e,n)}),n=n.concat(e);while(e.length>0)}catch(e){a.info({name:"dragFileResolveFailed",message:"拖拽文件readEntries方法未成功",payload:a.withError(e,{fileName:o.name,api:"readEntries"})})}await r(n)}else{if(o.isFile)try{let e=await new Promise((e,t)=>{o.file(e,t)});n.push({file:e,entry:o,source:"dnd"})}catch(e){a.info({name:"dragFileResolveFailed",message:"拖拽文件file方法未成功",payload:a.withError(e,{fileName:o.name,api:"file"})})}}}};return await r(e),n},lv=(e,t,n)=>{n.filteredBySize&&e.error(t("uploadMax100MBSize")),n.filteredByName&&e.error(t("dragFileErrorTip")),n.filteredByCount&&e.error(t("uploadMax50Files"))},lx=(e,t)=>{let n=lE(e),a=n.length<e.length,r=ly(n),o=r.length<n.length,s=lb(r,t),i=s.length<r.length;return{files:s,filteredBySize:o,filteredByName:a,filteredByCount:i}},lE=e=>{let t=H.dZ.getAcceptFileTypeList();return e.map(e=>({file:e,ext:(0,H.Dk)(e.name,"lower")})).filter(e=>t.includes(e.ext)).map(e=>e.file)},ly=e=>e.filter(e=>e.size<=H.dZ.maxFileSize),lb=(e,t)=>t+e.length>H.dZ.maxFileCount?[]:e,l_=(e,t,n)=>{let{disable:a,thinkingEnabled:r}=n,o=o0(),s=(0,e9.pm)(),i=t6.a.useTranslate(),l=(0,Y.useCallback)(async e=>{var n;if(a)return;let l=null===(n=e.clipboardData)||void 0===n?void 0:n.items;if(!l||lI(l)||!lS(l))return;e.preventDefault();let d=lx(await lm(l),o.getFilesCount(t));lv(s,i,d),d.files.forEach(e=>{o.addFileAndUpload({file:e,fileBelongInfo:t,thinkingEnabled:r})})},[a,o,t,s,i,r]);(0,Y.useEffect)(()=>{let t=e.current;return null==t||t.addEventListener("paste",l),()=>{null==t||t.removeEventListener("paste",l)}},[l,e])},lw=(e,t,n)=>{let{disable:a,thinkingEnabled:r}=n,o=o0(),s=(0,Y.useRef)(0),i=(0,e9.pm)(),l=t6.a.useTranslate(),d=(0,Y.useCallback)(()=>t(!0),[t]),c=(0,Y.useCallback)(()=>t(!1),[t]),u=(0,Y.useCallback)(async t=>{var n;if(a)return;s.current=0,c(),t.preventDefault();let d=null===(n=t.dataTransfer)||void 0===n?void 0:n.items,u=lx(await lm(d),o.getFilesCount(e));lv(i,l,u),u.files.forEach(t=>{o.addFileAndUpload({file:t,fileBelongInfo:e,thinkingEnabled:r})})},[e,c,l,i,o,a,r]);(0,Y.useEffect)(()=>{let e=document.body;e.addEventListener("drop",u);let t=e=>{e.preventDefault()},n=e=>{e.preventDefault(),a||d(),s.current++},r=e=>{e.preventDefault(),s.current--,0===s.current&&c()};return e.addEventListener("dragover",t),e.addEventListener("dragenter",n),e.addEventListener("dragleave",r),()=>{e.removeEventListener("drop",u),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",r)}},[u,d,c,a])},lS=e=>Array.from(e).some(e=>e.webkitGetAsEntry()||e.getAsFile()),lI=e=>{let t=Array.from(e),n=t.some(e=>"text/plain"===e.type),a=t.some(e=>"image/png"===e.type),r=t.some(e=>"text/rtf"===e.type);return Number(n)+Number(a)+Number(r)>1};var lT=n(56491);let lM=()=>{let e=t6.a.useTranslate();return(0,C.jsx)("div",{className:lT.mask,children:(0,C.jsxs)("div",{className:lT.wrap,children:[(0,C.jsx)(eP.J,{width:46,height:55,children:(0,C.jsx)(lj,{})}),(0,C.jsx)("div",{className:lT.title,children:e("dragFileToUpload")}),(0,C.jsx)("div",{className:lT.desc,children:e("dragFileDesc")})]})})},lj=()=>(0,C.jsxs)("svg",{width:"46",height:"55",viewBox:"0 0 46 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.884V4a2 2 0 0 1 2-2h.186a2 2 0 0 1 2 2v8.884a2.93 2.93 0 0 0 2.93 2.93H39a2 2 0 0 1 2 2V18a2 2 0 0 1-2 2h-8.884A7.116 7.116 0 0 1 23 12.884zM35.5 36.535a2 2 0 0 1 2 2v14a2 2 0 0 1-4 0v-14a2 2 0 0 1 2-2z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.31 34.34a3 3 0 0 1 4.381 0l7.094 7.582a1.9 1.9 0 0 1-2.774 2.596l-4.32-4.617a3 3 0 0 0-4.38 0l-4.322 4.617a1.9 1.9 0 0 1-2.774-2.596l7.096-7.582z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.471 4.14c-3.47 0-6.282 2.78-6.282 6.21v28.982c0 3.43 2.812 6.21 6.282 6.21h9.31a2 2 0 0 1 2 2v.14a2 2 0 0 1-2 2h-9.31C4.688 49.682 0 45.048 0 39.332V10.35C0 4.635 4.688 0 10.471 0h15.301c2.763 0 5.414 1.08 7.375 3.002l7.317 7.176a10.291 10.291 0 0 1 3.097 7.348v10.283a2 2 0 0 1-2 2h-.189a2 2 0 0 1-2-2V17.526a6.174 6.174 0 0 0-1.858-4.409l-7.317-7.175a6.32 6.32 0 0 0-4.425-1.802h-15.3z",fill:"currentColor"})]}),lk=()=>{let e=(0,et.s0)(),t=(0,et.bS)(ns.ROOT),n=(0,Y.useRef)(()=>void 0);n.current=n=>{n.preventDefault(),t||e(ns.ROOT)},(0,Y.useEffect)(()=>{let e=e=>{en.mL&&e.metaKey&&"k"===e.key?n.current(e):!en.mL&&e.ctrlKey&&"k"===e.key&&n.current(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[])};var lA=n(60685);let lR=()=>ry()?(0,C.jsx)("div",{className:lA.scrollToBottomButton,onClick:()=>{on.A.next({method:"clickButtonToScrollToBottom",args:null})},children:(0,C.jsx)(lN,{})}):null,lN=()=>(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",children:(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.00008 2.41429C0.609551 2.02376 0.609551 1.3906 1.00008 1.00008C1.3906 0.609551 2.02376 0.609551 2.41429 1.00007L8.00008 6.58586L13.5859 1.00008C13.9764 0.609551 14.6096 0.609551 15.0001 1.00008C15.3906 1.3906 15.3906 2.02376 15.0001 2.41429L8.8486 8.56576C8.37997 9.03439 7.62018 9.03439 7.15155 8.56576L1.00008 2.41429Z",fill:"currentColor"})}),lL=()=>{let e=(0,et.TH)();return!!(0,nE.LX)(ns.ROOT,e.pathname)},lF=(0,Y.memo)(function(e){let{placeholder:t,status:n,onChange:a,onSubmit:r,onStop:o,onRequestHistoryValue:s,value:i,textareaProps:l,componentRef:d,fileBelongInfo:c,className:u}=e;lk();let h=t6.l.useIsDebug(),[p,g]=(0,Y.useState)(!1),[m,f]=(0,Y.useState)(!1),v=(0,Y.useRef)(null),x=o0(),E=(0,H.J8)(),{thinkingEnabled:y,searchEnabled:b,setThinkingEnabled:_,setSearchEnabled:w}=aw();t6.l.storageHandles.searchEnabledStorageHandle.useState();let S=x.hooks.useIsMaxCount(c),I=x.hooks.useFilesTokenCount(c),T=x.hooks.useIsAllReady(c),M=x.hooks.useIsAllSettled(c),j=x.hooks.useIsContainFilesRequireDelete(c),k=x.hooks.useFilesCountScale(c),A=lL(),R=E.hooks.useBranchAndProcessingFilesTokenCount(c),N=E.hooks.useIsProcessingTokenCountExceeded(c,{searchEnabled:b}),L=E.hooks.useIsFirstCompletion(c),F=E.hooks.useMaxTokenNewFilesAllowed(c,{searchEnabled:b}),O="empty"!==k,P=lp({isAllFilesParsed:M,isContainFilesRequireDelete:j,tokenCountState:{currentExceeded:N,filesCountScale:k,isFirstCompletion:L,maxTokenNewFilesAllowed:F,filesTokenCount:I},inputValue:i,chatStatus:n,isMobile:t6.l.isMobile}),{shouldOpenNewChat:D}=P,{isComposingRef:B,onCompositionStart:z,onCompositionEnd:U}=oa(),V=(0,Y.useRef)(null),W=n===H.uT.verifying,{couldSubmit:G,submitOrStopButtonUsable:Z}=lh({status:n,textEmpty:0===i.trim().length,currentExceeded:N,files:{containFilesRequireDelete:j||"multi"===k&&N,isAllReady:T,isEmpty:"empty"===k,isMaxCount:S,filesCountScale:k}}),q=t6.a.useTranslate(),K=(0,Y.useCallback)(e=>{n===H.uT.idle&&G?r(i.trim(),{newChat:D,thinkingEnabled:y,searchEnabled:b}):"enter"===e&&P.onTryToSubmit()},[n,G,r,D,P,i,y,b]),Q=n===H.uT.idle?"send":n===H.uT.verifying?"loading":"stop";(0,Y.useImperativeHandle)(d,()=>({focus:()=>{var e;null===(e=V.current)||void 0===e||e.focus()}}),[]),l_(V,c,{disable:b,thinkingEnabled:y}),lw(c,g,{disable:b,thinkingEnabled:y});let X=(0,Y.useMemo)(()=>(0,C.jsx)(o3,{disabledByChatting:W||S,fileBelongInfo:c,onBeforeChooseFile:()=>P.onTriggerClear()}),[c,S,P,W]),J=(0,Y.useMemo)(()=>(0,C.jsxs)("div",{className:lu.textareaAlignWrapper,children:[(0,C.jsx)("textarea",{...l,className:lu.textarea,ref:V,onFocus:()=>f(!0),onBlur:()=>f(!1),placeholder:t,rows:2,value:i,readOnly:n===H.uT.verifying&&A,onChange:e=>{a(e.currentTarget.value)},onKeyDown:e=>{if(P.onTriggerClear(),!B.current){if("ArrowUp"===e.key&&!i.length){s(),e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){if(e.ctrlKey){e.preventDefault(),document.execCommand("insertText",!1,"\n");return}t6.l.isMobile||(e.preventDefault(),K("enter"))}}},onCompositionStart:z,onCompositionEnd:U}),(0,C.jsx)("div",{className:lu.textareaMirror,children:i+"\n"})]}),[n,B,A,a,U,z,s,t,l,P,K,i]),$=lg({t:q,filesCountScale:k,enabled:b}),ee=(0,Y.useMemo)(()=>(0,C.jsx)(lO,{icon:Q,disabled:!Z,extraTooltip:P.tipText,showNewChat:D,showTooltip:P.isShowTip,onMouseDown:e=>{var t;e.preventDefault(),null===(t=V.current)||void 0===t||t.focus()},onMouseLeave:()=>P.onTriggerClear(),onClick:()=>{var e;n===H.uT.receiving?o():K("click"),null===(e=V.current)||void 0===e||e.focus()}}),[Q,n,o,D,Z,P,K]);return(0,C.jsxs)("div",{className:(0,er.Z)(lu.inputFullContainer,u),children:[h?(0,C.jsxs)("span",{className:lu.debugTip,children:["文件token: ",I,"; 总token: ",R]}):null,p?(0,ea.createPortal)((0,C.jsx)(lM,{}),document.body):null,(0,C.jsx)(lR,{}),(0,C.jsxs)("div",{className:(0,er.Z)(lu.inputWrapper,m&&"focused","empty"!==k&&lu.withFile),onMouseDown:e=>{var t,n,a;let r=e.target;if(!(r instanceof Node))return;let o=null===(t=v.current)||void 0===t?void 0:t.contains(r);(null===(n=V.current)||void 0===n?void 0:n.contains(r))||o||(e.preventDefault(),null===(a=V.current)||void 0===a||a.focus())},children:["empty"===k?null:(0,C.jsx)("div",{className:lu.ocrTip,children:q("onlyExtractTextFromFiles")}),(0,C.jsx)(o2,{fileBelongInfo:c,onFileDelete:()=>P.onTriggerClear()}),(0,C.jsxs)("div",{className:(0,er.Z)(lu.bellowInputWrapper,lu.bellowInputWrapperDoubleRowLayout),children:[J,(0,C.jsxs)("div",{className:lu.functionRow,ref:v,children:[(0,C.jsx)(a4,{enabled:y,setEnabled:_,isFileEmpty:"empty"===k}),(0,C.jsx)(ip,{enabled:b,disabled:O,onToggle:w,tooltipText:$}),(0,C.jsxs)("div",{className:lu.functionRowRightColumn,children:[X,ee]})]})]})]})]})});function lO(e){let{icon:t,disabled:n,extraTooltip:a,showNewChat:r,showTooltip:o,onClick:s,onMouseDown:i,onMouseLeave:l}=e,d=t6.a.useTranslate(),c=(0,Y.useMemo)(()=>"loading"===t?(0,C.jsx)(tN.g,{className:lu.loading}):"send"===t?(0,C.jsxs)(C.Fragment,{children:[r&&(0,C.jsx)("div",{className:lu.textWrapper,children:d("chatInputNewChatButton")}),lP]}):(0,C.jsx)("div",{className:lu.stopIcon}),[t,r,d]),u=(e,t)=>{let{onMouseLeave:a,...o}=e;return(0,C.jsx)("div",{...o,onMouseLeave:e=>{null==a||a(e),l()},ref:t,role:"button","aria-disabled":n,className:(0,er.Z)(lu.sendButton,n&&lu.disabled),onClick:n?()=>{}:s,onMouseDown:i,children:(0,C.jsx)("div",{className:(0,er.Z)(lu.buttonContent,r&&lu.newChatButton),children:c})})};return a?(0,C.jsx)(Q,{disabled:!1,children:(0,C.jsx)(af.u,{isOpen:o,theme:{fontSize:"12px",lineHeight:"24px"},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return u(t,n)},children:a})}):u({},null)}let lP=(0,C.jsx)(eP.J,{size:16,children:(0,C.jsxs)("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z",fill:"currentColor"}),(0,C.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z",fill:"currentColor"})]})});function lD(e){let{componentRef:t,className:n}=e,a=iX(),{startCompletion:r,abortCompletion:o}=(0,H.RJ)(),s=(0,Y.useRef)({setValue:()=>{}}),i=o5(),l=(0,H.aK)(e=>e.updateSession),d=(0,H.aK)(e=>e.updateAgent),c="none"!==a.type?a.agentId:null,u="session"===a.type?a.sessionId:void 0,h=(0,H.aK)(e=>{var t,n;return"agent"===a.type?(null===(t=e.getAgent(a.agentId))||void 0===t?void 0:t.prompt)||"":"session"===a.type?(null===(n=e.getSession(a.sessionId))||void 0===n?void 0:n.prompt)||"":(a.type,"")}),p=t6.a.useTranslate(),g=(0,H.tj)({isAgentOrSession:"none"!==a.type,sessionId:u,agentId:c}),m=o0(),f=(0,Y.useMemo)(()=>({sessionId:u||null,agentId:c}),[u,c]);return(0,Y.useEffect)(()=>(m.startPollingFilesInfo(f),()=>m.stopPolling()),[f,m]),(0,C.jsx)(lF,{className:n,fileBelongInfo:f,componentRef:t,value:h,textareaProps:{id:"chat-input"},onChange:e=>{switch(a.type){case"session":u&&l(u,t=>{t.prompt=e});break;case"agent":c&&d(c,t=>{t.prompt=e})}},onStop:()=>{"session"===a.type&&u&&o(u)},onSubmit:async(e,t)=>{let{newChat:n,thinkingEnabled:o,searchEnabled:s}=t;if("agent"===a.type||n){i({agentId:c||H.HL.AgentId.CHAT,prompt:e,thinkingEnabled:o,searchEnabled:s,fileBelongInfo:f,isCreateNewChat:n,sessionId:u,setIsSolvingChallenge:aC.Z});return}"session"===a.type&&u&&r({chatSessionId:u,prompt:e,refFileIds:m.getRefFileIds(f),thinkingEnabled:o,searchEnabled:s,getPowRes:()=>aj({t:p,setIsSolvingChallenge:aC.Z,scene:"completion_like"})})},onRequestHistoryValue:()=>{},placeholder:p("chatInputPlaceholderChat"),status:g,handle:s})}var lB=n(19320);let lz=(0,Y.memo)(function(e){let{className:t}=e,n=t6.a.useTranslate();return(0,C.jsx)("div",{className:(0,er.Z)(lB.contentCaveat,t),children:n("contentCaveat")})});var lH=n(28209);let lU=(0,Y.memo)(function(){let e=(0,H.aK)(e=>e.muteUntil),t=(0,H.aK)(e=>e.isMuted),n=iX(),a=(0,Y.useRef)(null),r="session"===n.type?"a".concat(n.agentId,"|s").concat(n.sessionId):"agent"===n.type?"a".concat(n.agentId):null;return(0,Y.useEffect)(()=>{var e;!t6.l.isMobile&&(null===(e=a.current)||void 0===e||e.focus())},[r]),(0,C.jsxs)("div",{className:lH.messageInputContainer,children:[t?(0,C.jsx)(lc,{muteUntil:e}):(0,C.jsx)(lD,{componentRef:a}),(0,C.jsx)(lz,{})]})}),lV=e=>{let t,{count:n,interval:a,onTrigger:r}=e,o=0;return()=>{o++,clearTimeout(t),o===n?(r(),o=0):t=setTimeout(()=>{o=0},a)}};var lW=n(44828);let lG=(0,Y.memo)(function(e){let{onMenuClick:t}=e;iG(null);let n=(0,H.aK)(e=>e.isMuted),a=t6.a.useTranslate(),r=(0,H.aK)(e=>e.muteUntil),o=(0,Y.useRef)(null),s=(0,Y.useMemo)(()=>lV({count:5,interval:2e3,onTrigger:t6.l.toggleDebugPanel}),[]);return(0,Y.useEffect)(()=>{var e;!t6.l.isMobile&&(null===(e=o.current)||void 0===e||e.focus())},[]),(0,C.jsxs)("div",{className:lW.onboardingContainer,children:[(0,C.jsx)(i3,{onMenuClick:t,className:lW.header}),(0,C.jsxs)("div",{className:lW.onboarding,children:[(0,C.jsxs)("div",{className:(0,er.Z)(lW.sayHi,n&&lW.muted),children:[(0,C.jsxs)("div",{className:lW.sayHiMain,onClick:s,children:[(0,C.jsx)(eP.J,{size:60,className:lW.icon,children:(0,C.jsx)(eb,{})}),a("welcomeMessageChatV2")]}),(0,C.jsx)("div",{className:lW.sayHiSub,children:a("onboardingMsg")})]}),n?(0,C.jsx)(lc,{muteUntil:r,className:lW.muteAlert}):(0,C.jsx)(lD,{componentRef:o,className:lW.sessionInput}),n?null:(0,C.jsx)(lz,{className:lW.caveat})]})]})});var lZ=n(10021);let lq=(0,Y.createContext)({displayType:"code",setDisplayType:()=>{throw Error("Method [setDisplayType] not implemented.")},setSmartScroll:()=>{throw Error("Method [setSmartScroll] not implemented.")}});lq.displayName="CodeContextImpl";let lY=(0,Y.memo)(function(e){let{children:t,infostring:n}=e,a=(0,Y.useRef)(null),{codeDisplayType:r,setCodeDisplayType:o}=lK(n,a),s=(0,Y.useMemo)(()=>({displayType:r,setDisplayType:o,setSmartScroll:e=>{a.current=e}}),[r,o]);return(0,C.jsx)(lq.Provider,{value:s,children:(0,C.jsx)(lZ.vj,{children:t})})}),lK=(e,t)=>{let[n,a]=(0,Y.useState)("code"),r=(0,Y.useRef)(!1);return(0,Y.useLayoutEffect)(()=>{(null==e?void 0:e.toLowerCase())==="mermaid"&&a("mermaid")},[e]),(0,Y.useLayoutEffect)(()=>{var e;r.current&&(r.current=!1,null===(e=t.current)||void 0===e||e.call(t))},[n,t]),{setCodeDisplayType:e=>{r.current=!0,a(e)},codeDisplayType:n}},lQ=()=>(0,Y.useContext)(lq);var lX=n(92802);let lJ=()=>(0,Y.lazy)(()=>Promise.all([n.e("789"),n.e("553"),n.e("531")]).then(n.bind(n,65199))),l$=e=>{let{visible:t}=e,[n,a]=(0,Y.useState)(0),r=(0,Y.useMemo)(lJ,[n]);return(0,C.jsx)(t6.l.ErrorBoundary,{renderFallback:e=>{let{error:r,reset:o}=e;return t?(0,C.jsx)(ln,{className:lX.errorContent,error:r,onReset:()=>{a(n+1),o()},onClose:()=>void 0}):null},onError:e=>{t6.l.tracker.error({name:"mermaidRenderBroken",message:"触发mermaid渲染ErrorBoundary",payload:t6.l.withError(e,{})})},children:(0,C.jsx)(Y.Suspense,{fallback:(0,C.jsx)("div",{className:lX.standIn}),children:(0,C.jsx)(r,{...e},n)})})},l1=(0,Y.memo)(function(e){let{code:t,html:n,infostring:a,isOpen:r}=e,{displayType:o}=lQ(),s=rq();return(0,C.jsxs)(C.Fragment,{children:["code"===o?(0,C.jsx)("pre",{dangerouslySetInnerHTML:{__html:n}}):null,"mermaid"===a?(0,C.jsx)(l$,{graphText:t,visible:"mermaid"===o,bypassErrorProtection:!r||s,isFinal:!r}):null]})});var l0=n(59415);let l2="code-info-button-text",l3=e=>{let{left:t,right:n}=e,a=(0,Y.useRef)(null),r=(0,Y.useRef)(null),o=(0,Y.useRef)(null);return(0,Y.useEffect)(()=>{if(!a.current)return;let e=()=>{if(!a.current||!r.current||!o.current)return;o.current.querySelectorAll(".".concat(l2)).forEach(e=>{e instanceof HTMLSpanElement&&(e.style.display="")});let e=a.current.clientWidth,t=e>=r.current.clientWidth+o.current.clientWidth+100;o.current.querySelectorAll(".".concat(l2)).forEach(e=>{e instanceof HTMLSpanElement&&(e.style.display=t?"":"none")})};if("undefined"==typeof ResizeObserver)return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e);let t=new ResizeObserver(e);return t.observe(a.current),()=>t.disconnect()},[]),(0,C.jsxs)("div",{ref:a,className:l0.container,children:[(0,C.jsx)("div",{ref:r,className:l0.sidePart,children:t}),(0,C.jsx)("div",{ref:o,className:l0.sidePart,children:n})]})};var l5=n(69782),l4=n(39980);let l9=e=>{let{code:t,infostring:n}=e,a=t6.a.useTranslate();return(0,C.jsx)(av,{style:{marginRight:8,fontSize:13,height:28,padding:"0 4px"},className:l4.compactIconButton,theme:{textColor:"var(--dsr-text-2)"},onClick:()=>{nG(t),t6.l.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:n||""}})},children:(0,C.jsx)("span",{className:l2,children:a("copyCode")})})},l6=e=>{let{domRef:t,domProps:n,onClick:a}=e,r=t6.a.useTranslate();return(0,C.jsx)(e4.z,{domRef:t,domProps:n,variant:"borderless",type:"secondary",theme:{textColor:"var(--dsr-text-2)",fontSize:"13px"},onClick:()=>{var e;null==a||a(),null==n||null===(e=n.onClick)||void 0===e||e.call(n)},className:l4.compactIconButton,style:{padding:"0 4px",height:28},size:"s",icon:(0,C.jsx)(eP.J,{size:16,children:(0,C.jsx)(nc._8,{})}),children:(0,C.jsx)("span",{className:l2,children:r("codeDownload")})})},l7=e=>{let{infostring:t}=e;return(0,C.jsx)("span",{className:l4.codeInfoName,children:t})},l8=e=>{let{left:t,right:n}=e;return(0,C.jsx)("div",{className:l4.verticalLine,style:{marginLeft:t,marginRight:n}})},de=e=>{let{code:t,infostring:n,codeBlockRef:a}=e,r=t6.a.useTranslate(),{displayType:o,setDisplayType:s}=lQ(),i=(0,nh.F)(),l=[{label:r("mermaidDiagram"),value:"mermaid"},{label:r("mermaidCode"),value:"code"}],{zoomOut:d,zoomIn:c,downloadSvg:u,downloadPng:h}=(0,lZ.JK)(),p="success"===(0,lZ.zV)(),g=st();return lQ().setSmartScroll(()=>{a.current&&g(a.current,{topOcclusion:0,bottomOcclusion:138})}),(0,C.jsx)(l3,{left:(0,C.jsx)(sH,{className:l4.switch,options:l,value:o,onChange:s,theme:{color:i?"#212327":"rgba(0,0,0,0.03)",boxShadow:"0 0 4px 0 rgba(0,0,0,0.02), 0 6px 10px 0 rgba(0,0,0,0.04)",selectedColor:i?"rgba(255,255,255,.12)":"#fff"}}),right:(0,C.jsxs)("div",{className:l4.buttons,children:["mermaid"===o?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(dt,{onClick:d,icon:(0,C.jsx)(nc.mt,{}),tooltipText:r("mermaidZoomOut"),disabled:!p}),(0,C.jsx)(dt,{onClick:c,icon:(0,C.jsx)(nc.Zv,{}),tooltipText:r("mermaidZoomIn"),disabled:!p}),(0,C.jsx)(l8,{right:12})]}):(0,C.jsx)(l9,{code:t,infostring:n}),(0,C.jsx)(sd,{trigger:"click",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,C.jsx)(l6,{domRef:t,domProps:n})},menuDomProps:{style:{minWidth:100}},placement:"bottom-end",options:[{label:r("mermaidDownloadSvg"),key:"download_svg",domProps:{className:p?"":l4.disableOption}},{label:r("mermaidDownloadPng"),key:"download_png",domProps:{className:p?"":l4.disableOption}},{label:r("mermaidDownloadCode"),key:"download_code"}],onSelect:e=>{switch(e){case"download_code":(0,l5.Yp)(t,"mermaid");break;case"download_svg":p&&u();break;case"download_png":p&&h();break;default:(0,a1.vv)(e)}}})]})})},dt=e=>{let{onClick:t,icon:n,tooltipText:a,disabled:r}=e;return(0,C.jsx)(af.u,{renderTrigger:e=>{let{domRef:a,domProps:o}=e;return(0,C.jsx)(eF.h,{theme:{textColor:"var(--dsr-text-2)"},domRef:a,domProps:o,className:(0,er.Z)(l4.zoomButton,r?l4.disabled:""),onClick:r?void 0:t,children:(0,C.jsx)(eP.J,{size:16,children:n})})},children:a})},dn=e=>{let{code:t,infostring:n}=e;return(0,C.jsx)(l3,{left:(0,C.jsx)(l7,{infostring:n}),right:(0,C.jsxs)("div",{className:l4.buttons,children:[(0,C.jsx)(l9,{code:t,infostring:n}),(0,C.jsx)(l6,{onClick:()=>(0,l5.Yp)(t,n)})]})})};var da=n(91094);let dr=e=>{let{code:t,isOpen:n,infostring:a}=e;return(0,Y.useEffect)(()=>{(0,da.E0)()},[]),(0,C.jsx)(l3,{left:(0,C.jsx)(l7,{infostring:a}),right:(0,C.jsxs)("div",{className:l4.buttons,children:[(0,C.jsx)(l9,{code:t,infostring:a}),(0,C.jsx)(l6,{onClick:()=>(0,l5.Yp)(t,a)}),(0,C.jsx)(l8,{left:12,right:12}),(0,C.jsx)(ds,{disabled:n,code:t,infostring:a})]})})},ds=e=>{let{disabled:t,code:n,infostring:a}=e,r=t6.a.useTranslate(),o=aA(e=>e.setCode),s=aA(e=>e.open),i=(0,ec.$0)(()=>{t6.l.tracker.info({name:"runMarkdownCode",message:"运行markdown code",payload:{infostring:a||""}}),o(n),s()});return(0,C.jsx)(e4.z,{disabled:t,onClick:i,variant:"borderless",type:"secondary",theme:{textColor:"var(--dsr-text-2)"},className:l4.compactIconButton,style:{height:28,padding:"0 4px"},icon:(0,C.jsx)(eP.J,{size:17,children:(0,C.jsx)(nc.A6,{})}),children:(0,C.jsx)("span",{className:l2,children:r("runHtml")})})},di=(0,Y.memo)(function(e){let t=dl(e.infostring);return(0,C.jsx)(t,{...e})}),dl=e=>{switch(null==e?void 0:e.toLowerCase()){case"html":case"svg":case"xml":return dr;case"mermaid":return de;default:return dn}};function dd(e){let{children:t}=e,n=(0,nh.F)();return(0,C.jsx)(ag,{CodeAction:void 0,CodeFooterAction:void 0,codeTheme:n?"dark":"light",CodeInfoRow:di,CodeContent:l1,CodeContext:lY,children:t})}var dc=n(7909);let du=(0,Y.memo)(function(){(0,lo.z)(),(0,sn.vL)(["show_new_chat_button_above_input"]);let e=(0,Y.useRef)(null),t=(0,Y.useCallback)(()=>{var t;null===(t=e.current)||void 0===t||t.setCollapsed(!1)},[]);return(0,C.jsxs)("div",{className:dc.frame,children:[(0,C.jsx)("div",{className:dc.banner,children:(0,C.jsx)(t7,{condition:"authenticated"})}),(0,C.jsxs)("div",{className:dc.layout,children:[(0,C.jsx)(iz,{componentRef:e}),(0,C.jsxs)("div",{className:dc.main,children:[(0,C.jsx)("div",{className:dc.messageColumn,children:(0,C.jsx)(dd,{children:(0,C.jsx)(dh,{onMenuClick:t})})}),(0,C.jsx)(le,{}),(0,C.jsx)(lr,{})]})]})]})}),dh=(0,Y.memo)(function(e){let{onMenuClick:t}=e,n=lL(),a=oU(),r=oV(),o=oW(),s=oG(),i=[n,a,r,o,s].every(e=>!e);return n?(0,C.jsx)(lG,{onMenuClick:t}):(0,C.jsxs)(o8,{children:[(0,C.jsx)(i3,{onMenuClick:t}),a?(0,C.jsx)(iw,{name:"CharacterExplore",props:{}}):null,r?(0,C.jsx)(iw,{name:"CharacterCreate",props:{}}):null,o?(0,C.jsx)(iw,{name:"CharacterEdit",props:{}}):null,s?(0,C.jsx)(iw,{name:"CharacterMine",props:{}}):null,i?(0,C.jsx)(sr,{inputNode:(0,C.jsx)(lU,{})}):null]})}),dp=function(e){e(window.Android&&"function"==typeof window.Android.getUserInfo?JSON.parse(window.Android.getUserInfo()):"Service not available")};var dg=n(12225),dm=n(65702);class df extends H.jX{constructor(...e){super(...e),(0,aQ._)(this,"historyIdbPromise",(0,dm.X3)("deepseek-chat",1,{upgrade:e=>{e.createObjectStore("history-message")}})),(0,aQ._)(this,"set",async e=>{let{data:t,frontendVersion:n}=e,a=await this.historyIdbPromise;await a.put("history-message",{...t,timestamp:(0,H.Mj)(),frontendVersion:n},t.key)}),(0,aQ._)(this,"get",async e=>{let{key:t,frontendVersion:n}=e,a=await this.historyIdbPromise,r=await a.get("history-message",t);if(!r)return null;let{getGuardedFrontendVersion:o}=this.versionHelper,s=o(r.frontendVersion);return s===n?r:(t6.l.tracker.info({name:"invalidateHistoryMessageCache",message:"淘汰不符合版本的缓存",payload:{targetFrontendVersion:n,cacheFrontendVersion:s,key:t}}),this.delete(t),null)}),(0,aQ._)(this,"delete",async e=>{let t=await this.historyIdbPromise;await t.delete("history-message",e)})}}let dC=(0,Y.memo)(function(e){let{children:t}=e,[n]=t6.l.useFgByKey("enableCustomCharacterFnModule"),a=dy(),r=dv(a),o=dx(),s=dE(),i=(0,et.TH)(),l=db();(0,Y.useEffect)(()=>{let e=t6.l.visibilityChange$.subscribe(e=>{e?a.resume():a.pause()});return()=>e.unsubscribe()},[a]);let d=(0,Y.useMemo)(()=>l.resumeCompletion.bind(l),[l]),c=(0,Y.useMemo)(()=>({historyMessageCache:s}),[s]),u=(0,Y.useMemo)(()=>({chatController:l}),[l]),h=(0,Y.useMemo)(()=>({getUploadFileController:()=>r}),[r]),p=(0,Y.useMemo)(()=>({getTokenCountController:()=>o}),[o]);return(0,C.jsx)(oK.Provider,{value:c,children:(0,C.jsx)(H.yB,{resumeCompletion:d,children:(0,C.jsx)(H.p5.Provider,{value:u,children:(0,C.jsx)(aS,{children:(0,C.jsx)(rE,{children:(0,C.jsx)(H.X_,{enabled:n,children:(0,C.jsx)(H.l3,{location:i,children:(0,C.jsx)(o1.Provider,{value:h,children:(0,C.jsx)(H.yZ.Provider,{value:p,children:(0,C.jsx)(H.wF,{location:i,children:(0,C.jsx)(aR,{children:t})})})})})})})})})})})}),dv=e=>{let t=(0,Y.useRef)(null),n=t6.a.useTranslate();if(!t.current){let a=new H.dZ(()=>t6.a.getLocale(),e,async(e,t)=>{let{file:a,headers:r}=e,o=await aj({t:n,setIsSolvingChallenge:()=>void 0,scene:"upload_file"});if(!o.success)throw Error("Fail to retrieve pow for upload file");let[s,i]=(0,aI.g6)(o.res,H.ZQ,btoa);return(0,H.a2)({file:a,headers:{...r,[s]:i}},t)});t.current=a}return t.current},dx=()=>{let e=(0,Y.useRef)(null);return e.current||(e.current=new H.f9),e.current},dE=()=>{let e=(0,Y.useRef)(null);return e.current||(e.current=new df),e.current},dy=()=>{let e=(0,Y.useRef)(null);return e.current||(e.current=new H.Ye),e.current},db=()=>{let e=(0,Y.useRef)();return e.current||(e.current=new H.v7),e.current};var d_=n(53429),dw=n(75522);n(1334);let dS=e=>{let[t,n]=(0,Y.useState)(!0);return(0,Y.useEffect)(()=>{n(e.getPreferenceSettled())},[e]),{settled:t,setSettled:n}},dI=e=>{let{cookieBanner:t,i18n:n,className:a,cookieDomain:r,onShow:o,onClose:s}=e,{settled:i,setSettled:l}=dS(t);return((0,Y.useEffect)(()=>{i?null==s||s():null==o||o()},[s,o,i]),i)?null:(0,C.jsxs)("div",{className:"cookie_banner-wrap ".concat(a),children:[(0,C.jsx)("div",{className:"cookie_banner-title",children:n.cookieBannerTitle}),(0,C.jsx)("div",{className:"cookie_banner-description",children:n.cookieBannerDesc}),(0,C.jsx)(e4.z,{type:"secondary",variant:"bordered",className:"cookie_banner-accept-essential-button",theme:{textColor:"var(--dsr-text-1)",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("essential",{domain:r}),l(!0)},children:n.cookieBannerAcceptEssential}),(0,C.jsx)(e4.z,{type:"secondary",variant:"borderless",className:"cookie_banner-accept-all-button",theme:{color:"var(--dsr-main, #4D6BFE)",hoverColor:"var(--dsr-button-main-bg-hover)",textColor:"#fff",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("all",{domain:r}),l(!0)},children:n.cookieBannerAcceptAll})]})};n(16841);let dT="ds_cookie_preference",dM=["Hm_lpvt","Hm_lvt","Hm_up","Hm_ct","Hm_cv","HMACCOUNT","HMVT"],dj=["all","essential"],dk="deepseek.com",dA=e=>{let t=decodeURIComponent(e);try{let e=JSON.parse(t),n=null==e?void 0:e.level;if(dj.includes(n))return{level:n,isValidValue:!0};return{level:"all",isValidValue:!1}}catch(e){return{level:"all",isValidValue:!1}}},dR=e=>encodeURIComponent(JSON.stringify(e));class dN{listenLevelChange(e){return this.levelChangeListeners.add(e),()=>{this.levelChangeListeners.delete(e)}}getPreferenceSettled(){return dA(this.accessor.read(dT)||"").isValidValue}getAcceptLevel(){return dA(this.accessor.read(dT)||"").level}setAcceptLevel(e,t){let n=dR({level:e}),a={expires:365,domain:dk,...Object.fromEntries(Object.entries(t).filter(e=>{let[t,n]=e;return null!=n}))};this.accessor.write(dT,n,a),this.levelChangeListeners.forEach(t=>t(e))}deleteByName(e,t){let{domain:n}=t;for(let t of e(this.accessor.getAll()))this.accessor.remove(t,{domain:n||dk})}clearBaiduAnalytics(e){this.deleteByName(e=>Object.keys(e).filter(e=>dM.some(t=>e.startsWith(t))),{domain:e})}constructor(e){(0,aQ._)(this,"accessor",void 0),(0,aQ._)(this,"levelChangeListeners",new Set),this.accessor=e}}n(5904);let dL=()=>(s||(s=new dN({read:dw.Z.get.bind(dw.Z),write:dw.Z.set.bind(dw.Z),remove:dw.Z.remove.bind(dw.Z),getAll:dw.Z.get.bind(dw.Z)})),s),dF=()=>{let e=t6.l.useRegion(),t=t6.a.useTranslate(),n=dL(),a=location.port.length?location.hostname:void 0;if((0,Y.useEffect)(()=>{n.clearBaiduAnalytics(a)},[n,a]),!e||!tb.nR.cookieBannerRegions.includes(e))return null;let r={cookieBannerAcceptAll:t("cookieBannerAcceptAll"),cookieBannerAcceptEssential:t("cookieBannerAcceptEssential"),cookieBannerDesc:(0,C.jsx)(dO,{str:t("cookieBannerDesc")}),cookieBannerTitle:t("cookieBannerTitle")};return(0,C.jsx)(dI,{cookieDomain:a,cookieBanner:n,i18n:r})},dO=e=>{let{str:t}=e,n=t.split(/<\/?a>/);return(0,C.jsxs)(C.Fragment,{children:[n[0],(0,C.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cdn.deepseek.com/policies/en-US/cookies-policy.html",children:n[1]}),n[2]]})},dP=(0,Y.createContext)({DatePicker:{startDay:0,parseInput:e=>{let{input:t,dayjs:n}=e;return n(t,"YYYY/MM/DD")},formatInput:e=>{let{day:t}=e;return t.format("YYYY/MM/DD")},formatDay:e=>{let{day:t}=e;switch(t.day()){case 0:case 6:return"S";case 1:return"M";case 2:case 4:return"T";case 3:return"W";case 5:return"F";default:throw Error("Invalid day")}},formatTitle:e=>{let{day:t}=e;return"".concat(t.format("MMMM")," ").concat(t.year())}},Select:{notFound:"Not found",empty:"No data"}});function dD(e){let{status:t,variant:n="filled",disabled:a=!1,options:r=[],optionLoading:o=!1,size:s="m",style:i,placeholder:l,defaultValue:d,value:c,filter:u,filterable:h,renderSelectedOption:p,onChange:g,onBlur:m,onFilterChange:f,inputDomProps:v,menuWidthPolicy:x,menuClassName:E,menuFloatingWrapperClassName:y}=e,b=eA(),_=(null!=t?t:null==b?void 0:b.status)||"none",[w,S]=(0,Y.useState)(!1),[,I]=(0,Y.useState)(!1),[T,M]=(0,Y.useState)(d),j=tm(T,c),k=(e,t)=>{g&&g(e,{option:t}),M(e)},A=(0,Y.useMemo)(()=>r.find(e=>e.value===j)||null,[r,j]),R=(0,Y.useRef)(null),[N,L]=(0,Y.useState)(0),F=(0,ec.$0)(e=>{if(h&&e){var t;P(""),null===(t=R.current)||void 0===t||t.focus()}e&&(A&&z(A),L(e=>e+1)),S(e)}),[O,P]=(0,Y.useState)(""),D=(0,Y.useMemo)(()=>{if(!h||!O.length)return r;if(u)return r.filter(e=>u(O,e));let e=O.toLowerCase();return r.filter(t=>t.label.toLowerCase().includes(e))},[u,h,r,O]),[B,z]=(0,Y.useState)(D[0]||null),H=(0,Y.useRef)(null),U=(0,ec.$0)(e=>{let t=-1,n=null;switch(e.key){case"ArrowDown":case"ArrowUp":if("ArrowDown"===e.key&&!w){F(!0);break}if(!w)break;-1===(t=B?D.findIndex(e=>e.value===B.value):-1)&&(n="ArrowUp"===e.key?D[D.length-1]||null:D[0]||null),(n="ArrowUp"===e.key?D[t-1]||D[D.length-1]||null:D[t+1]||D[0]||null)?(z(n),L(e=>e+1)):z(null);break;case"Enter":w&&B&&(k(B.value,B),F(!1))}});return(0,Y.useLayoutEffect)(()=>{var e;null===(e=H.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[N]),(0,Y.useLayoutEffect)(()=>{D.length?z(D[0]):z(null)},[O]),(0,C.jsx)(sl.f,{trigger:"none",isOpen:w,onIsOpenChange:F,wrapperStyle:{},wrapperDisplayPolicy:"keepAfterFirstOpen",widthPolicy:x||"minConsistent",placement:"bottom-start",floatingWrapperClassName:y,renderTrigger:e=>{let{domRef:t}=e;return(0,C.jsxs)("div",{className:(0,er.Z)("".concat(J.F,"-select"),"".concat(J.F,"-select--").concat(n),"".concat(J.F,"-select--").concat(_),"".concat(J.F,"-select--").concat(s),a&&"".concat(J.F,"-select--disabled")),tabIndex:a?void 0:h?-1:0,style:i,ref:t,onKeyDown:U,onMouseDown:()=>{w||F(!0)},onFocus:h?void 0:()=>{I(!0)},onBlur:h?void 0:e=>{I(!1),null==m||m(e),w&&F(!1)},children:[w&&h&&O.length?null:A?(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-select__select"),w&&h&&!O.length&&"".concat(J.F,"-select__select--placeholder")),children:p?p(A):A.label},"selectedOption"):(0,C.jsx)("div",{className:"".concat(J.F,"-select__placeholder"),children:l},"placeholder"),h?(0,C.jsx)("input",{disabled:a,...v,onFocus:e=>{var t;null==v||null===(t=v.onFocus)||void 0===t||t.call(v,e),I(!0)},onBlur:e=>{var t;null==v||null===(t=v.onBlur)||void 0===t||t.call(v,e),I(!1),null==m||m(e),w&&F(!1)},ref:R,className:(0,er.Z)("".concat(J.F,"-select__input"),null==v?void 0:v.className),value:w?O:"",onChange:e=>{var t;null==v||null===(t=v.onChange)||void 0===t||t.call(v,e),w?(P(e.currentTarget.value),null==f||f(e.currentTarget.value)):(F(!0),e.currentTarget.value&&" "!==e.currentTarget.value&&(P(e.currentTarget.value),null==f||f(e.currentTarget.value)))}}):null,(0,C.jsx)("div",{className:"".concat(J.F,"-select__arrow"),"aria-hidden":!0,children:(0,C.jsx)(dz,{})})]})},renderFloating:e=>{let{nodeRef:t}=e;return(0,C.jsx)(dB,{optionLoading:o,onMouseEnterOption:e=>{z(e)},showNotFound:!!(h&&r.length&&!D.length),options:D,selectedOption:A,pendingOption:B,domRef:t,pendingOptionDomRef:H,onSelect:e=>{k(e.value,e),z(e),F(!1)},className:E})}})}function dB(e){let{options:t,showNotFound:n,pendingOption:a,selectedOption:r,domRef:o,pendingOptionDomRef:s,onMouseEnterOption:i,onSelect:l,optionLoading:d,className:c}=e,u=(0,Y.useContext)(dP);return(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-select-menu"),"".concat(J.F,"-elevated"),c),ref:o,onMouseDown:e=>e.preventDefault(),children:d?(0,C.jsxs)("div",{className:"".concat(J.F,"-select-menu__skeleton"),children:[(0,C.jsx)(tc.O,{className:"".concat(J.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:250}}),(0,C.jsx)(tc.O,{className:"".concat(J.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:220}}),(0,C.jsx)(tc.O,{className:"".concat(J.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:200}})]}):n?(0,C.jsx)("div",{className:"".concat(J.F,"-select-menu__not-found"),children:u.Select.notFound}):t.length?(0,C.jsx)(C.Fragment,{children:t.map(e=>{let t=a&&e.value===a.value;return(0,C.jsx)("div",{className:(0,er.Z)("".concat(J.F,"-select-option"),r&&e.value===r.value&&"".concat(J.F,"-select-option--selected"),t&&"".concat(J.F,"-select-option--pending")),onMouseEnter:()=>{i(e)},ref:t?s:void 0,onClick:()=>l(e),children:e.label},e.value)})}):(0,C.jsx)("div",{className:"".concat(J.F,"-select-menu__not-found"),children:u.Select.empty})})}function dz(){return(0,C.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",children:(0,C.jsx)("path",{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n	c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z",fill:"currentColor"})})}n(12234);let dH=()=>Math.max(new Date().getFullYear(),2025),dU=()=>Array.from({length:dH()-1900+1}).map((e,t)=>t+1900).sort((e,t)=>t-e),dV=()=>Array.from({length:12}).map((e,t)=>t+1),dW=e=>({label:"".concat(e),value:"".concat(e)}),dG={getMothOptions:()=>dV().map(dW),getYearOptions:()=>dU().map(dW),verifyBirthdayRes:e=>{switch(e){case 0:return"ok";case 2:return"tooYoung";case 1:throw Error("code ".concat(e,", invalid date"));default:throw Error("unexpected code ".concat(e))}}};var dZ=n(41998);let dq=()=>(0,nm.k)()?(0,C.jsx)(dY,{}):null,dY=(0,Y.memo)(function(){let e=(0,nm.L)(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.needBirthday}),t=t6.a.useTranslate(),[n,a]=(0,Y.useState)(0),[r,o]=(0,Y.useState)(0),s=(0,e9.pm)(),i=s1(),[l,d]=(0,Y.useState)(!1);(0,Y.useEffect)(()=>{e&&t6.l.tracker.info({name:"showAgeGate",message:"展示年龄门弹窗",payload:{}})},[e]);let c=!(n*r);return e?(0,C.jsx)(eh,{show:!0,children:(0,C.jsxs)("div",{className:dZ.wrap,children:[(0,C.jsx)("div",{className:dZ.title,children:t("ageGateTitle")}),(0,C.jsx)("div",{className:dZ.desc,children:t("ageGateDesc")}),(0,C.jsxs)("div",{className:dZ.columns,children:[(0,C.jsx)(dD,{menuWidthPolicy:"consistent",options:dX,onChange:e=>a(+e),placeholder:t("ageGateYear"),style:{background:"var(--age-gate-bg)",marginRight:12,fontSize:14,paddingLeft:4},menuClassName:dZ.menuOption,size:"l"}),(0,C.jsx)(dD,{menuWidthPolicy:"consistent",options:dJ,onChange:e=>o(+e),placeholder:t("ageGateMonth"),style:{background:"var(--age-gate-bg)",fontSize:14,paddingLeft:4},menuClassName:dZ.menuOption,size:"l"})]}),(0,C.jsx)(e4.z,{variant:"bordered",className:dZ.confirmButton,disabled:c,loading:l,onClick:async()=>{let e={year:n,month:r};d(!0);let a=await dK(e);if(d(!1),null===a){s.error(t("ageGateNetworkError"));return}let o=dQ(a,e);if("ok"===o){nm.L.getState().updateNeedBirthday(!1);return}if("tooYoung"===o){s.error(t("ageGateRejectText")),i();return}if("error"===o){s.error(t("ageGetInvalidDate")),i();return}(0,H.vv)(o)},children:t("ageGateConfirm")})]})}):null}),dK=async e=>{let{year:t,month:n}=e,{tracker:a,http:{http:r,withDefaultHttpContext:o}}=t6.l;a.info({name:"submitBirthday",message:"提交生日信息",payload:{year:t,month:n}});try{let{biz_code:e}=(await r.post("/api/v0/users/set_birthday",{context:o({withToken:!0}),json:{year:t,month:n}})).json.data;return e}catch(e){return a.error({name:"submitBirthdayFail",message:"提交生日信息失败",payload:a.withError(e,{})}),null}},dQ=(e,t)=>{let{tracker:n}=t6.l;try{return dG.verifyBirthdayRes(e)}catch(e){return n.error({name:"verifyBirthdayFail",message:"验证生日异常",payload:n.withError(e,t)}),"error"}},dX=dG.getYearOptions(),dJ=dG.getMothOptions();var d$=n(29286);let d1={placement:"top"},d0=e=>(0,C.jsx)(t4,{beAuthenticated:d4,beUnauthenticated:d5,children:(0,C.jsx)(nS,{children:(0,C.jsx)(t6.l.WithToastAndNotification,{toastProviderProps:d1,children:(0,C.jsx)(ex,{children:(0,C.jsxs)(t6.l.PageVisit,{children:[e,(0,C.jsx)(dF,{}),(0,C.jsx)(dq,{})]})})})})});/^\/\/+$/.test(window.location.pathname)&&history.replaceState(null,"","/");let d2=(0,ee.aj)([{path:ns.ROOT,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:ns.AGENT,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:ns.AGENT_SESSION,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:ns.AUTHORIZED,element:d0((0,C.jsx)(function(){let e=na(),{beAuthenticated:t,beUnauthenticated:n}=t9();return(0,C.jsx)(ne,{children:(0,C.jsx)(tX,{beAuthenticated:t,beUnauthenticated:n,directToHome:()=>{"coder"===t6.l.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(t6.l.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),t6.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(ns.AGENT,{agentId:H.HL.AgentId.CODER})):e(ns.ROOT)}})})},{}))},{path:ns.SIGN_UP,element:d0((0,C.jsx)(function(){let e=t6.l.useIsIpLoading(),t=t6.l.useRegion(),n=na(),{beAuthenticated:a}=t9();return(0,C.jsx)(ne,{children:(0,C.jsx)(np,{children:(0,C.jsx)(tz,{icon:(0,C.jsx)("div",{className:nd.icon,children:(0,C.jsx)(nc.Qf,{})}),isIpLoading:e,regionCode:t,beAuthenticated:a,onSignUpOk:()=>{nu.current?(t6.l.logger.info("从 coder 跳过来的，导航到 coder，signup"),n(ns.AGENT,{agentId:H.HL.AgentId.CODER})):(t6.l.logger.info("不是从 coder 跳过来的，导航到 chat，signup"),n(ns.ROOT))},onGoToSignIn:()=>n(ns.SIGN_IN)})})})},{}))},{path:ns.SIGN_IN,element:d0((0,C.jsx)(function(){let e=na(),{beAuthenticated:t}=t9(),n=t6.l.useRegion(),a=ng(e=>e.forceGoogleLogin);return(0,C.jsx)(ne,{children:(0,C.jsx)(np,{children:(0,C.jsx)(ex,{children:(0,C.jsx)(tR,{beAuthenticated:t,onAfterSignInOk:()=>{nu.current?(t6.l.logger.info("从 coder 跳过来的，导航到 coder"),e(ns.AGENT,{agentId:H.HL.AgentId.CODER})):(t6.l.logger.info("不是从 coder 跳过来的，导航到 coder"),e(ns.ROOT))},onForgotPassword:()=>e(ns.FORGOT_PASSWORD),onGoToSignUp:()=>e(ns.SIGN_UP),headerLogoNode:(0,C.jsx)(nc.Qf,{}),forceShowGoogleSignIn:a,onGoogleSignIn:()=>{nu.current?t6.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("coder"):t6.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat")},defaultLocationOrigin:"https://chat-dev.deepseek.com",defaultLoginMethod:t6.l.getLastSessionValue().loginMethod,regionCode:n,onLoginMethodChange:e=>{t6.l.setLastSessionValue(t=>({...t,loginMethod:e}))}})})})})},{}))},{path:ns.FORGOT_PASSWORD,element:d0((0,C.jsx)(function(){let e=na();return(0,C.jsx)(ne,{children:(0,C.jsx)(np,{children:(0,C.jsx)(tZ,{headerLogoNode:(0,C.jsx)(nc.Qf,{}),forgotPasswordBackToSignIn:()=>e(ns.SIGN_IN),delayedNavigate:()=>{setTimeout(()=>{e(ns.SIGN_IN)},3e3)}})})})},{}))},{path:ns.BANNED,element:d0((0,C.jsx)(function(){let e=na();return(0,C.jsx)(ne,{children:(0,C.jsx)(tJ,{unavailableLogo:(0,C.jsx)(eM,{}),navigateHome:()=>e(ns.SIGN_IN)})})},{}))},{path:ns.MOBILE_VERIFICATION,element:d0((0,C.jsx)(function(){let e=na(),{beAuthenticated:t,beUnauthenticated:n}=t9();return(0,C.jsx)(np,{children:(0,C.jsx)(ne,{children:(0,C.jsx)(t3,{headerLogoNode:(0,C.jsx)(nc.Qf,{}),beAuthenticated:t,beUnauthenticated:n,onGoToSignIn:()=>e(ns.SIGN_IN),directToHome:()=>{"coder"===t6.l.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(t6.l.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),t6.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(ns.AGENT,{agentId:H.HL.AgentId.CODER})):e(ns.ROOT)}})})})},{}))},{path:ns.FEEDBACK,element:d0((0,C.jsx)(function(){let[e,t]=(0,Y.useState)(!0),[n,a]=(0,Y.useState)(""),[r,o]=(0,Y.useState)(!1),[s,i]=(0,Y.useState)(null);return(0,Y.useEffect)(()=>(dp(e=>{"string"==typeof e?a(e):R({userId:e.id,email:e.email,mobile:e.mobile}).then(()=>{i(setInterval(()=>{t(!1),o(N())},1e3))})}),()=>{s&&clearInterval(s)}),[]),(0,Y.useEffect)(()=>{e||r||k()},[r,e]),(0,Y.useEffect)(()=>{r&&s&&clearInterval(s)},[r,s]),(0,C.jsx)("div",{className:dg.content,children:n||(r?"Your feedback has been successfully submitted. Please close this webview manually.":(0,C.jsx)("div",{className:dg.loadingWrapper,children:(0,C.jsx)(tN.g,{size:40})}))})},{}))},{path:ns.CHARACTER_EXPLORE,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:ns.CHARACTER_CREATE,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:ns.CHARACTER_EDIT,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:ns.CHARACTER_MINE,element:d0((0,C.jsx)(dC,{children:(0,C.jsx)(du,{})}))},{path:"*",element:(0,C.jsx)(et.Fg,{to:ns.ROOT})}],{basename:void 0});function d3(e,t){return function(e){let{path:t,location:n,navigate:a,params:r}=e;if(t===t6.l.resolvePathRelativeToPublicPath(n.pathname))return!1;if(r){let e=t;for(let t in r){let n=r[t];void 0!==n&&(e=e.replace(":".concat(t),n)),a(e)}}else a(t);return!0}({path:e,location:d2.state.location,navigate:d2.navigate,params:t})}function d5(e){let{navigateToSignIn:t,isBanned:n}=e;t6.l.logger.info("身份失效，navigateToSignIn: ".concat(t)),d$.C.onLogout(),t6.l.setStorageUserToken(null),aT.clearAllPow(),nm.L.getState().reset(),H.aK.getState().onUnauthenticated(),H.hP.getState().abortAllUpload(),H.hP.getState().clear(),d_.N.clearUserUniqueId(),t&&d3(n?ns.BANNED:ns.SIGN_IN)}function d4(e){var t;d_.N.setUserUniqueId(e.id),e.token&&t6.l.setStorageUserToken(e.token),nm.L.getState().setUser(e),H.aK.getState().setMuted(e.chat),e.featureGates,R({userId:e.id,email:e.email,mobile:e.mobile}),L(),en.qn&&function(e,t){let n=document.createElement("a"),a=new URLSearchParams(t),r=t?"?".concat(a.toString()):"";n.href="deepseek://".concat(e).concat(r),n.style.position="fixed",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("chatSignIn",{token:e.token})}let d9="undefined"!=typeof navigator&&!!(navigator.userAgent.toLowerCase().includes("electron")||window&&"process"in window&&"renderer"===Object(window.process).type),d6="undefined"!=typeof navigator&&(navigator.userAgent.includes("Tauri")||"__TAURI__"in window&&void 0!==window.__TAURI__),d7=()=>{let e=t6.a.useTranslate(),[t,n]=t6.l.storageHandles.closeUnsafeEnvWarnStorageHandle.useState();return!t&&(d9||d6)?(0,C.jsx)(eh,{show:!0,children:(0,C.jsx)(eg,{onClose:()=>n(!0),title:e("usageEnvUnsafeTitle"),children:e("usageEnvUnsafeWarn")})}):null};var d8=n(59467);let ce=()=>{let e=t6.l.useLocale();(0,Y.useEffect)(()=>{let t=(0,d8.getCJKQuotationMarksPatch)();"zh_CN"===e?t.enable({tradition:!1}):t.disable()},[e])},ct=()=>{(!en.qW||!en.G6)&&(document.body.style.cssText="--app-height: ".concat(window.innerHeight,"px;"))};function cn(){return ca(t6.l.resolvePathRelativeToPublicPath(d2.state.location.pathname))}function ca(e){return e in ni&&ni[e].isLogoutOnly}let cr={lang:"abap",loader:()=>n.e("205").then(n.t.bind(n,56333,19)).then(()=>{nZ.push("abap")})},co={lang:"abnf",loader:()=>n.e("205").then(n.t.bind(n,70709,19)).then(()=>{nZ.push("abnf")})},cs={lang:"actionscript",loader:async()=>(await ho.loader(),n.e("205").then(n.t.bind(n,24114,19)).then(()=>{nZ.push("actionscript")}))},ci={lang:"ada",loader:()=>n.e("205").then(n.t.bind(n,56659,19)).then(()=>{nZ.push("ada")})},cl={lang:"agda",loader:()=>n.e("205").then(n.t.bind(n,68228,19)).then(()=>{nZ.push("agda")})},cd={lang:"al",loader:()=>n.e("205").then(n.t.bind(n,88768,19)).then(()=>{nZ.push("al")})},cc={lang:"antlr4",loader:()=>n.e("205").then(n.t.bind(n,80177,19)).then(()=>{nZ.push("antlr4")})},cu={lang:"apacheconf",loader:()=>n.e("205").then(n.t.bind(n,82700,19)).then(()=>{nZ.push("apacheconf")})},ch={lang:"apex",loader:()=>n.e("205").then(n.t.bind(n,69536,19)).then(()=>{nZ.push("apex")})},cp={lang:"apl",loader:()=>n.e("205").then(n.t.bind(n,3209,19)).then(()=>{nZ.push("apl")})},cg={lang:"applescript",loader:()=>n.e("205").then(n.t.bind(n,3316,19)).then(()=>{nZ.push("applescript")})},cm={lang:"aql",loader:()=>n.e("205").then(n.t.bind(n,96798,19)).then(()=>{nZ.push("aql")})},cf={lang:"arduino",loader:async()=>(await c5.loader(),n.e("205").then(n.t.bind(n,76567,19)).then(()=>{nZ.push("arduino")}))},cC={lang:"arff",loader:()=>n.e("205").then(n.t.bind(n,97770,19)).then(()=>{nZ.push("arff")})},cv={lang:"armasm",loader:()=>n.e("205").then(n.t.bind(n,5876,19)).then(()=>{nZ.push("armasm")})},cx={lang:"arturo",loader:()=>n.e("205").then(n.t.bind(n,42183,19)).then(()=>{nZ.push("arturo")})},cE={lang:"asciidoc",loader:()=>n.e("205").then(n.t.bind(n,55046,19)).then(()=>{nZ.push("asciidoc")})},cy={lang:"asm6502",loader:()=>n.e("963").then(n.t.bind(n,7930,19)).then(()=>{nZ.push("asm6502")})},cb={lang:"asmatmel",loader:()=>n.e("205").then(n.t.bind(n,30963,19)).then(()=>{nZ.push("asmatmel")})},c_={lang:"aspnet",loader:async()=>(await hz.loader(),n.e("205").then(n.t.bind(n,50865,19)).then(()=>{nZ.push("aspnet")}))},cw={lang:"autohotkey",loader:()=>n.e("205").then(n.t.bind(n,88356,19)).then(()=>{nZ.push("autohotkey")})},cS={lang:"autoit",loader:()=>n.e("205").then(n.t.bind(n,64854,19)).then(()=>{nZ.push("autoit")})},cI={lang:"avisynth",loader:()=>n.e("205").then(n.t.bind(n,3437,19)).then(()=>{nZ.push("avisynth")})},cT={lang:"avro_idl",loader:()=>n.e("205").then(n.t.bind(n,63134,19)).then(()=>{nZ.push("avro_idl")})},cM={lang:"awk",loader:()=>n.e("205").then(n.t.bind(n,39319,19)).then(()=>{nZ.push("awk")})},cj={lang:"bash",loader:()=>n.e("963").then(n.t.bind(n,96985,19)).then(()=>{nZ.push("bash")})},ck={lang:"basic",loader:()=>n.e("205").then(n.t.bind(n,60179,19)).then(()=>{nZ.push("basic")})},cA={lang:"batch",loader:()=>n.e("205").then(n.t.bind(n,22218,19)).then(()=>{nZ.push("batch")})},cR={lang:"bbcode",loader:()=>n.e("205").then(n.t.bind(n,75803,19)).then(()=>{nZ.push("bbcode")})},cN={lang:"bbj",loader:()=>n.e("205").then(n.t.bind(n,20619,19)).then(()=>{nZ.push("bbj")})},cL={lang:"bicep",loader:()=>n.e("205").then(n.t.bind(n,29436,19)).then(()=>{nZ.push("bicep")})},cF={lang:"birb",loader:async()=>(await cK.loader(),n.e("205").then(n.t.bind(n,15616,19)).then(()=>{nZ.push("birb")}))},cO={lang:"bison",loader:async()=>(await cV.loader(),n.e("205").then(n.t.bind(n,24836,19)).then(()=>{nZ.push("bison")}))},cP={lang:"bnf",loader:()=>n.e("205").then(n.t.bind(n,11438,19)).then(()=>{nZ.push("bnf")})},cD={lang:"bqn",loader:()=>n.e("205").then(n.t.bind(n,52706,19)).then(()=>{nZ.push("bqn")})},cB={lang:"brainfuck",loader:()=>n.e("205").then(n.t.bind(n,41158,19)).then(()=>{nZ.push("brainfuck")})},cz={lang:"brightscript",loader:()=>n.e("205").then(n.t.bind(n,8253,19)).then(()=>{nZ.push("brightscript")})},cH={lang:"bro",loader:()=>n.e("205").then(n.t.bind(n,78710,19)).then(()=>{nZ.push("bro")})},cU={lang:"bsl",loader:()=>n.e("205").then(n.t.bind(n,98453,19)).then(()=>{nZ.push("bsl")})},cV={lang:"c",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,63382,19)).then(()=>{nZ.push("c")}))},cW={lang:"cfscript",loader:async()=>(await cK.loader(),n.e("205").then(n.t.bind(n,90235,19)).then(()=>{nZ.push("cfscript")}))},cG={lang:"chaiscript",loader:async()=>(await cK.loader(),n.e("205").then(n.t.bind(n,20386,19)).then(()=>{nZ.push("chaiscript")}))},cZ={lang:"cil",loader:()=>n.e("205").then(n.t.bind(n,11380,19)).then(()=>{nZ.push("cil")})},cq={lang:"cilkc",loader:()=>n.e("205").then(n.t.bind(n,37355,19)).then(()=>{nZ.push("cilkc")})},cY={lang:"cilkcpp",loader:()=>n.e("205").then(n.t.bind(n,99636,19)).then(()=>{nZ.push("cilkcpp")})},cK={lang:"clike",loader:()=>n.e("963").then(n.t.bind(n,89304,19)).then(()=>{nZ.push("clike")})},cQ={lang:"clojure",loader:()=>n.e("963").then(n.t.bind(n,15457,19)).then(()=>{nZ.push("clojure")})},cX={lang:"cmake",loader:()=>n.e("963").then(n.t.bind(n,75692,19)).then(()=>{nZ.push("cmake")})},cJ={lang:"cobol",loader:()=>n.e("205").then(n.t.bind(n,58474,19)).then(()=>{nZ.push("cobol")})},c$={lang:"coffeescript",loader:async()=>(await ho.loader(),n.e("205").then(n.t.bind(n,82469,19)).then(()=>{nZ.push("coffeescript")}))},c1={lang:"concurnas",loader:()=>n.e("205").then(n.t.bind(n,75582,19)).then(()=>{nZ.push("concurnas")})},c0={lang:"cooklang",loader:()=>n.e("205").then(n.t.bind(n,13836,19)).then(()=>{nZ.push("cooklang")})},c2={lang:"coq",loader:()=>n.e("205").then(n.t.bind(n,49699,19)).then(()=>{nZ.push("coq")})},c3={lang:"core",loader:async()=>(await ue.loader(),n.e("205").then(n.t.bind(n,17086,19)).then(()=>{nZ.push("core")}))},c5={lang:"cpp",loader:async()=>(await cV.loader(),n.e("963").then(n.t.bind(n,70850,19)).then(()=>{nZ.push("cpp")}))},c4={lang:"crystal",loader:async()=>(await pG.loader(),n.e("205").then(n.t.bind(n,20456,19)).then(()=>{nZ.push("crystal")}))},c9={lang:"csharp",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,40827,19)).then(()=>{nZ.push("csharp")}))},c6={lang:"cshtml",loader:async()=>(await Promise.all([hz.loader(),c9.loader()]),n.e("205").then(n.t.bind(n,14780,19)).then(()=>{nZ.push("cshtml")}))},c7={lang:"csp",loader:()=>n.e("205").then(n.t.bind(n,61223,19)).then(()=>{nZ.push("csp")})},c8={lang:"css_extras",loader:()=>n.e("205").then(n.t.bind(n,95400,19)).then(()=>{nZ.push("css_extras")})},ue={lang:"css",loader:()=>n.e("205").then(n.t.bind(n,75957,19)).then(()=>{nZ.push("css")})},ut={lang:"csv",loader:()=>n.e("205").then(n.t.bind(n,92730,19)).then(()=>{nZ.push("csv")})},un={lang:"cue",loader:()=>n.e("205").then(n.t.bind(n,47883,19)).then(()=>{nZ.push("cue")})},ua={lang:"cypher",loader:()=>n.e("205").then(n.t.bind(n,44207,19)).then(()=>{nZ.push("cypher")})},ur={lang:"d",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,94476,19)).then(()=>{nZ.push("d")}))},uo={lang:"dart",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,80332,19)).then(()=>{nZ.push("dart")}))},us={lang:"dataweave",loader:()=>n.e("205").then(n.t.bind(n,60658,19)).then(()=>{nZ.push("dataweave")})},ui={lang:"dax",loader:()=>n.e("205").then(n.t.bind(n,48172,19)).then(()=>{nZ.push("dax")})},ul={lang:"dhall",loader:()=>n.e("205").then(n.t.bind(n,63768,19)).then(()=>{nZ.push("dhall")})},ud={lang:"diff",loader:()=>n.e("205").then(n.t.bind(n,95229,19)).then(()=>{nZ.push("diff")})},uc={lang:"django",loader:async()=>(await hB.loader(),n.e("205").then(n.t.bind(n,17798,19)).then(()=>{nZ.push("django")}))},uu={lang:"dns_zone_file",loader:()=>n.e("205").then(n.t.bind(n,18632,19)).then(()=>{nZ.push("dns_zone_file")})},uh={lang:"docker",loader:()=>n.e("963").then(n.t.bind(n,95929,19)).then(()=>{nZ.push("docker")})},up={lang:"dot",loader:()=>n.e("205").then(n.t.bind(n,58076,19)).then(()=>{nZ.push("dot")})},ug={lang:"ebnf",loader:()=>n.e("185").then(n.t.bind(n,82229,19)).then(()=>{nZ.push("ebnf")})},um={lang:"editorconfig",loader:()=>n.e("185").then(n.t.bind(n,24567,19)).then(()=>{nZ.push("editorconfig")})},uf={lang:"eiffel",loader:()=>n.e("185").then(n.t.bind(n,28233,19)).then(()=>{nZ.push("eiffel")})},uC={lang:"ejs",loader:async()=>(await hB.loader(),n.e("185").then(n.t.bind(n,4934,19)).then(()=>{nZ.push("ejs")}))},uv={lang:"elixir",loader:()=>n.e("185").then(n.t.bind(n,21677,19)).then(()=>{nZ.push("elixir")})},ux={lang:"elm",loader:()=>n.e("185").then(n.t.bind(n,57752,19)).then(()=>{nZ.push("elm")})},uE={lang:"erb",loader:async()=>(await hB.loader(),n.e("185").then(n.t.bind(n,19315,19)).then(()=>{nZ.push("erb")}))},uy={lang:"erlang",loader:()=>n.e("963").then(n.t.bind(n,42647,19)).then(()=>{nZ.push("erlang")})},ub={lang:"etlua",loader:async()=>(await hB.loader(),n.e("185").then(n.t.bind(n,7754,19)).then(()=>{nZ.push("etlua")}))},u_={lang:"excel_formula",loader:()=>n.e("185").then(n.t.bind(n,91800,19)).then(()=>{nZ.push("excel_formula")})},uw={lang:"factor",loader:()=>n.e("185").then(n.t.bind(n,99129,19)).then(()=>{nZ.push("factor")})},uS={lang:"false",loader:()=>n.e("185").then(n.t.bind(n,64319,19)).then(()=>{nZ.push("false")})},uI={lang:"firestore_security_rules",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,50994,19)).then(()=>{nZ.push("firestore_security_rules")}))},uT={lang:"flow",loader:async()=>(await ho.loader(),n.e("185").then(n.t.bind(n,16125,19)).then(()=>{nZ.push("flow")}))},uM={lang:"fortran",loader:()=>n.e("963").then(n.t.bind(n,71155,19)).then(()=>{nZ.push("fortran")})},uj={lang:"fsharp",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,54386,19)).then(()=>{nZ.push("fsharp")}))},uk={lang:"ftl",loader:async()=>(await hB.loader(),n.e("185").then(n.t.bind(n,35432,19)).then(()=>{nZ.push("ftl")}))},uA={lang:"gap",loader:()=>n.e("185").then(n.t.bind(n,26182,19)).then(()=>{nZ.push("gap")})},uR={lang:"gcode",loader:()=>n.e("185").then(n.t.bind(n,19039,19)).then(()=>{nZ.push("gcode")})},uN={lang:"gdscript",loader:()=>n.e("185").then(n.t.bind(n,45638,19)).then(()=>{nZ.push("gdscript")})},uL={lang:"gedcom",loader:()=>n.e("185").then(n.t.bind(n,66601,19)).then(()=>{nZ.push("gedcom")})},uF={lang:"gettext",loader:()=>n.e("185").then(n.t.bind(n,88407,19)).then(()=>{nZ.push("gettext")})},uO={lang:"gherkin",loader:()=>n.e("185").then(n.t.bind(n,60400,19)).then(()=>{nZ.push("gherkin")})},uP={lang:"git",loader:()=>n.e("185").then(n.t.bind(n,48585,19)).then(()=>{nZ.push("git")})},uD={lang:"glsl",loader:async()=>(await cV.loader(),n.e("963").then(n.t.bind(n,10056,19)).then(()=>{nZ.push("glsl")}))},uB={lang:"gml",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,81648,19)).then(()=>{nZ.push("gml")}))},uz={lang:"gn",loader:()=>n.e("185").then(n.t.bind(n,89007,19)).then(()=>{nZ.push("gn")})},uH={lang:"go_module",loader:()=>n.e("185").then(n.t.bind(n,36882,19)).then(()=>{nZ.push("go_module")})},uU={lang:"go",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,84227,19)).then(()=>{nZ.push("go")}))},uV={lang:"gradle",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,76308,19)).then(()=>{nZ.push("gradle")}))},uW={lang:"graphql",loader:()=>n.e("185").then(n.t.bind(n,92692,19)).then(()=>{nZ.push("graphql")})},uG={lang:"groovy",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,34490,19)).then(()=>{nZ.push("groovy")}))},uZ={lang:"haml",loader:()=>n.e("185").then(n.t.bind(n,80418,19)).then(()=>{nZ.push("haml")})},uq={lang:"handlebars",loader:async()=>(await hB.loader(),n.e("185").then(n.t.bind(n,69222,19)).then(()=>{nZ.push("handlebars")}))},uY={lang:"haskell",loader:()=>n.e("963").then(n.t.bind(n,41410,19)).then(()=>{nZ.push("haskell")})},uK={lang:"haxe",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,77263,19)).then(()=>{nZ.push("haxe")}))},uQ={lang:"hcl",loader:()=>n.e("185").then(n.t.bind(n,98303,19)).then(()=>{nZ.push("hcl")})},uX={lang:"hlsl",loader:async()=>(await cV.loader(),n.e("185").then(n.t.bind(n,14645,19)).then(()=>{nZ.push("hlsl")}))},uJ={lang:"hoon",loader:()=>n.e("185").then(n.t.bind(n,96168,19)).then(()=>{nZ.push("hoon")})},u$={lang:"hpkp",loader:()=>n.e("185").then(n.t.bind(n,40768,19)).then(()=>{nZ.push("hpkp")})},u1={lang:"hsts",loader:()=>n.e("185").then(n.t.bind(n,29079,19)).then(()=>{nZ.push("hsts")})},u0={lang:"http",loader:()=>n.e("185").then(n.t.bind(n,43378,19)).then(()=>{nZ.push("http")})},u2={lang:"ichigojam",loader:()=>n.e("185").then(n.t.bind(n,35078,19)).then(()=>{nZ.push("ichigojam")})},u3={lang:"icon",loader:()=>n.e("185").then(n.t.bind(n,9833,19)).then(()=>{nZ.push("icon")})},u5={lang:"icu_message_format",loader:()=>n.e("185").then(n.t.bind(n,17550,19)).then(()=>{nZ.push("icu_message_format")})},u4={lang:"idris",loader:async()=>(await uY.loader(),n.e("185").then(n.t.bind(n,91461,19)).then(()=>{nZ.push("idris")}))},u9={lang:"iecst",loader:()=>n.e("185").then(n.t.bind(n,77243,19)).then(()=>{nZ.push("iecst")})},u6={lang:"ignore",loader:()=>n.e("185").then(n.t.bind(n,5050,19)).then(()=>{nZ.push("ignore")})},u7={lang:"inform7",loader:()=>n.e("185").then(n.t.bind(n,74105,19)).then(()=>{nZ.push("inform7")})},u8={lang:"ini",loader:()=>n.e("185").then(n.t.bind(n,16225,19)).then(()=>{nZ.push("ini")})},he={lang:"io",loader:()=>n.e("185").then(n.t.bind(n,79941,19)).then(()=>{nZ.push("io")})},ht={lang:"j",loader:()=>n.e("185").then(n.t.bind(n,79802,19)).then(()=>{nZ.push("j")})},hn={lang:"java",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,60041,19)).then(()=>{nZ.push("java")}))},ha={lang:"javadoc",loader:async()=>(await hr.loader(),n.e("185").then(n.t.bind(n,51311,19)).then(()=>{nZ.push("javadoc")}))},hr={lang:"javadoclike",loader:()=>n.e("185").then(n.t.bind(n,3803,19)).then(()=>{nZ.push("javadoclike")})},ho={lang:"javascript",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,62983,19)).then(()=>{nZ.push("javascript")}))},hs={lang:"javastacktrace",loader:()=>n.e("185").then(n.t.bind(n,46214,19)).then(()=>{nZ.push("javastacktrace")})},hi={lang:"jexl",loader:()=>n.e("185").then(n.t.bind(n,9260,19)).then(()=>{nZ.push("jexl")})},hl={lang:"jolie",loader:async()=>(await cK.loader(),n.e("185").then(n.t.bind(n,8202,19)).then(()=>{nZ.push("jolie")}))},hd={lang:"jq",loader:()=>n.e("185").then(n.t.bind(n,91831,19)).then(()=>{nZ.push("jq")})},hc={lang:"js_extras",loader:()=>n.e("185").then(n.t.bind(n,97004,19)).then(()=>{nZ.push("js_extras")})},hu={lang:"js_templates",loader:()=>n.e("185").then(n.t.bind(n,78575,19)).then(()=>{nZ.push("js_templates")})},hh={lang:"jsdoc",loader:async()=>(await hr.loader(),n.e("185").then(n.t.bind(n,80851,19)).then(()=>{nZ.push("jsdoc")}))},hp={lang:"json",loader:()=>n.e("963").then(n.t.bind(n,21448,19)).then(()=>{nZ.push("json")})},hg={lang:"json5",loader:async()=>(await hp.loader(),n.e("185").then(n.t.bind(n,91375,19)).then(()=>{nZ.push("json5")}))},hm={lang:"jsonp",loader:async()=>(await hp.loader(),n.e("185").then(n.t.bind(n,8702,19)).then(()=>{nZ.push("jsonp")}))},hf={lang:"jsstacktrace",loader:()=>n.e("185").then(n.t.bind(n,60846,19)).then(()=>{nZ.push("jsstacktrace")})},hC={lang:"jsx",loader:async()=>(await hz.loader(),n.e("963").then(n.t.bind(n,1344,19)).then(()=>{nZ.push("jsx")}))},hv={lang:"julia",loader:()=>n.e("963").then(n.t.bind(n,51125,19)).then(()=>{nZ.push("julia")})},hx={lang:"keepalived",loader:()=>n.e("185").then(n.t.bind(n,81527,19)).then(()=>{nZ.push("keepalived")})},hE={lang:"keyman",loader:()=>n.e("185").then(n.t.bind(n,72875,19)).then(()=>{nZ.push("keyman")})},hy={lang:"kotlin",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,54489,19)).then(()=>{nZ.push("kotlin")}))},hb={lang:"kumir",loader:()=>n.e("185").then(n.t.bind(n,11900,19)).then(()=>{nZ.push("kumir")})},h_={lang:"kusto",loader:()=>n.e("185").then(n.t.bind(n,24669,19)).then(()=>{nZ.push("kusto")})},hw={lang:"latex",loader:()=>n.e("185").then(n.t.bind(n,21580,19)).then(()=>{nZ.push("latex")})},hS={lang:"latte",loader:async()=>(await Promise.all([hB.loader(),hz.loader()]),n.e("185").then(n.t.bind(n,78603,19)).then(()=>{nZ.push("latte")}))},hI={lang:"less",loader:async()=>(await ue.loader(),n.e("963").then(n.t.bind(n,69811,19)).then(()=>{nZ.push("less")}))},hT={lang:"lilypond",loader:()=>n.e("185").then(n.t.bind(n,57117,19)).then(()=>{nZ.push("lilypond")})},hM={lang:"linker_script",loader:()=>n.e("185").then(n.t.bind(n,86864,19)).then(()=>{nZ.push("linker_script")})},hj={lang:"liquid",loader:async()=>(await hB.loader(),n.e("185").then(n.t.bind(n,78299,19)).then(()=>{nZ.push("liquid")}))},hk={lang:"lisp",loader:()=>n.e("963").then(n.t.bind(n,75173,19)).then(()=>{nZ.push("lisp")})},hA={lang:"livescript",loader:()=>n.e("185").then(n.t.bind(n,54796,19)).then(()=>{nZ.push("livescript")})},hR={lang:"llvm",loader:()=>n.e("185").then(n.t.bind(n,5134,19)).then(()=>{nZ.push("llvm")})},hN={lang:"log",loader:async()=>(await hs.loader(),n.e("185").then(n.t.bind(n,59521,19)).then(()=>{nZ.push("log")}))},hL={lang:"lolcode",loader:()=>n.e("185").then(n.t.bind(n,2443,19)).then(()=>{nZ.push("lolcode")})},hF={lang:"lua",loader:()=>n.e("963").then(n.t.bind(n,1978,19)).then(()=>{nZ.push("lua")})},hO={lang:"magma",loader:()=>n.e("20").then(n.t.bind(n,28339,19)).then(()=>{nZ.push("magma")})},hP={lang:"makefile",loader:()=>n.e("963").then(n.t.bind(n,76987,19)).then(()=>{nZ.push("makefile")})},hD={lang:"markdown",loader:async()=>(await hz.loader(),n.e("963").then(n.t.bind(n,69524,19)).then(()=>{nZ.push("markdown")}))},hB={lang:"markup_templating",loader:()=>n.e("963").then(n.t.bind(n,14810,19)).then(()=>{nZ.push("markup_templating")})},hz={lang:"markup",loader:()=>n.e("963").then(n.t.bind(n,17947,19)).then(()=>{nZ.push("markup")})},hH={lang:"mata",loader:()=>n.e("20").then(n.t.bind(n,48070,19)).then(()=>{nZ.push("mata")})},hU={lang:"matlab",loader:()=>n.e("963").then(n.t.bind(n,73031,19)).then(()=>{nZ.push("matlab")})},hV={lang:"maxscript",loader:()=>n.e("20").then(n.t.bind(n,35916,19)).then(()=>{nZ.push("maxscript")})},hW={lang:"mel",loader:()=>n.e("20").then(n.t.bind(n,73806,19)).then(()=>{nZ.push("mel")})},hG={lang:"mermaid",loader:()=>n.e("20").then(n.t.bind(n,69460,19)).then(()=>{nZ.push("mermaid")})},hZ={lang:"metafont",loader:()=>n.e("20").then(n.t.bind(n,37128,19)).then(()=>{nZ.push("metafont")})},hq={lang:"mizar",loader:()=>n.e("20").then(n.t.bind(n,75671,19)).then(()=>{nZ.push("mizar")})},hY={lang:"mongodb",loader:async()=>(await ho.loader(),n.e("20").then(n.t.bind(n,73001,19)).then(()=>{nZ.push("mongodb")}))},hK={lang:"monkey",loader:()=>n.e("20").then(n.t.bind(n,56976,19)).then(()=>{nZ.push("monkey")})},hQ={lang:"moonscript",loader:()=>n.e("20").then(n.t.bind(n,99944,19)).then(()=>{nZ.push("moonscript")})},hX={lang:"n1ql",loader:()=>n.e("20").then(n.t.bind(n,17885,19)).then(()=>{nZ.push("n1ql")})},hJ={lang:"n4js",loader:async()=>(await ho.loader(),n.e("20").then(n.t.bind(n,58147,19)).then(()=>{nZ.push("n4js")}))},h$={lang:"nand2tetris_hdl",loader:()=>n.e("20").then(n.t.bind(n,33181,19)).then(()=>{nZ.push("nand2tetris_hdl")})},h1={lang:"naniscript",loader:()=>n.e("20").then(n.t.bind(n,96400,19)).then(()=>{nZ.push("naniscript")})},h0={lang:"nasm",loader:()=>n.e("20").then(n.t.bind(n,43027,19)).then(()=>{nZ.push("nasm")})},h2={lang:"neon",loader:()=>n.e("20").then(n.t.bind(n,73010,19)).then(()=>{nZ.push("neon")})},h3={lang:"nevod",loader:()=>n.e("20").then(n.t.bind(n,42534,19)).then(()=>{nZ.push("nevod")})},h5={lang:"nginx",loader:()=>n.e("20").then(n.t.bind(n,12707,19)).then(()=>{nZ.push("nginx")})},h4={lang:"nim",loader:()=>n.e("20").then(n.t.bind(n,45872,19)).then(()=>{nZ.push("nim")})},h9={lang:"nix",loader:()=>n.e("20").then(n.t.bind(n,43423,19)).then(()=>{nZ.push("nix")})},h6={lang:"nsis",loader:()=>n.e("20").then(n.t.bind(n,81986,19)).then(()=>{nZ.push("nsis")})},h7={lang:"objectivec",loader:async()=>(await cV.loader(),n.e("963").then(n.t.bind(n,26486,19)).then(()=>{nZ.push("objectivec")}))},h8={lang:"ocaml",loader:()=>n.e("20").then(n.t.bind(n,47233,19)).then(()=>{nZ.push("ocaml")})},pe={lang:"odin",loader:()=>n.e("20").then(n.t.bind(n,9380,19)).then(()=>{nZ.push("odin")})},pt={lang:"opencl",loader:async()=>(await cV.loader(),n.e("963").then(n.t.bind(n,5605,19)).then(()=>{nZ.push("opencl")}))},pn={lang:"openqasm",loader:()=>n.e("20").then(n.t.bind(n,69320,19)).then(()=>{nZ.push("openqasm")})},pa={lang:"oz",loader:()=>n.e("20").then(n.t.bind(n,45722,19)).then(()=>{nZ.push("oz")})},pr={lang:"parigp",loader:()=>n.e("20").then(n.t.bind(n,45157,19)).then(()=>{nZ.push("parigp")})},po={lang:"parser",loader:async()=>(await hz.loader(),n.e("20").then(n.t.bind(n,55999,19)).then(()=>{nZ.push("parser")}))},ps={lang:"pascal",loader:()=>n.e("963").then(n.t.bind(n,35791,19)).then(()=>{nZ.push("pascal")})},pi={lang:"pascaligo",loader:()=>n.e("20").then(n.t.bind(n,17892,19)).then(()=>{nZ.push("pascaligo")})},pl={lang:"pcaxis",loader:()=>n.e("20").then(n.t.bind(n,15286,19)).then(()=>{nZ.push("pcaxis")})},pd={lang:"peoplecode",loader:()=>n.e("20").then(n.t.bind(n,84542,19)).then(()=>{nZ.push("peoplecode")})},pc={lang:"perl",loader:()=>n.e("963").then(n.t.bind(n,37808,19)).then(()=>{nZ.push("perl")})},pu={lang:"php_extras",loader:()=>n.e("20").then(n.t.bind(n,61441,19)).then(()=>{nZ.push("php_extras")})},ph={lang:"php",loader:async()=>(await hB.loader(),n.e("963").then(n.t.bind(n,19983,19)).then(()=>{nZ.push("php")}))},pp={lang:"phpdoc",loader:async()=>(await hr.loader(),n.e("20").then(n.t.bind(n,55207,19)).then(()=>{nZ.push("phpdoc")}))},pg={lang:"plant_uml",loader:()=>n.e("20").then(n.t.bind(n,15430,19)).then(()=>{nZ.push("plant_uml")})},pm={lang:"plsql",loader:async()=>(await p8.loader(),n.e("20").then(n.t.bind(n,13934,19)).then(()=>{nZ.push("plsql")}))},pf={lang:"powerquery",loader:()=>n.e("20").then(n.t.bind(n,18498,19)).then(()=>{nZ.push("powerquery")})},pC={lang:"powershell",loader:()=>n.e("963").then(n.t.bind(n,17845,19)).then(()=>{nZ.push("powershell")})},pv={lang:"processing",loader:async()=>(await cK.loader(),n.e("20").then(n.t.bind(n,12605,19)).then(()=>{nZ.push("processing")}))},px={lang:"prolog",loader:()=>n.e("20").then(n.t.bind(n,43751,19)).then(()=>{nZ.push("prolog")})},pE={lang:"promql",loader:()=>n.e("20").then(n.t.bind(n,95441,19)).then(()=>{nZ.push("promql")})},py={lang:"properties",loader:()=>n.e("20").then(n.t.bind(n,34095,19)).then(()=>{nZ.push("properties")})},pb={lang:"protobuf",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,40828,19)).then(()=>{nZ.push("protobuf")}))},p_={lang:"psl",loader:()=>n.e("20").then(n.t.bind(n,82615,19)).then(()=>{nZ.push("psl")})},pw={lang:"pug",loader:()=>n.e("20").then(n.t.bind(n,61219,19)).then(()=>{nZ.push("pug")})},pS={lang:"puppet",loader:()=>n.e("20").then(n.t.bind(n,21625,19)).then(()=>{nZ.push("puppet")})},pI={lang:"pure",loader:()=>n.e("20").then(n.t.bind(n,28619,19)).then(()=>{nZ.push("pure")})},pT={lang:"purebasic",loader:async()=>(await cK.loader(),n.e("20").then(n.t.bind(n,32719,19)).then(()=>{nZ.push("purebasic")}))},pM={lang:"purescript",loader:async()=>(await uY.loader(),n.e("20").then(n.t.bind(n,88064,19)).then(()=>{nZ.push("purescript")}))},pj={lang:"python",loader:()=>n.e("963").then(n.t.bind(n,68956,19)).then(()=>{nZ.push("python")})},pk={lang:"q",loader:()=>n.e("20").then(n.t.bind(n,13509,19)).then(()=>{nZ.push("q")})},pA={lang:"qml",loader:()=>n.e("20").then(n.t.bind(n,88497,19)).then(()=>{nZ.push("qml")})},pR={lang:"qore",loader:async()=>(await cK.loader(),n.e("20").then(n.t.bind(n,58632,19)).then(()=>{nZ.push("qore")}))},pN={lang:"qsharp",loader:async()=>(await cK.loader(),n.e("20").then(n.t.bind(n,66951,19)).then(()=>{nZ.push("qsharp")}))},pL={lang:"r",loader:()=>n.e("963").then(n.t.bind(n,44244,19)).then(()=>{nZ.push("r")})},pF={lang:"racket",loader:async()=>(await pQ.loader(),n.e("20").then(n.t.bind(n,77587,19)).then(()=>{nZ.push("racket")}))},pO={lang:"reason",loader:async()=>(await cK.loader(),n.e("20").then(n.t.bind(n,44447,19)).then(()=>{nZ.push("reason")}))},pP={lang:"regex",loader:()=>n.e("20").then(n.t.bind(n,63007,19)).then(()=>{nZ.push("regex")})},pD={lang:"rego",loader:()=>n.e("20").then(n.t.bind(n,38047,19)).then(()=>{nZ.push("rego")})},pB={lang:"renpy",loader:()=>n.e("20").then(n.t.bind(n,42607,19)).then(()=>{nZ.push("renpy")})},pz={lang:"rescript",loader:()=>n.e("20").then(n.t.bind(n,51541,19)).then(()=>{nZ.push("rescript")})},pH={lang:"rest",loader:()=>n.e("20").then(n.t.bind(n,57015,19)).then(()=>{nZ.push("rest")})},pU={lang:"rip",loader:()=>n.e("20").then(n.t.bind(n,93185,19)).then(()=>{nZ.push("rip")})},pV={lang:"roboconf",loader:()=>n.e("20").then(n.t.bind(n,47502,19)).then(()=>{nZ.push("roboconf")})},pW={lang:"robotframework",loader:()=>n.e("20").then(n.t.bind(n,42068,19)).then(()=>{nZ.push("robotframework")})},pG={lang:"ruby",loader:async()=>(await cK.loader(),n.e("963").then(n.t.bind(n,37587,19)).then(()=>{nZ.push("ruby")}))},pZ={lang:"rust",loader:()=>n.e("963").then(n.t.bind(n,59342,19)).then(()=>{nZ.push("rust")})},pq={lang:"sas",loader:()=>n.e("637").then(n.t.bind(n,66144,19)).then(()=>{nZ.push("sas")})},pY={lang:"sass",loader:async()=>(await ue.loader(),n.e("963").then(n.t.bind(n,61990,19)).then(()=>{nZ.push("sass")}))},pK={lang:"scala",loader:async()=>(await hn.loader(),n.e("963").then(n.t.bind(n,33332,19)).then(()=>{nZ.push("scala")}))},pQ={lang:"scheme",loader:()=>n.e("963").then(n.t.bind(n,60017,19)).then(()=>{nZ.push("scheme")})},pX={lang:"scss",loader:async()=>(await ue.loader(),n.e("963").then(n.t.bind(n,93495,19)).then(()=>{nZ.push("scss")}))},pJ={lang:"shell_session",loader:()=>n.e("637").then(n.t.bind(n,41213,19)).then(()=>{nZ.push("shell_session")})},p$={lang:"smali",loader:()=>n.e("637").then(n.t.bind(n,69775,19)).then(()=>{nZ.push("smali")})},p1={lang:"smalltalk",loader:()=>n.e("637").then(n.t.bind(n,92963,19)).then(()=>{nZ.push("smalltalk")})},p0={lang:"smarty",loader:async()=>(await hB.loader(),n.e("637").then(n.t.bind(n,96689,19)).then(()=>{nZ.push("smarty")}))},p2={lang:"sml",loader:()=>n.e("637").then(n.t.bind(n,75579,19)).then(()=>{nZ.push("sml")})},p3={lang:"solidity",loader:async()=>(await cK.loader(),n.e("637").then(n.t.bind(n,7326,19)).then(()=>{nZ.push("solidity")}))},p5={lang:"solution_file",loader:()=>n.e("637").then(n.t.bind(n,68192,19)).then(()=>{nZ.push("solution_file")})},p4={lang:"soy",loader:async()=>(await hB.loader(),n.e("637").then(n.t.bind(n,69412,19)).then(()=>{nZ.push("soy")}))},p9={lang:"sparql",loader:async()=>(await gC.loader(),n.e("637").then(n.t.bind(n,51661,19)).then(()=>{nZ.push("sparql")}))},p6={lang:"splunk_spl",loader:()=>n.e("637").then(n.t.bind(n,23750,19)).then(()=>{nZ.push("splunk_spl")})},p7={lang:"sqf",loader:async()=>(await cK.loader(),n.e("637").then(n.t.bind(n,44954,19)).then(()=>{nZ.push("sqf")}))},p8={lang:"sql",loader:()=>n.e("963").then(n.t.bind(n,54898,19)).then(()=>{nZ.push("sql")})},ge={lang:"squirrel",loader:async()=>(await cK.loader(),n.e("637").then(n.t.bind(n,37494,19)).then(()=>{nZ.push("squirrel")}))},gt={lang:"stan",loader:()=>n.e("637").then(n.t.bind(n,21310,19)).then(()=>{nZ.push("stan")})},gn={lang:"stata",loader:()=>n.e("637").then(n.t.bind(n,36708,19)).then(()=>{nZ.push("stata")})},ga={lang:"stylus",loader:()=>n.e("963").then(n.t.bind(n,5598,19)).then(()=>{nZ.push("stylus")})},gr={lang:"supercollider",loader:()=>n.e("637").then(n.t.bind(n,36081,19)).then(()=>{nZ.push("supercollider")})},go={lang:"swift",loader:()=>n.e("963").then(n.t.bind(n,12776,19)).then(()=>{nZ.push("swift")})},gs={lang:"systemd",loader:()=>n.e("637").then(n.t.bind(n,5576,19)).then(()=>{nZ.push("systemd")})},gi={lang:"t4_cs",loader:async()=>(await gl.loader(),n.e("637").then(n.t.bind(n,14943,19)).then(()=>{nZ.push("t4_cs")}))},gl={lang:"t4_templating",loader:()=>n.e("637").then(n.t.bind(n,40076,19)).then(()=>{nZ.push("t4_templating")})},gd={lang:"t4_vb",loader:async()=>(await gl.loader(),n.e("637").then(n.t.bind(n,80829,19)).then(()=>{nZ.push("t4_vb")}))},gc={lang:"tap",loader:()=>n.e("637").then(n.t.bind(n,11286,19)).then(()=>{nZ.push("tap")})},gu={lang:"tcl",loader:()=>n.e("637").then(n.t.bind(n,28914,19)).then(()=>{nZ.push("tcl")})},gh={lang:"textile",loader:async()=>(await hz.loader(),n.e("637").then(n.t.bind(n,26006,19)).then(()=>{nZ.push("textile")}))},gp={lang:"toml",loader:()=>n.e("637").then(n.t.bind(n,42227,19)).then(()=>{nZ.push("toml")})},gg={lang:"tremor",loader:()=>n.e("637").then(n.t.bind(n,15951,19)).then(()=>{nZ.push("tremor")})},gm={lang:"tsx",loader:async()=>(await hC.loader(),n.e("963").then(n.t.bind(n,87512,19)).then(()=>{nZ.push("tsx")}))},gf={lang:"tt2",loader:async()=>(await Promise.all([cK.loader(),hB.loader()]),n.e("637").then(n.t.bind(n,33565,19)).then(()=>{nZ.push("tt2")}))},gC={lang:"turtle",loader:()=>n.e("637").then(n.t.bind(n,22276,19)).then(()=>{nZ.push("turtle")})},gv={lang:"twig",loader:async()=>(await hB.loader(),n.e("637").then(n.t.bind(n,97731,19)).then(()=>{nZ.push("twig")}))},gx={lang:"typescript",loader:async()=>(await ho.loader(),n.e("963").then(n.t.bind(n,80587,19)).then(()=>{nZ.push("typescript")}))},gE={lang:"typoscript",loader:()=>n.e("637").then(n.t.bind(n,94303,19)).then(()=>{nZ.push("typoscript")})},gy={lang:"unrealscript",loader:()=>n.e("637").then(n.t.bind(n,41777,19)).then(()=>{nZ.push("unrealscript")})},gb={lang:"uorazor",loader:()=>n.e("637").then(n.t.bind(n,78947,19)).then(()=>{nZ.push("uorazor")})},g_={lang:"uri",loader:()=>n.e("637").then(n.t.bind(n,54398,19)).then(()=>{nZ.push("uri")})},gw={lang:"v",loader:async()=>(await cK.loader(),n.e("637").then(n.t.bind(n,72762,19)).then(()=>{nZ.push("v")}))},gS={lang:"vala",loader:async()=>(await cK.loader(),n.e("637").then(n.t.bind(n,15071,19)).then(()=>{nZ.push("vala")}))},gI={lang:"vbnet",loader:async()=>(await ck.loader(),n.e("637").then(n.t.bind(n,78755,19)).then(()=>{nZ.push("vbnet")}))},gT={lang:"velocity",loader:async()=>(await hz.loader(),n.e("637").then(n.t.bind(n,73191,19)).then(()=>{nZ.push("velocity")}))},gM={lang:"verilog",loader:()=>n.e("637").then(n.t.bind(n,45777,19)).then(()=>{nZ.push("verilog")})},gj={lang:"vhdl",loader:()=>n.e("637").then(n.t.bind(n,31409,19)).then(()=>{nZ.push("vhdl")})},gk={lang:"vim",loader:()=>n.e("637").then(n.t.bind(n,8885,19)).then(()=>{nZ.push("vim")})},gA={lang:"visual_basic",loader:()=>n.e("637").then(n.t.bind(n,59627,19)).then(()=>{nZ.push("visual_basic")})},gR={lang:"warpscript",loader:()=>n.e("637").then(n.t.bind(n,66328,19)).then(()=>{nZ.push("warpscript")})},gN={lang:"wasm",loader:()=>n.e("637").then(n.t.bind(n,22256,19)).then(()=>{nZ.push("wasm")})},gL={lang:"web_idl",loader:()=>n.e("637").then(n.t.bind(n,11530,19)).then(()=>{nZ.push("web_idl")})},gF={lang:"wgsl",loader:()=>n.e("637").then(n.t.bind(n,47797,19)).then(()=>{nZ.push("wgsl")})},gO={lang:"wiki",loader:async()=>(await hz.loader(),n.e("637").then(n.t.bind(n,17214,19)).then(()=>{nZ.push("wiki")}))},gP={lang:"wolfram",loader:()=>n.e("637").then(n.t.bind(n,14155,19)).then(()=>{nZ.push("wolfram")})},gD={lang:"wren",loader:()=>n.e("637").then(n.t.bind(n,35393,19)).then(()=>{nZ.push("wren")})},gB={lang:"xeora",loader:async()=>(await hz.loader(),n.e("637").then(n.t.bind(n,26166,19)).then(()=>{nZ.push("xeora")}))},gz={lang:"xml_doc",loader:()=>n.e("637").then(n.t.bind(n,59825,19)).then(()=>{nZ.push("xml_doc")})},gH={lang:"xojo",loader:()=>n.e("637").then(n.t.bind(n,1670,19)).then(()=>{nZ.push("xojo")})},gU={lang:"xquery",loader:async()=>(await hz.loader(),n.e("637").then(n.t.bind(n,22360,19)).then(()=>{nZ.push("xquery")}))},gV={lang:"yaml",loader:()=>n.e("637").then(n.t.bind(n,8373,19)).then(()=>{nZ.push("yaml")})},gW={lang:"yang",loader:()=>n.e("637").then(n.t.bind(n,34176,19)).then(()=>{nZ.push("yang")})},gG={lang:"zig",loader:()=>n.e("963").then(n.t.bind(n,56961,19)).then(()=>{nZ.push("zig")})},gZ="wx932d4fdaf46d5611",gq=()=>{switch(ny.lu){case ny.hM.Staging:case ny.hM.Dev:return"wx58f1d4bc57bc28fd";case ny.hM.Production:return gZ;case ny.hM.ChatTest:return"wxd4679ecc940ea6be";case ny.hM.Unknown:return gZ;default:return(0,H.vv)(ny.lu),gZ}};n(97788),n(96230),n(25661),n(85051),n(4058),n(57631),n(74916),n(75278),n(15599),nb("init",{aid:675113,token:"772f2fcc08224a50b0134f8d3c139a21",env:ny.lu,release:"cc538c75",domain:"https://apmplus.volces.com",sample:{sample_granularity:"event"},integrations:[(0,nx.actionPlugin)()],plugins:{pageview:{extractPid:e=>nw(e)},performance:{longtask:!1}}}),nb("start"),nb("on","beforeSend",e=>{var t;return!("js_error"===e.ev_type&&(null===(t=e.payload.error.filename)||void 0===t?void 0:t.includes("userscript.html")))&&e}),d_.N.init(t6.l.getFgByKey("enableDataFinderDebug")),(0,sn.Fp)().then(e=>{F(e.ssid)}),t6.l.startApp({container:"#root",node:(0,C.jsx)(function(e){let{children:t}=e,n=t6.l.useIsMainlandChina(),a=t6.a.useLocale(),r=ez(),o=r("termsOfUse",a),s=r("privacyPolicy",a),i=r("privacyPolicyFile",n?"zh_CN":"en_US"),[l,d]=(0,Y.useState)(t6.l.getFgByKey("enableHcaptcha")),c=(0,nh.F)();return(0,Y.useEffect)(()=>{(0,sn.SW)("chat_hcaptcha",!1).then(e=>e&&d(!0))},[]),(0,C.jsx)(eq,{turnstileEnabled:!n,captchaEnabled:n?"shumei":!!l&&"hcaptcha",baseUrl:s$,isMainlandChina:n,isMobile:t6.l.isMobile,isBeta:!1,locale:a,modelServiceAgreement:o,privacyPolicy:s,privacyPolicyFile:i,tracker:t6.l.tracker,http:t6.l.httpWithCoreType,serverApiUserToUser:ld,setStorageUserToken:t6.l.setStorageUserToken,tintColor:"rgb(var(--ds-rgb-primary))",deleteAccountButtonTheme:{modalContentColor:c?"#3A3A46":void 0,modalContentTextColor:c?"#F8FAFF":void 0,cancelButtonColor:c?"#555562":void 0,cancelButtonHoverColor:c?"#474756":void 0,confirmButtonColor:c?"#D84749":void 0,confirmButtonDisableColor:c?"#8B3F45":void 0,confirmButtonHoverColor:c?"#8B3F45":void 0},isDark:c,children:t})},{children:(0,C.jsx)(()=>{ce();let e=(0,nh.F)();return(0,C.jsx)(Q,{disabled:t6.l.isMobile,showArrow:!0,arrowVariant:"soft",leaveDelay:100,enterDelay:100,children:(0,C.jsxs)($,{...s5(e),children:[(0,C.jsx)(d7,{}),(0,C.jsx)(iZ,{}),(0,C.jsx)(ee.pG,{router:d2}),(0,C.jsx)(iw,{name:"DebugPanel",props:{}})]})})},{})}),router:d2,onBeforeRender(){let e;document.addEventListener("visibilitychange",()=>{document.hidden?e=window.setTimeout(()=>{nm.L.getState().user&&d3(ns.ROOT)&&t6.l.logger.info("6 小时页面隐藏后跳转到首页")},216e5):window.clearTimeout(e)}),(0,H.al)({__DEV__:!1,getIsDebug:t6.l.getIsDebug,getLocale:t6.l.getLocale,useLocale:t6.l.useLocale,http:t6.l.http,logger:t6.l.logger,tracker:t6.l.tracker,withToast:t6.l.withToast,setLastSessionValue:e=>t6.l.setLastSessionValue(t=>{let n=e(t);return{...t,value:n}}),platform:"web",base64Encode:btoa}),function(){let{userIsMuted:e,userMuteUntil:t}=t6.l.getLastSessionValue();e&&Date.now()<t&&H.aK.getState().setMuted({muteUntil:t,isMuted:e})}(),nR(),ct(),(0,eu.on)("resize",window,ct),iL(),function(e){let{tracker:t,logger:n,withError:a,appId:r}=e;E=t,y=n,b=a,x=r}({appId:"guh50jw4",tracker:t6.l.tracker,logger:t6.l.logger,withError:t6.l.withError}),function(){if(t6.l.logger.info("初始化路由"),function(){let e=d2.state.location.search;return!!e&&"coder"===new URLSearchParams(e).get("from")}()&&(t6.l.logger.info("检测到是从 coder 跳转过来的"),nu.current=!0),!t6.l.getStorageUserToken()||en.qn){t6.l.logger.info("本地没有存 Token，或者是 iOS 登录，直接导航到登录页面"),d5({navigateToSignIn:!cn(),isBanned:!1});return}cn()&&(nu.current?(t6.l.logger.info("从 coder 跳过来的，导航到 coder"),d3(ns.AGENT,{agentId:H.HL.AgentId.CODER})):(t6.l.logger.info("不是从 coder 跳过来的，导航到 chat"),d3(ns.ROOT))),(0,tt.I3)(void 0,{http:t6.l.httpWithCoreType,baseUrl:s$},ld).then(e=>{let{data:{user:t}}=e;d4(t)}).catch(e=>{t6.l.tracker.error({name:"getCurrentFailed",message:"刷新当前用户状态失败",payload:t6.l.withError(e,{token:t6.l.getStorageUserToken()||tb.WN})})})}(),nm.L.subscribe(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.status},e=>{if(void 0===e){t6.l.tracker.info({name:"userStatusChange",message:"用户状态改变 => 暂无用户信息",payload:{status:"none"}});return}tb.IY.OK,t6.l.tracker.info({name:"userStatusChange",message:"用户状态改变 => 正常",payload:{status:"ok"}})}),d2.subscribe(e=>{let t,n;let a=t6.l.resolvePathRelativeToPublicPath(e.location.pathname),r=!1,o="",s=ns.ROOT,i=!1,l=nm.L.getState().user;ca(a)?l?(n=!0,t=!0,l.status,tb.IY.OK,r=!0,s=ns.ROOT,o="visitLogoutOnlyRoute",i=d3(ns.ROOT)):(n=!1,t=!!t6.l.getStorageUserToken()):l?(n=!0,t=!0):(n=!1,t6.l.getStorageUserToken()?t=!0:(t=!1,r=!0,s=ns.SIGN_IN,o="notLogin",i=d3(ns.SIGN_IN))),t6.l.tracker.info({name:"routeChange",message:"路由改变 => "+a,payload:{to:a,redirect:"".concat(r),redirected:"".concat(i),redirectReason:o,redirectTo:s,hasToken:"".concat(t),hasUserInfo:"".concat(n)}})}),on.A.subscribe({next(e){let{method:t,args:n}=e;"beUnauthenticated"===t?d5(n):"routerNavigate"===t&&d3(n.to)}}),function(){for(let t in f){var e;nY[nq[(e=f[t]).lang]]=e.loader}}(),function(e){let{region:t,tracker:n,disabled:a}=e;if(a||document.querySelector("script[data-smcp]"))return;P=n;let r=document.createElement("script");r.dataset.smcp="true";let o=null;if(t&&t in O.hW&&(o=(0,O.a)(t)),null===o||"CN"===o.iso2)r.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",B="CN";else switch(o.continent){case"AS":case"OC":r.src="https://castatic-xjp.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",B="SG";break;default:r.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",B="GLOBAL"}null==P||P.info({name:"__shumeiScriptSetup",message:"数美验证码 script 设置",payload:{rawRegion:t,region:B}}),document.head.appendChild(r),r.onload=()=>{D.resolve(),null==P||P.info({name:"__shumeiScriptLoadOk",message:"数美验证码 script 加载成功",payload:{rawRegion:t,region:B}})},r.onerror=e=>{D.reject(e),null==P||P.error({name:"__shumeiScriptLoadFailed",message:"数美验证码 script 加载失败",payload:P.withError(e,{rawRegion:t,region:B})})}}({region:t6.l.getRegion(),tracker:t6.l.tracker,disabled:"CN"!==t6.l.getRegion()&&null!==t6.l.getRegion()}),function(e){let{appId:t,tracker:n,logger:o,isBeta:s}=e;U=t,a=n,r=o,V=s}({appId:gq(),tracker:t6.l.tracker,logger:t6.l.logger,isBeta:!1}),function(e){let{organization:t,tracker:n}=e;window._smConf={organization:t,appId:"default",publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDetfEgYD4aE1ZjmWJ6/jnPurhzI+yeRoJHWrnNtQMte3stQ4VjG3yu21FuN75E6cDpA9KtDXwcB2M/FiGUAe3G0rNotbWI8+SjZfUbW/OILFTzY0uaeEkmVGW5WyJ6weQbbr1xTCPa2OO3YIMeZljWUYHG5h21WAm/PATg8im8cQIDAQAB",staticHost:"static.portal101.cn",protocol:"https",apiHost:"fp-it-acc.portal101.cn"},W=n}({organization:"P9usCUBauxft8eAmUXaZ",tracker:t6.l.tracker}),(0,eU.Zu)({sitekey:"0x4AAAAAAA1jQEh8YFk064tz",tracker:t6.l.tracker,logger:t6.l.logger,ignoreFailed:!0})},onAfterRender(){},onLocaleChange(){},onVisibilityChange(){}})},41998:function(e,t,n){e.exports={wrap:"_363cb01",menuOption:"_769fdce",title:"_3ad1932",desc:"_93e2bfa",columns:"bdf05640",confirmButton:"_3340925"}},53619:function(e,t,n){e.exports={sider:"dc04ec1d",wideSider:"a2f3d50e",slimSider:"a7f3a288",mask:"_4cbcd96",collapsed:"a02af2e6",hide:"_70b689f",transparent:"_7d10bb1"}},60645:function(e,t,n){e.exports={frame:"c994dda2",banner:"_47c279e",main:"_99ad066",footer:"_5178cc4"}},66276:function(e,t,n){e.exports={assistantMessage:"_4f9bf79",isLast:"d7dc56a8",showActions:"_43c05b5",showLoading:"_1988f4b",actions:"_965abe9",dislikeModalShown:"_44fa7a8",assistantMessageAvatarPosition:"_58dfa60",assistantMessageAvatar:"_7eb2358",loading:"b4e4476b",blank:"_2f297cc"}},66178:function(e,t,n){e.exports={thinkingWrap:"_48edb25",contentWrap:"e1675d8b",contentLine:"_9ecc93a"}},76153:function(e,t,n){e.exports={indicator:"_58a6d71",clickable:"_19db599"}},74018:function(e,t,n){e.exports={magnifier:"_1484be6",toggle:"_0f883e7"}},36760:function(e,t,n){e.exports={icon:"_7580acb",toggle:"_54f4262"}},99364:function(e,t,n){e.exports={userAvatar:"ede5bc47",userIcon:"_725f8ba",container:"c6ab9234",username:"_7d65532",picture:"fdf01f38"}},57572:function(e,t,n){e.exports={labelContainer:"ebd4cd9a",switchContainer:"_663bc35",description:"_0d00f26"}},28161:function(e,t,n){e.exports={settingsItem:"_50b3d9e"}},12843:function(e,t,n){e.exports={button:"cdf736f8"}},46235:function(e,t,n){e.exports={statusPending:"_93cf5ec",statusFinished:"_44a68f4"}},68964:function(e,t,n){e.exports={labelContainer:"_4a66405",operationContainer:"_601fe4b",description:"d6e050ed"}},60525:function(e,t,n){e.exports={avatar:"_9fdc091"}},38168:function(e,t,n){e.exports={characterInHeader:"_3e307a2"}},42118:function(e,t,n){e.exports={container:"c7ff2faa",portrait:"_8c929f5",avatar:"_0b53c0e",name:"f652d34f",author:"_5e1c32e",description:"_7ef39bc",recommendedPrompts:"_883c051",promptItem:"_3086cd6"}},45577:function(e,t,n){e.exports={recommendPrompt:"_052f656",content:"faf995dc",rightArrow:"_1219a20"}},79198:function(e,t,n){e.exports={avatarContainer:"bf9dce37",avatar:"_0cb792b",line:"db33d433"}},71165:function(e,t,n){e.exports={inputFullContainer:"aaff8b8f",inputWrapper:"_77cefa5",withFile:"_1d5e44c",ocrTip:"_7ca114c",bellowInputWrapper:"dd442025",bellowInputWrapperDoubleRowLayout:"_42b6996",functionRow:"ec4f5d61",functionRowRightColumn:"bf38813a",textareaAlignWrapper:"_24fad49",textarea:"_27c9245",textareaMirror:"b13855df",sendButton:"_7436101",buttonContent:"_6f28693",newChatButton:"_5abf3e1",loading:"dbf3da68",textWrapper:"_5d3faf4",disabled:"bcc55ca1",debugTip:"_8ac69d6",stopIcon:"_480132b"}},56491:function(e,t,n){e.exports={mask:"_9f00468",wrap:"_116ea5b",title:"_59bd16b",desc:"_43a83ad"}},60685:function(e,t,n){e.exports={scrollToBottomButton:"_0e98de6"}},59681:function(e,t,n){e.exports={button:"_3172d9f",text:"ad0c98fd"}},42766:function(e,t,n){e.exports={uploadLaunchButton:"f02f0e25",disabled:"cfba8f40",uploadButtonTooltipText:"_393efd7"}},22373:function(e,t,n){e.exports={topMenuContainer:"_6969ec9"}},7291:function(e,t,n){e.exports={contentSidebarMask:"fffe1848",contentSidebarClose:"_5d271a3",contentSidebar:"_519be07",appearActive:"_4771b62",appearDone:"_27fc06b",exit:"_3390f94",exitActive:"_6c15980",contentContainer:"_26c5bc2",contentSidebarTitle:"_2c74d7a",leftSlot:"_560dc64",rightSlot:"f59a0d3b",contentSidebarInner:"fcd12e6e"}},5904:function(e,t,n){e.exports={}},91537:function(e,t,n){e.exports={container:"febb9909",dot:"_29ef3c7",fading:"_3f11678"}},31414:function(e,t,n){e.exports={content:"_74d6322",buttonGroup:"ddff0051"}},60133:function(e,t,n){e.exports={wrapper:"a4380d7b",fileItem:"_76cd190",fileItemBox:"d2d04dae",fileIcon:"b3a5d6c1",content:"_789aea7",caption:"f3a54b52",subCaption:"_5119742",closeButton:"_35730b2",failed:"_4ebfd18",couldPreview:"_0004e59",rightAlign:"_7a0c3ba",alwaysShow:"_46207b4",failedCloseButton:"_9a41837",loadingWrapper:"_48289ac"}},39980:function(e,t,n){e.exports={switch:"_81e8954",buttons:"efa13877",zoomButton:"e4ec2a75",disabled:"f199b2c5",verticalLine:"ae809fef",codeInfoName:"d813de27",disableOption:"_3343133",compactIconButton:"_7db3914"}},59415:function(e,t,n){e.exports={container:"_121d384",sidePart:"d2a24f03"}},92802:function(e,t,n){e.exports={errorContent:"_6c50daf",standIn:"_4a23c6b"}},17705:function(e,t,n){e.exports={wrap:"_17e14c5",branch:"dd7e4fda"}},14900:function(e,t,n){e.exports={messageRiskWarn:"_8ac543b",messageRiskWarnIcon:"_3ce6e41",messageRiskWarnTitle:"_46600c8"}},96706:function(e,t,n){e.exports={input:"_0632724"}},93137:function(e,t,n){e.exports={delimiter:"_50fd23d",trigger:"_2508e0d",dropdownMenuLabel:"_7d38c36",dropdownMenuLabelAvatar:"faf1228f",dropdownMenuLabelText:"fdf5dad2",goToMine:"_8ad5d9e",goToMineIcon:"_1162494"}},87496:function(e,t,n){e.exports={button:"_5a8ac7a",left:"c7dddcde",icon:"_1c42ad7"}},78802:function(e,t,n){e.exports={newChatButton:"_217e214"}},62521:function(e,t,n){e.exports={errorContainer:"fba535c8",main:"_07c5e23",title:"cfffee1e",action:"_79a73be",error:"f309f19b"}},60655:function(e,t,n){e.exports={container:"_3f79b51"}},83815:function(e,t,n){e.exports={mobileApp:"a1e75851",new:"_106b9f9",tooltipContent:"b2b9a841",qrCode:"_9ee3298",slimMobile:"_41b9122"}},29617:function(e,t,n){e.exports={bar:"c7f51894"}},89940:function(e,t,n){e.exports={container:"_33fe369",content:"dc433409",item:"_79fcd13"}},11924:function(e,t,n){e.exports={floatCard:"de80ba65"}},13013:function(e,t,n){e.exports={wrap:"_426ebf9",clickable:"_5130389",meta:"a93786a8",siteIcon:"c16074e9",siteName:"d2eca804",date:"caa1ee14",index:"ba26051b",title:"f664d0b2",snippet:"c56273f9"}},12140:function(e,t,n){e.exports={modelName:"d8ed659a",skeleton:"b9ba0ed4"}},7157:function(e,t,n){e.exports={menuItem:"_83421f9",actionButton:"_2090548",content:"c08e6e93",avatar:"_823060e",largeMask:"eaaaba55",active:"b64fb9ae",smallMask:"_2f87737"}},8225:function(e,t,n){e.exports={menuContainer:"_03210fb",empty:"f27d1011",sectionHeader:"_48cdfc1",section:"_5d4b535",sectionTrailingPadding:"b9cb4a74",loadmoreSentinel:"de3d058c",sessionLoading:"_873c4d4",error:"_47ef3ad",errorEmpty:"ede76300",skeletonWrap:"_196bcac",show:"_8a693f3",skeleton:"_5c2e5a9",skeletonContainer:"_68953bc",sessionList:"_77cdc67"}},63989:function(e,t,n){e.exports={messageListContainer:"_3919b83",messageListScrollContainer:"_8f60047",scrollContentWrapper:"_0f72b0b",messageListScrollWrapper:"dad65929",messageListLoading:"_772e792",error:"df4cb668",newChatButtonContainer:"_88681e8"}},80565:function(e,t,n){e.exports={messageListHeader:"_2be88ba",headerMask:"_62b4800",mobileHeader:"_0efe408",mobileApp:"_3a24007",iconButton:"d7829b2f",left:"_2e7d873",right:"_23ecf90",sessionHeader:"f8d1e4c0"}},27189:function(e,t,n){e.exports={sider:"f0d4f23d"}},5163:function(e,t,n){e.exports={deepseekIconContainer:"e066abb8",mobileLeftIconPlaceholder:"a5967822",mobileCollapsedDrawerButton:"_8a9564e",collapsedDrawerButton:"_7d1f5e2"}},53193:function(e,t,n){e.exports={resendButton:"a3b9bd76",besideFiles:"_59c20ea",besideContent:"_76a2310",disabled:"_7f04b94"}},44428:function(e,t,n){e.exports={userMessageContainer:"_9663006",userMessageActions:"_78e0558",hasBranch:"_03bad9a",editing:"_3111eee",alwaysShow:"_0bbda35",userMessage:"fbb737a4",belowFiles:"_8271fc3",bottomWrap:"e13328ad",files:"_0325aa6",text:"_3a26104",filesText:"b12bb222",hintFiles:"_672aaf7",hintText:"_90ea4a7",hintFilesText:"_515472c",actionsWithBranch:"_425ea0b",hintWithBranch:"ac2694a7",hint:"ce66e6df"}},94618:function(e,t,n){e.exports={sider:"b8812f16",buttonLine:"ebaea5d2"}},82287:function(e,t,n){e.exports={container:"a02c1715",main:"e32c2b1a",title:"_1270bde",action:"_8e693ef",error:"_8cf2d53"}},12225:function(e,t,n){e.exports={content:"_7463b82",loadingWrapper:"f0b28104"}},28209:function(e,t,n){e.exports={messageInputContainer:"_871cbca"}},7909:function(e,t,n){e.exports={frame:"cb86951c",layout:"c3ecdb44",banner:"cddfb2ed",main:"_7780f2e",messageColumn:"_765a5cd"}},19320:function(e,t,n){e.exports={contentCaveat:"_0fcaa63"}},44828:function(e,t,n){e.exports={onboardingContainer:"_660ca72",header:"_1551317",onboarding:"_9a2f8e4",sayHi:"_5758a85",muted:"_803e2cf",sayHiMain:"_6c7e7df",sayHiSub:"_9a8d0e1",sessionInput:"eb830e32",icon:"da6cda9a",caveat:"_7941d9f",muteAlert:"_71d6bcf"}},19107:function(e,t,n){e.exports={icon:"e2394955"}},75278:function(e,t,n){e.exports={}},15599:function(e,t,n){e.exports={}},74916:function(e,t,n){e.exports={}},55413:function(e,t,n){e.exports={}},4708:function(e,t,n){e.exports={}},18:function(e,t,n){e.exports={}},34481:function(e,t,n){e.exports={}},59654:function(e,t,n){e.exports={}},27934:function(e,t,n){e.exports={}},99752:function(e,t,n){e.exports={}},21374:function(e,t,n){e.exports={}},587:function(e,t,n){e.exports={}},1334:function(e,t,n){e.exports={}},57631:function(e,t,n){e.exports={}},4058:function(e,t,n){e.exports={}},25661:function(e,t,n){e.exports={}},85051:function(e,t,n){e.exports={}},96230:function(e,t,n){e.exports={}},97788:function(e,t,n){n.r(e.exports={})},7692:function(e,t,n){e.exports={}},32815:function(e,t,n){e.exports={}},74431:function(e,t,n){e.exports={}},90107:function(e,t,n){e.exports={}},834:function(e,t,n){e.exports={}},47489:function(e,t,n){e.exports={}},67308:function(e,t,n){e.exports={}},16849:function(e,t,n){e.exports={}},20434:function(e,t,n){e.exports={}},71091:function(e,t,n){e.exports={}},76279:function(e,t,n){e.exports={}},9853:function(e,t,n){e.exports={}},72575:function(e,t,n){e.exports={}},42524:function(e,t,n){e.exports={}},37654:function(e,t,n){e.exports={}},13176:function(e,t,n){e.exports={}},86698:function(e,t,n){e.exports={}},79573:function(e,t,n){e.exports={}},2130:function(e,t,n){e.exports={}},49150:function(e,t,n){e.exports={}},23276:function(e,t,n){e.exports={}},2005:function(e,t,n){e.exports={}},76089:function(e,t,n){e.exports={}},12234:function(e,t,n){e.exports={}},79763:function(e,t,n){e.exports={}},20141:function(e,t,n){e.exports={}},63501:function(e,t,n){e.exports={}},63702:function(e,t,n){e.exports={}},79302:function(e,t,n){e.exports={}},90692:function(e,t,n){e.exports={}},44071:function(e,t,n){e.exports={}},18993:function(e,t,n){let a;function r(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/oauth/get_token"),{json:{nonce:e.nonce,provider:e.provider}}).then(e=>{var t,n;let{json:{data:a},context:r}=e;if(!(null===(t=a.biz_data)||void 0===t?void 0:t.token))throw Error("Unable to get token, code: ".concat(a.biz_code,", msg: ").concat(a.biz_msg));return{data:{token:null===(n=a.biz_data)||void 0===n?void 0:n.token},context:r}})}function o(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/check_email_code"),{json:{email:e.email,email_verification_code:e.emailVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function s(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/check_sms_code"),{json:{mobile_number:e.mobilePhoneNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function i(e,t){let{email:n,turnstileToken:a,shumeiVerification:r,hcaptchaToken:o,locale:s,deviceId:i,scenario:l}=e,{baseUrl:d,http:c}=t;return c.http.post("".concat(d,"/create_email_verification_code"),{json:{email:n,turnstile_token:a,locale:s,shumei_verification:r,hcaptcha_token:o,device_id:null!=i?i:"",scenario:l}}).then(e=>{var t,n;let{json:a,context:r}=e;return{data:{code:a.data.biz_code,sendWindowSecs:null!==(n=null===(t=a.data.biz_data)||void 0===t?void 0:t.send_window_secs)&&void 0!==n?n:null},context:r}})}function l(e,t){let{mobileNumber:n,turnstileToken:a,locale:r,shumeiVerification:o,hcaptchaToken:s,deviceId:i}=e,{baseUrl:l,http:d}=t;return d.http.post("".concat(l,"/create_sms_verification_code"),{json:{locale:r,mobile_number:n,turnstile_token:a,shumei_verification:o,hcaptcha_token:s,device_id:null!=i?i:""}}).then(e=>{var t,n;let{json:a,context:r}=e;return{data:{code:a.data.biz_code,sendWindowSecs:null!==(n=null===(t=a.data.biz_data)||void 0===t?void 0:t.send_window_secs)&&void 0!==n?n:null},context:r}})}function d(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/email_reset_password"),{json:{email:e.email,email_verification_code:e.emailVerificationCode,password:e.password}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function c(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/login"),{json:{email:e.email,mobile:e.mobile,password:e.password,area_code:e.areaCode,device_id:e.deviceId,os:e.os},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}function u(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/login_by_mobile_sms"),{json:{region:e.region,locale:e.locale,mobile_number:e.mobileNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode,device_id:e.deviceId,os:e.os},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}function h(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/mobile_reset_password"),{json:{area_code:e.areaCode,mobile_number:e.mobile,password:e.password,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function p(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/register"),{json:{locale:e.locale,region:e.region,payload:{email:e.payload.email,email_verification_code:e.payload.emailVerificationCode,password:e.payload.password},device_id:e.deviceId,os:"web"},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,msg:a.biz_msg,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}function g(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/register_by_mobile"),{json:{locale:e.locale,region:e.region,payload:{area_code:"+86",mobile_number:e.payload.mobile,sms_verification_code:e.payload.smsVerificationCode,audit_json_str:e.payload.auditJsonString,password:e.payload.password},device_id:e.deviceId,os:"web"},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,msg:a.biz_msg,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}async function m(e,t){let{baseUrl:n,http:a}=t,r=await a.http.post("".concat(n,"/unregister"));switch(r.json.data.biz_code){case B.UNREGISTER_ERROR_CODE.OK:return"OK";case B.UNREGISTER_ERROR_CODE.DELETE_IDENTITY_TOO_FREQUENT:return"TOO_FREQUENT";default:throw Error("Unknown unregister error, ".concat(JSON.stringify(r.json.data)))}}async function f(e,t){let{http:n,baseUrl:a}=t;return n.http.post("".concat(a,"/logout")).then(e=>{let{context:t}=e;return{data:null,context:t}})}function C(e,t,n){let{http:a,baseUrl:r}=t;return a.http.get("".concat(r,"/current")).then(e=>{let{json:{data:t},context:a}=e;return{data:{user:n(t.biz_data)},context:a}})}function v(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/oauth/wechat/mobile_verification"),{json:{signature:e.signature,area_code:e.areaCode,mobile_number:e.mobilePhoneNumber,sms_verification_code:e.smsVerificationCode}}).then(e=>{var t,a;let{json:{data:r},context:o}=e;return{data:{code:r.biz_code,user:n((null===(t=r.biz_data)||void 0===t?void 0:t.user)||null),successCode:(null===(a=r.biz_data)||void 0===a?void 0:a.biz_code)||null},context:o}})}n.d(t,{a$:()=>B,g2:()=>g,WL:()=>l,OT:()=>u,wh:()=>h,ev:()=>v,Rh:()=>p,I3:()=>C,ju:()=>G,Tk:()=>i,_4:()=>o,iD:()=>s,H$:()=>f,h_:()=>r,V6:()=>m,VB:()=>d,dw:()=>c}),(E=(x=B||(B={})).BIND_MOBILE_CHALLENGE_ERROR_CODE||(x.BIND_MOBILE_CHALLENGE_ERROR_CODE={}))[E.OK=0]="OK",E[E.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",E[E.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",E[E.MOBILE_ALREADY_BOUND=3]="MOBILE_ALREADY_BOUND",E[E.ACCOUNT_ALREADY_HAS_MOBILE=4]="ACCOUNT_ALREADY_HAS_MOBILE",E[E.MOBILE_VERIFY_FAILED=5]="MOBILE_VERIFY_FAILED",E[E.CLOUD_ERROR=99]="CLOUD_ERROR",(y=x.BIND_MOBILE_VALIDATE_ERROR_CODE||(x.BIND_MOBILE_VALIDATE_ERROR_CODE={}))[y.OK=0]="OK",y[y.SMS_EXPIRED=1]="SMS_EXPIRED",y[y.SMS_VERIFY_FAILED=2]="SMS_VERIFY_FAILED",y[y.ACCOUNT_ALREADY_HAS_MOBILE=3]="ACCOUNT_ALREADY_HAS_MOBILE",y[y.MOBILE_ALREADY_BOUND=4]="MOBILE_ALREADY_BOUND",y[y.UNKNOWN_ERROR=99]="UNKNOWN_ERROR",(b=x.CHECK_EMAIL_CODE_ERROR_CODE||(x.CHECK_EMAIL_CODE_ERROR_CODE={}))[b.OK=0]="OK",b[b.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",b[b.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",b[b.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",(_=x.CHECK_SMS_CODE_ERROR_CODE||(x.CHECK_SMS_CODE_ERROR_CODE={}))[_.OK=0]="OK",_[_.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",_[_.SMS_EXPIRED=7]="SMS_EXPIRED",_[_.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(w=x.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE||(x.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE={}))[w.OK=0]="OK",w[w.EMAIL_REQUEST_TOO_FREQUENT=1]="EMAIL_REQUEST_TOO_FREQUENT",w[w.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",w[w.INVALID_EMAIL_FORMAT=3]="INVALID_EMAIL_FORMAT",w[w.EMAIL_DOMAIN_NOT_IN_WHITELIST=4]="EMAIL_DOMAIN_NOT_IN_WHITELIST",w[w.CLOUD_ERROR=99]="CLOUD_ERROR",(S=x.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE||(x.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE={}))[S.OK=0]="OK",S[S.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",S[S.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",S[S.NO_MOBILE_NUMBER=3]="NO_MOBILE_NUMBER",S[S.CLOUD_ERROR=99]="CLOUD_ERROR",(I=x.EMAIL_RESET_PASSWORD_ERROR_CODE||(x.EMAIL_RESET_PASSWORD_ERROR_CODE={}))[I.OK=0]="OK",I[I.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",I[I.INVALID_PASSWORD=4]="INVALID_PASSWORD",I[I.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",I[I.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",(T=x.LOGIN_ERROR_CODE||(x.LOGIN_ERROR_CODE={}))[T.OK=0]="OK",T[T.PASSWORD_OR_USER_NAME_IS_WRONG=2]="PASSWORD_OR_USER_NAME_IS_WRONG",T[T.USER_IS_BANNED=10]="USER_IS_BANNED",(M=x.GET_TOKEN_ERROR_CODE||(x.GET_TOKEN_ERROR_CODE={}))[M.OK=0]="OK",M[M.USER_IS_BANNED=10]="USER_IS_BANNED",(j=x.LOGIN_BY_MOBILE_SMS_ERROR_CODE||(x.LOGIN_BY_MOBILE_SMS_ERROR_CODE={}))[j.OK=0]="OK",j[j.LOGIN_TO_EXISTING_ACCOUNT=1]="LOGIN_TO_EXISTING_ACCOUNT",j[j.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",j[j.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",j[j.SMS_EXPIRED=7]="SMS_EXPIRED",j[j.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",j[j.INTERNAL_SERVER_ERROR=9]="INTERNAL_SERVER_ERROR",j[j.SSO_SERVER_ERROR=99]="SSO_SERVER_ERROR",(k=x.MobileResetPasswordServerErrorCode||(x.MobileResetPasswordServerErrorCode={}))[k.OK=0]="OK",k[k.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",k[k.INVALID_PASSWORD=4]="INVALID_PASSWORD",k[k.SMS_EXPIRED=7]="SMS_EXPIRED",k[k.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(A=x.REGISTER_ERROR_CODE||(x.REGISTER_ERROR_CODE={}))[A.OK=0]="OK",A[A.EMAIL_EXISTS=1]="EMAIL_EXISTS",A[A.INVALID_PASSWORD=4]="INVALID_PASSWORD",A[A.REGISTER_FROM_MAINLAND=6]="REGISTER_FROM_MAINLAND",A[A.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",A[A.EMAIL_PASSCODE_FAILED=8]="EMAIL_PASSCODE_FAILED",A[A.EMAIL_DOMAIN_NOT_SUPPORTED=9]="EMAIL_DOMAIN_NOT_SUPPORTED",(R=x.UNREGISTER_ERROR_CODE||(x.UNREGISTER_ERROR_CODE={}))[R.OK=0]="OK",R[R.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",R[R.DELETE_IDENTITY_TOO_FREQUENT=2]="DELETE_IDENTITY_TOO_FREQUENT",(N=x.REGISTER_BY_MOBILE_ERROR_CODE||(x.REGISTER_BY_MOBILE_ERROR_CODE={}))[N.OK=0]="OK",N[N.MOBILE_ALREADY_REGISTER=3]="MOBILE_ALREADY_REGISTER",N[N.PASSWORD_TOO_SHORT_OR_TOO_LONG=4]="PASSWORD_TOO_SHORT_OR_TOO_LONG",N[N.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",N[N.SMS_EXPIRED=7]="SMS_EXPIRED",N[N.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(L=x.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE||(x.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE={}))[L.OK=0]="OK",L[L.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",L[L.REGISTRATION_EXPIRED=2]="REGISTRATION_EXPIRED",L[L.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",L[L.SMS_VERIFY_FAILED=4]="SMS_VERIFY_FAILED",L[L.SMS_EXPIRED=5]="SMS_EXPIRED",L[L.MOBILE_PHONE_NUMBER_BANNED=6]="MOBILE_PHONE_NUMBER_BANNED",L[L.INTERNAL_SERVER_ERROR=7]="INTERNAL_SERVER_ERROR",(F=x.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE||(x.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE={}))[F.BOUND_WECHAT_TO_EXISTING_MOBILE=1e3]="BOUND_WECHAT_TO_EXISTING_MOBILE",F[F.REGISTERED_WECHAT_AND_MOBILE=1001]="REGISTERED_WECHAT_AND_MOBILE",(O=x.OAUTH_CALLBACK_ERROR_MESSAGE_CODE||(x.OAUTH_CALLBACK_ERROR_MESSAGE_CODE={}))[O.SWAP_CODE_NETWORK_ERROR=1]="SWAP_CODE_NETWORK_ERROR",O[O.SWAP_CODE_INVALID=2]="SWAP_CODE_INVALID",O[O.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",O[O.ACCOUNT_BANNED=4]="ACCOUNT_BANNED",O[O.RECAPTCHA_VERIFY_FAILED=5]="RECAPTCHA_VERIFY_FAILED",O[O.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",O[O.UNEXCEPTED_ERROR=99]="UNEXCEPTED_ERROR",(P=x.MINIPROGRAM_LOGIN_ERROR_CODE||(x.MINIPROGRAM_LOGIN_ERROR_CODE={}))[P.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",P[P.NEED_BIND_MOBILE=1]="NEED_BIND_MOBILE",P[P.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",P[P.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",(D=x.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE||(x.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE={}))[D.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",D[D.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",D[D.MOBILE_PHONE_NUMBER_BANNED=2]="MOBILE_PHONE_NUMBER_BANNED",D[D.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",D[D.GET_PHONE_NUMBER_ERROR=4]="GET_PHONE_NUMBER_ERROR",D[D.MOBILE_ACCOUNT_ALREADY_HAS_WECHAT=5]="MOBILE_ACCOUNT_ALREADY_HAS_WECHAT",D[D.WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE=6]="WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE",D[D.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=7]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",n(36631),n(1227),n(82538);var x,E,y,b,_,w,S,I,T,M,j,k,A,R,N,L,F,O,P,D,B,z=n(7760);let H=["/v0/users/register","/v0/users/register_by_mobile","/v0/users/login_by_mobile_sms","/api/v0/users/create_sms_verification_code","/api/v0/users/create_email_verification_code"],U=e=>H.some(t=>e.includes(t)),V=e=>new z.OS({getChallengeApi:e.getChallengeApi,getTracker:e.getTracker,solveChallenge:e.solveChallenge}),W=(a=null,e=>(a||(a=V(e)),a)),G=e=>async t=>{let n=t.url;if(!n||!U(n))return;let{getHttpService:a,getTracker:r,showErrorToast:o,getChallengeUrl:s,solveChallenge:i,encoder:l}=e,d=W({getChallengeApi:async e=>{let{url:t}=e,n=a(),r=(await n.http({method:"POST",url:s,json:{target_path:t}})).json,o=r.data.biz_data;if("guest_challenge"in o)return Z(o.guest_challenge);throw Error("guest_challenge not found:\n"+JSON.stringify(r))},getTracker:r,solveChallenge:i});try{let{challengeResponse:e}=await d.getChallengeAndSolve({url:n});t.headers=t.headers||{};let[a,r]=(0,z.Wc)(e,l);t.headers[a]=r}catch(e){o(e,n)}},Z=e=>({...e,expireAt:e.expire_at,expireAfter:e.expire_after})},80539:function(e,t,n){let a,r,o,s;n.d(t,{Ax:()=>tt,FT:()=>V,RZ:()=>eV,UK:()=>eW,JV:()=>eG,wF:()=>aH,HL:()=>W,X_:()=>a3,Ye:()=>tM,dZ:()=>tm,a2:()=>e2,v7:()=>ab,Mj:()=>a7,Dk:()=>ex,dQ:()=>a4,mf:()=>eZ,uT:()=>Y,yV:()=>ed,RJ:()=>rL,q_:()=>ej,yB:()=>rc,jX:()=>a8,yZ:()=>a9,MQ:()=>e3,XQ:()=>rN,af:()=>ru,vv:()=>ev.vv,y0:()=>ev.y0,tj:()=>tr,f9:()=>aM,od:()=>aw,uF:()=>tT,J8:()=>a6,hP:()=>ep,nH:()=>rn,p5:()=>a_,l3:()=>tS,ty:()=>eK,al:()=>et,aK:()=>ez,uk:()=>ra,Hr:()=>eq,cm:()=>aV,Yu:()=>a$,Hi:()=>aI,Qs:()=>aF,ZQ:()=>e0,dV:()=>Z}),n(63393),n(36631),n(98067);var i,l,d,c,u,h,p,g,m,f,C,v,x,E,y,b,_,w,S,I,T,M,j,k,A,R,N,L,F,O,P,D,B,z,H,U,V,W,G,Z,q,Y,K,Q=n(57338),X=n(48777);function J(e,t){let n={};for(let a of t)n[a]=e[a];return n}n(82538);var $=n(11066);let ee=(e,t)=>(0,$.Z)(t,0,e.length-1);function et(e){let{tracker:t,useLocale:n,getLocale:r,http:o,logger:s,withToast:i,getIsDebug:l,setLastSessionValue:d,__DEV__:c,platform:u,base64Encode:h}=e;a={useLocale:n,getLocale:r,http:o,tracker:t,logger:s,withToast:i,getIsDebug:l,setLastSessionValue:d,__DEV__:c,platform:u,base64Encode:h}}function en(){if(!a)throw Error("Chat SDK is not setup");return a}(l=(i=V||(V={})).HintType||(i.HintType={})).error="error",l.warning="warning",(d=i.CloseClickBehavior||(i.CloseClickBehavior={})).retry="retry",d.none="none",(c=i.NewSSEEventName||(i.NewSSEEventName={})).ready="ready",c.delta="delta",c.toast="toast",c.title="title",c.finish="finish",c.close="close",c.hint="hint",c.updateSession="updateSession",(h=(u=W||(W={})).MessageRole||(u.MessageRole={})).ASSISTANT="ASSISTANT",h.SYSTEM="SYSTEM",h.USER="USER",(p=u.MessageStatus||(u.MessageStatus={})).OK="FINISHED",p.WIP="WIP",p.ERROR="ERROR",p.INCOMPLETE="INCOMPLETE",p.CONTENT_FILTER="CONTENT_FILTER",p.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",p.TIMEOUT="TIMEOUT",(g=u.GenerateState||(u.GenerateState={})).INITIALIZING="INITIALIZING",g.AWAITING_FIRST_CHANGE="AWAITING_FIRST_CHANGE",g.GENERATING="GENERATING",(m=u.ResendScene||(u.ResendScene={})).completion="completion",m.edit="edit",(f=u.MessageFeedback||(u.MessageFeedback={})).LIKE="LIKE",f.DISLIKE="DISLIKE",(C=u.SessionStateEnum||(u.SessionStateEnum={})).idleWithNoHistory="idleWithNoHistory",C.fetchingHistory="fetchingHistory",C.historyError="historyError",C.sending="sending",C.completing="completing",C.idle="idle",(v=u.AgentId||(u.AgentId={})).CHAT="chat",v.CODER="coder",v.CHAT_CACHE1="chat_cache1",v.CHAT_CACHE2="chat_cache2";let ea=e=>({id:e.id,seqId:e.seq_id,title:e.title,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,updatedAt:1e3*e.updated_at,agent:W.AgentId.CHAT,state:W.SessionStateEnum.idleWithNoHistory,routeId:null,titleType:e.title_type,isHidden:!1});(E=(x=G||(G={})).ToastType||(x.ToastType={})).ERROR="error",E.WARNING="warning",(b=(y=Z||(Z={})).MessageRole||(y.MessageRole={})).ASSISTANT="ASSISTANT",b.USER="USER",b.SYSTEM="SYSTEM",(_=y.MessageStatus||(y.MessageStatus={})).FINISHED="FINISHED",_.WIP="WIP",_.FAILED="FAILED",_.CONTENT_FILTER="CONTENT_FILTER",_.INCOMPLETE="INCOMPLETE",_.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",_.TIMEOUT="TIMEOUT",(w=y.MessageFeedbackType||(y.MessageFeedbackType={})).LIKE="GOOD",w.DISLIKE="BAD",(y.MessageTipType||(y.MessageTipType={})).PARTIAL_FILE_READ="PARTIAL_FILE_READ",(S=y.SearchStatus||(y.SearchStatus={})).INIT="INIT",S.SEARCHING="SEARCHING",S.ANSWER="ANSWER",S.FINISHED="FINISHED",S.FAILED="FAILED",(I=y.AgentId||(y.AgentId={})).CODER="coder",I.CHAT="chat",I.CHAT_CACHE1="chat_cache1",I.CHAT_CACHE2="chat_cache2",(T=y.DeleteSessionErrorCode||(y.DeleteSessionErrorCode={}))[T.OK=0]="OK",T[T.SESSION_NOT_FOUND=1]="SESSION_NOT_FOUND",(M=y.DeleteAllSessionsErrorCode||(y.DeleteAllSessionsErrorCode={}))[M.OK=0]="OK",(j=y.ExportChatHistoryStatus||(y.ExportChatHistoryStatus={})).Created="CREATED",j.Pending="PENDING",j.Finished="FINISHED",(k=y.ExportAllDataErrorCode||(y.ExportAllDataErrorCode={}))[k.RATE_LIMIT=1]="RATE_LIMIT",(A=r=y.FileParseStatus||(y.FileParseStatus={})).PENDING="PENDING",A.PARSING="PARSING",A.SUCCESS="SUCCESS",A.FAILED="FAILED",A.CONTENT_FILTER="CONTENT_FILTER",A.CONTENT_TOO_LONG="CONTENT_TOO_LONG",A.CANCELLED="CANCELLED",A.CONTENT_EMPTY="CONTENT_EMPTY",A._CUSTOM_SYSTEM_ERROR_FAIL="_CUSTOM_SYSTEM_ERROR_FAIL",y.fileParseStatusMeaning={[r.PENDING]:{hasError:!1,isFinished:!1},[r.PARSING]:{hasError:!1,isFinished:!1},[r.SUCCESS]:{hasError:!1,isFinished:!0},[r.FAILED]:{hasError:!0,isFinished:!0},[r.CONTENT_FILTER]:{hasError:!0,isFinished:!0},[r.CONTENT_TOO_LONG]:{hasError:!0,isFinished:!0},[r.CANCELLED]:{hasError:!0,isFinished:!0},[r.CONTENT_EMPTY]:{hasError:!0,isFinished:!0},[r._CUSTOM_SYSTEM_ERROR_FAIL]:{hasError:!0,isFinished:!0}},(R=y.COMPLETION_ERROR_CODE||(y.COMPLETION_ERROR_CODE={}))[R.INVALID_SESSION_ID=1]="INVALID_SESSION_ID",R[R.PARENT_ROLE_NOT_ASSISTANT=2]="PARENT_ROLE_NOT_ASSISTANT",R[R.MAX_MESSAGE_COUNT_REACHED=3]="MAX_MESSAGE_COUNT_REACHED",R[R.REGENERATE_TEMPLATE_RESPONSE=4]="REGENERATE_TEMPLATE_RESPONSE",R[R.MUTED=5]="MUTED",R[R.EMPTY_PROMPT=6]="EMPTY_PROMPT",R[R.RESUME_MESSAGE_NOT_FOUND=7]="RESUME_MESSAGE_NOT_FOUND",R[R.RESUME_TIME_TOO_LONG=8]="RESUME_TIME_TOO_LONG",R[R.INVALID_REF_FILE_ID=9]="INVALID_REF_FILE_ID",R[R.SESSION_FILE_LIMIT_EXCEEDED=10]="SESSION_FILE_LIMIT_EXCEEDED",R[R.LAST_MESSAGE_IS_WIP=11]="LAST_MESSAGE_IS_WIP",R[R.THINKING_CANNOT_BE_WITH_FILE=13]="THINKING_CANNOT_BE_WITH_FILE",R[R.THINKING_QUOTA_EXCEEDED=15]="THINKING_QUOTA_EXCEEDED",R[R.CHARACTER_NOT_AVAILABLE=20]="CHARACTER_NOT_AVAILABLE",R[R.SEARCH_NOT_ALLOWED_WITH_CHARACTER=21]="SEARCH_NOT_ALLOWED_WITH_CHARACTER",(L=(N=y.CustomCharacter||(y.CustomCharacter={})).CreateCharacterErrorCode||(N.CreateCharacterErrorCode={}))[L.SENSITIVE_CONTENT=10]="SENSITIVE_CONTENT",L[L.NAME_TOO_LONG=11]="NAME_TOO_LONG",L[L.DESCRIPTION_TOO_LONG=12]="DESCRIPTION_TOO_LONG",L[L.SYSTEM_PROMPT_TOO_LONG=13]="SYSTEM_PROMPT_TOO_LONG",L[L.REACH_CHARACTER_LIMIT=14]="REACH_CHARACTER_LIMIT",(F=N.UpdateCharacterErrorCode||(N.UpdateCharacterErrorCode={}))[F.SENSITIVE_CONTENT=10]="SENSITIVE_CONTENT",F[F.NAME_TOO_LONG=11]="NAME_TOO_LONG",F[F.DESCRIPTION_TOO_LONG=12]="DESCRIPTION_TOO_LONG",F[F.SYSTEM_PROMPT_TOO_LONG=13]="SYSTEM_PROMPT_TOO_LONG",F[F.CHARACTER_NOT_FOUND=1]="CHARACTER_NOT_FOUND",(O=N.DeleteCharacterErrorCode||(N.DeleteCharacterErrorCode={}))[O.CHARACTER_NOT_FOUND=1]="CHARACTER_NOT_FOUND",(P=N.GetCharacterDetailsErrorCode||(N.GetCharacterDetailsErrorCode={}))[P.MISSING_CHARACTER_IDS=1]="MISSING_CHARACTER_IDS",P[P.TOO_MANY_CHARACTER_IDS=2]="TOO_MANY_CHARACTER_IDS",(D=N.PinCharacterErrorCode||(N.PinCharacterErrorCode={}))[D.CHARACTER_NOT_FOUND=1]="CHARACTER_NOT_FOUND",n(16841);let er=(o=0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+o++});var eo=n(51872);let es=()=>[{id:W.AgentId.CHAT,isSending:!1,prompt:""},{id:W.AgentId.CODER,isSending:!1,prompt:""},{id:W.AgentId.CHAT,isSending:!1,prompt:""},{id:W.AgentId.CHAT_CACHE1,isSending:!1,prompt:""},{id:W.AgentId.CHAT_CACHE2,isSending:!1,prompt:""}],ei=()=>es().map(e=>e.id),el=[W.AgentId.CHAT,W.AgentId.CODER,W.AgentId.CHAT_CACHE1,W.AgentId.CHAT_CACHE2];!function(e,t){let n=Object.values(e).filter(e=>!t.includes(e));if(n.length>0)throw Error("Missing enum values: ".concat(n.join(", ")))}(W.AgentId,el);let ed=e=>!!e&&!el.includes(e),ec=e=>{let t=null==e?void 0:e.status;if(!t)return!1;let{isFinished:n}=Z.fileParseStatusMeaning[t];return n},eu=()=>({agentFileIdsMap:Object.fromEntries(ei().map(e=>[e,[]])),sessionFileIdsMap:{},localFileIds:[],fileInfoMap:{},localServerIdMap:{},abortControllerMap:{}}),eh=()=>er("local_file_"),ep=(0,Q.Ue)()((0,eo.mW)((0,X.n)((e,t)=>({...eu(),addFile(t,n){let a=eh();return e(e=>{if(e.localFileIds.push(a),e.fileInfoMap[a]={localInfo:{id:a,fileName:t.name,fileSize:t.size,insertedAt:0,updatedAt:0,status:Z.FileParseStatus.PENDING,tokenUsage:null,errorCode:null},uploadInfo:{percent:0,isUploading:!0,failed:!1,failedMsg:void 0},serverInfo:null},n.sessionId){let t=e.sessionFileIdsMap[n.sessionId]||[];e.sessionFileIdsMap[n.sessionId]=[...t,a]}else if(n.agentId){let t=e.agentFileIdsMap[n.agentId]||[];e.agentFileIdsMap[n.agentId]=[...t,a]}}),a},addUploadedFiles(t){t.length&&e(e=>{t.forEach(t=>{let n=eh();e.localFileIds.push(n);let a={id:t.id,status:Z.FileParseStatus.SUCCESS,errorCode:null,fileName:t.fileName,fileSize:t.fileSize,tokenUsage:t.tokenUsage,insertedAt:t.insertedAt,updatedAt:t.updatedAt};e.localServerIdMap[n]=t.id,e.fileInfoMap[n]={uploadInfo:{isUploading:!1,percent:1,failed:!1,failedMsg:void 0},localInfo:a,serverInfo:a}})})},getFilesCount:e=>t().getFileInfoByBelongInfo(e).length,getIsAllFilesReady:e=>t().getFileInfoByBelongInfo(e).every(e=>{let{serverInfo:t}=e;return!!t&&ec(t)&&!eg(t.status)}),getUploadingFiles:e=>t().getFileInfoByBelongInfo(e).filter(e=>e.uploadInfo.isUploading).map(e=>e.localInfo),getFileInfoByBelongInfo(e){let{agentFileIdsMap:n,sessionFileIdsMap:a,fileInfoMap:r}=t(),{sessionId:o,agentId:s}=e;return o?(a[o]||[]).map(e=>r[e]):s?(n[s]||[]).map(e=>r[e]):[]},getFilesTokenCount:e=>t().getFileInfoByBelongInfo(e).reduce((e,t)=>{var n;return e+((null===(n=t.serverInfo)||void 0===n?void 0:n.tokenUsage)||0)},0),getContainFilesRequireDelete(e){let{getFileInfoByBelongInfo:n}=t();return n(e).some(e=>em(e).isRequireDelete)},getFileUploadInfo(e){var n;let a=t().getLocalIdByServerId(e)||e;return null===(n=t().fileInfoMap[a])||void 0===n?void 0:n.uploadInfo},getLocalIdByServerId(e){for(let[n,a]of Object.entries(t().localServerIdMap))if(a===e)return n},getAllServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).map(e=>e.id)},getIsRequireDelete(e){var n;let{fileInfoMap:a}=t(),r=a[null!==(n=t().getLocalIdByServerId(e))&&void 0!==n?n:e];return r?em(r):{isRequireDelete:!1,isUploadFailed:!1}},updateFileUploadInfo(n,a){e(e=>{if(!t().localFileIds.includes(n))return;let r=e.fileInfoMap[n];e.fileInfoMap[n]={...r,uploadInfo:a}})},removeAgentFilesAfterCreateSession(t){e(e=>{e.agentFileIdsMap[t]=[]})},removeSessionFiles:t=>{e(e=>{e.sessionFileIdsMap[t]=[]})},updateFileInfo(n,a){e(e=>{if(!t().localFileIds.includes(n))return;e.localServerIdMap[n]=a.id;let r=e.fileInfoMap[n];if(!r)throw Error("fileInfo not found");r.serverInfo=a})},moveFilesBelongingSession(t,n){e(e=>{e.sessionFileIdsMap[n]=e.sessionFileIdsMap[t],e.sessionFileIdsMap[t]=[]})},getUnparsedFileServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).filter(e=>!ec(e)).map(e=>e.id)},getFileInfo(e){var n;let{fileInfoMap:a,getLocalIdByServerId:r}=t(),o=a[null!==(n=r(e))&&void 0!==n?n:e];return(null==o?void 0:o.serverInfo)||(null==o?void 0:o.localInfo)},getFileInfoList(e){let{getFileInfo:n}=t();return e.map(e=>n(e))},removeFileAndAbortUpload(n){e(e=>{var a,r;let o=null!==(r=t().getLocalIdByServerId(n))&&void 0!==r?r:n;e.localFileIds=e.localFileIds.filter(e=>e!==o),ef(e,o),delete e.fileInfoMap[o],delete e.localServerIdMap[o],null===(a=e.abortControllerMap[o])||void 0===a||a.abort(),t().removeAbortController(o)})},setAbortController(t,n){e(e=>{e.abortControllerMap[t]=n})},removeAbortController(t){e(e=>{delete e.abortControllerMap[t]})},abortAllUpload(){let{abortControllerMap:e}=t();Object.values(e).forEach(e=>{e.abort()})},clearByBelongInfo(e){let{getFileInfoByBelongInfo:n}=t();n(e).map(e=>e.localInfo.id).forEach(e=>{t().removeFileAndAbortUpload(e)})},clear(){e(eu())}})),{name:"deepChat.useUploadFileStore",enabled:!1})),eg=e=>{let{hasError:t}=Z.fileParseStatusMeaning[e];return t},em=e=>{let t=e.uploadInfo.failed;if(t)return{isRequireDelete:!0,isUploadFailed:t};let{serverInfo:n}=e;return n?{isRequireDelete:eg(n.status),isUploadFailed:t}:{isRequireDelete:!1,isUploadFailed:t}},ef=(e,t)=>{let{agentFileIdsMap:n,sessionFileIdsMap:a}=e;Object.entries(n).forEach(e=>{let[a,r]=e;(null==r?void 0:r.includes(t))&&(n[a]=r.filter(e=>e!==t))}),Object.entries(a).forEach(e=>{let[n,r]=e;(null==r?void 0:r.includes(t))&&(a[n]=r.filter(e=>e!==t))})};var eC=n(92469),ev=n(53914);let ex=(e,t)=>{var n,a;let r=e.split(".");return r.length<=1?"":"lower"===t?(null===(a=r.pop())||void 0===a?void 0:a.toLocaleLowerCase())||"":(null===(n=r.pop())||void 0===n?void 0:n.toLocaleUpperCase())||""},eE=()=>{let e=new Date,t=e.getDate();return e.setDate(t+7),e.valueOf()},ey=e=>({...e,insertedAt:-1,systemPrompt:"",updatedAt:-1}),eb=()=>({id:"",name:"",description:"",author:{isOfficial:!1,name:null},avatar:{type:"TEXT",content:"",color:""},banned:!1,deleted:!1,insertedAt:0,updatedAt:0,recommendedPrompts:[]}),e_=()=>({pinnedCharacterIds:[],allCharacterData:{},editingCharacter:null}),ew=(0,Q.Ue)()((0,X.n)((e,t)=>({...e_(),updateCharacterByImmer:(t,n)=>{e(e=>{if(!e.allCharacterData[t]){en().tracker.error({name:"characterNotFoundWhenUpdate",message:"character not found when update: ".concat(t),payload:{id:t}});return}n(e.allCharacterData[t])})},getCharacter:e=>t().allCharacterData[e]||null,updateCharacterGroupsByExplore:e=>{let n=[];for(let t of e)n.push(...t.characters.map(ey));t().updateCharacterData(n)},updateCharacterData:t=>{e(e=>{for(let n of t){let{id:t}=n;e.allCharacterData[t]?e.allCharacterData[t]=(0,eC.Z)(e.allCharacterData[t],n,eS):e.allCharacterData[t]=ey(n)}})},setEditingCharacter:t=>{e(e=>{e.editingCharacter=t(e.editingCharacter||eb())})},clearEditingCharacter:()=>{e({editingCharacter:null})},setPinnedCharacterIds:n=>{let{mode:a,ids:r}=n;switch(a){case"replace":e({pinnedCharacterIds:r});break;case"add":e({pinnedCharacterIds:[...t().pinnedCharacterIds,...r]});break;case"remove":e({pinnedCharacterIds:t().pinnedCharacterIds.filter(e=>!r.includes(e))});break;default:(0,ev.vv)(a)}},clearAll:()=>{e(e_())}}))),eS=(e,t,n)=>{let a=null==t;if(!["systemPrompt","avatar"].includes(n)&&a)throw Error("srcValue is nil: ".concat(String(n)));return a?e:t},eI=()=>({agents:es(),sessionsState:"init",sessionStore:{},sessionIdList:[],isMuted:!1,muteUntil:0,earliestSessionSeqId:null,noMoreSessions:void 0,firstPageSettled:void 0});n(11651),n(59863),n(11854);let eT=-2,eM=()=>eT--,ej=e=>null!==e&&e<=-2;var ek=n(2135);let eA=(e,t)=>e.sessionStore[t]||null,eR=(e,t,n)=>{var a;return(null===(a=((e,t)=>{let n=eA(e,t);return n?n.messageStore:null})(e,t))||void 0===a?void 0:a[n])||null},eN=(e,t,n)=>{let a=eR(e,t,n);return a&&null!==a.parentId?eR(e,t,a.parentId):null},eL=e=>{let t=e.findIndex(e=>!ej(e));return[e.slice(0,t),e.slice(t)]},eF={getSessionImpl:eA,getMessageImpl:eR,getParentMessageImpl:eN,getMessagePath:(e,t)=>{let n=e.sessionStore[t];if(!n)return[];let a=[],r=n.rootBranchIds[n.rootBranchIndex];for((0,ek.Z)(r)||a.push(r);!(0,ek.Z)(r);){let n=eR(e,t,r);if(!n)break;let[o]=eL(n.childIds);a.push(...o);let s=n.childIds[n.currentChildIndex];if((0,ek.Z)(s))break;o.includes(s)||a.push(s),r=s}return a},getMessageBranchCount:(e,t,n)=>{let a=e.getParentMessage(t,n);if(a){let[e,t]=eL(a.childIds);return e.includes(n)?1:t.length}let r=e.getSession(t);return r?r.rootBranchIds.length:1},getMessageBranchIndex:(e,t,n)=>{let a=e.getParentMessage(t,n);if(!a){let n=e.getSession(t);return n?n.rootBranchIndex:0}let[r,o]=eL(a.childIds);return r.includes(n)?0:o.indexOf(n)},getLatestSentMessageId:(e,t)=>{var n;return null!==(n=eF.getMessagePath(e,t).findLast(e=>!ej(e)))&&void 0!==n?n:null},getLatestMessageId:(e,t)=>{var n;return null!==(n=eF.getMessagePath(e,t).at(-1))&&void 0!==n?n:null},getIsLastShowingUserMessage:(e,t,n)=>{let a=n=>{var a;let r=null!==(a=n.childIds[n.currentChildIndex])&&void 0!==a?a:-1;return e.getMessage(t,r)},r=e.getMessage(t,n);if(!r||r.role!==W.MessageRole.USER)return!1;if(!ej(n)){let e=a(r);return!e||!a(e)}let o=eN(e,t,n);if(!o)return!0;let[,s]=eL(o.childIds);return s.includes(n)}},{getParentMessageImpl:eO,getSessionImpl:eP,getMessageImpl:eD}=eF,eB=(()=>{try{return Number(localStorage.getItem("__session_page_size__"))}catch{return null}})()||null,ez=(0,Q.Ue)()((0,eo.mW)((0,X.n)((e,t)=>({...eI(),reset(){e(eI())},getAgent:e=>eH(t(),e),setSessionsState(t){e(e=>{e.sessionsState=t})},updateAgent(t,n){e(e=>{let a=eH(e,t);if(a)n(a);else{let a={id:t,isSending:!1,prompt:""};e.agents.push(a),n(a)}})},clearPrompt(t){let{sessionId:n}=t;e(e=>{let t=eP(e,n);t&&(t.prompt="")})},async fetchSessions(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eB,a=arguments.length>1?arguments[1]:void 0,{tracker:r}=en(),o={beforeSeqId:a=a||t().earliestSessionSeqId,count:n};r.info({name:"fetchSessionsApi",message:"开始请求fetch_page接口",payload:o}),e(e=>{e.sessionsState="loading"});try{let{data:{sessions:t,hasMore:n,characters:a},context:s}=await function(e){let{beforeSeqId:t,count:n}=e;return en().http.http.get("/api/v0/chat_session/fetch_page",{query:{before_seq_id:t,count:n}}).then(e=>{let{context:t,json:n}=e;return{data:{hasMore:n.data.biz_data.has_more,sessions:n.data.biz_data.chat_sessions.map(e=>({...ea(e)})),characters:[]},context:t}})}(o);r.info({name:"fetchSessionsApiOk",message:"请求fetch_page接口成功",payload:{...o,logId:s.logId}}),ew.getState().updateCharacterData(a),e(e=>{e.sessionsState="loaded",e.noMoreSessions=!1===n,t.forEach(t=>{var n;e.earliestSessionSeqId=Math.min(t.seqId,null!==(n=e.earliestSessionSeqId)&&void 0!==n?n:1/0);let a=eP(e,t.id);a?(a.state!==W.SessionStateEnum.idleWithNoHistory&&a.state!==W.SessionStateEnum.historyError&&(a.state,W.SessionStateEnum.fetchingHistory),Object.assign(a,J(t,["seqId","title","updatedAt"]))):(e.sessionIdList.push(t.id),e.sessionStore[t.id]={...t,agentId:"chat"})})})}catch(t){r.error({name:"fetchSessionsApiFailed",message:"请求fetch_page接口失败",payload:r.withError(t,{reason:"api"})}),e(e=>{e.sessionsState="error"})}finally{e(e=>{e.firstPageSettled=!0})}},getSession:e=>eP(t(),e),updateSession(t,n){e(e=>{!function(e,t,n){let a=eF.getSessionImpl(e,t);a&&n(a)}(e,t,n)})},addSession(t){e(e=>{e.sessionIdList.includes(t.id)||e.sessionIdList.push(t.id),e.sessionStore[t.id]=t})},deleteSession(t){e(e=>{e.sessionIdList=e.sessionIdList.filter(e=>e!==t),delete e.sessionStore[t]})},async renameSession(e,n){let{tracker:a}=en();try{a.info({name:"renameSessionApi",message:"开始请求rename session接口",payload:{chatSessionId:e,title:n}});let{context:{logId:r},data:{success:o,bizCode:s,bizMsg:i}}=await function(e){let{chatSessionId:t,title:n}=e;return en().http.http.post("/api/v0/chat_session/update_title",{json:{chat_session_id:t,title:n}}).then(e=>{let{context:t,json:n}=e,a=n.data.biz_code;return{data:{success:0===a,bizCode:a,bizMsg:n.data.biz_msg},context:t}})}({chatSessionId:e,title:n});if(!o)return a.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:a.withError(Error("biz_code: ".concat(s,", biz_msg: ").concat(i)),{chatSessionId:e,title:n})}),{success:!1};return a.info({name:"renameSessionApiOk",message:"请求rename session接口成功",payload:{chatSessionId:e,title:n,logId:r}}),t().updateSession(e,e=>{e.title=n,e.titleType="USER",e.updatedAt=Date.now()}),{success:!0}}catch(t){return a.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:a.withError(t,{chatSessionId:e,title:n})}),{success:!1}}},clearSessions(){e(e=>{e.sessionIdList=[],e.sessionStore={},e.sessionsState="loaded"})},getSessionMessages(e){let n=t().getSession(e);return n?n.messageStore:null},addMessage(e,n){t().updateSession(e,e=>{e&&(e.messageStore[n.id]=n)})},getMessage:(e,n)=>eD(t(),e,n),getParentMessage:(e,n)=>eO(t(),e,n),updateMessage(t,n,a){e(e=>{let r=eP(e,t);if(!r)return;let o=r.messageStore[n];o&&a(o)})},deleteMessage(t,n){e(e=>{let a=eP(e,t);if(!a)return;let r=eO(e,t,n);r&&(r.childIds=r.childIds.filter(e=>e!==n),r.currentChildIndex=ee(r.childIds,r.currentChildIndex)),a.rootBranchIds=a.rootBranchIds.filter(e=>e!==n);let o=a.rootBranchIndex;a.rootBranchIds[o]===n&&(a.rootBranchIndex=o%(a.rootBranchIds.length-1)),delete a.messageStore[n]})},replaceChildId(t,n,a){let{from:r,to:o}=a;e(e=>{let a=eD(e,t,n);if(!a)return;if(!a.childIds.length){a.childIds=[o];return}let s=a.childIds.indexOf(r);s>-1?a.childIds.splice(s,1,o):a.childIds.push(o)})},replaceRootBranchId:(t,n)=>{let{from:a,to:r}=n;e(e=>{let n=eP(e,t);if(!n)return;let o=n.rootBranchIds.indexOf(a);o>-1&&n.rootBranchIds.splice(o,1,r)})},async setMessageFeedback(e,n,a){if(!t().getMessage(e,n))return;let{tracker:r}=en();return r.info({name:"feedback",message:"用户反馈",payload:{sessionId:e,messageId:n,feedbackType:""+a.feedbackType,feedbackDescription:""+a.description,feedbackTag:""+a.feedbackTag}}),(function(e){var t,n;let a=e.feedbackType===W.MessageFeedback.LIKE?Z.MessageFeedbackType.LIKE:e.feedbackType===W.MessageFeedback.DISLIKE?Z.MessageFeedbackType.DISLIKE:null;return en().http.http.post("/api/v0/chat/message_feedback",{json:{chat_session_id:e.chatSessionId,message_id:e.messageId,feedback_type:a,feedback_tag:null!==(t=e.feedbackTag)&&void 0!==t?t:void 0,description:null!==(n=e.description)&&void 0!==n?n:void 0}}).then(()=>{})})({chatSessionId:e,messageId:n,feedbackType:a.feedbackType,feedbackTag:a.feedbackTag,description:a.description}).then(()=>{t().updateMessage(e,n,e=>{e.feedback=a.feedbackType})}).catch(o=>{t().updateMessage(e,n,e=>{e.feedback=null}),r.info({name:"feedback",message:"用户反馈失败",payload:r.withError(o,{sessionId:e,messageId:n,feedbackType:""+a.feedbackType,feedbackDescription:""+a.description,feedbackTag:""+a.feedbackTag})})})},navigateMessageBranch(e,n,a){let r=t().getMessage(e,n),o=t().getSession(e);if(r&&o){if(null===r.parentId){let n=ee(o.rootBranchIds,o.rootBranchIndex+a);t().updateSession(e,e=>{e.rootBranchIndex=n})}else{let n=t().getMessage(e,r.parentId);if(!n)return;t().updateMessage(e,n.id,e=>{e.currentChildIndex=ee(e.childIds,e.currentChildIndex+a)})}}},transferSessionAbortStatus:(e,n)=>{let{clearAborts:a,toIdle:r}=n;t().updateSession(e,e=>{a&&(e.aborts=[]),r&&(e.state=W.SessionStateEnum.idle)})},onUnauthenticated(){t().reset()},setMuted(t){let{isMuted:n,muteUntil:a}=t;e(e=>{e.isMuted=n,a&&(e.muteUntil=a)}),en().setLastSessionValue(e=>(e.userIsMuted=n,a&&(e.userMuteUntil=a),{...e}))}})),{name:"deepChat.useChatStore",enabled:function(){try{return!1}catch{return!1}}()})),eH=(e,t)=>e.agents.find(e=>e.id===t)||null,eU=e=>{ep.getState().clearByBelongInfo({agentId:null,sessionId:e})};function eV(){let{http:e}=en();return e.http.get("/api/v0/download_export_history").then(e=>{let{context:t,json:n}=e;return{data:n.data.biz_code===q.NO_TASK||n.data.biz_code===q.EXPIRED?{status:"EMPTY"}:{status:"INIT"===n.data.biz_data.status?"PENDING":n.data.biz_data.status,historyDownloadUrl:n.data.biz_data.history_download_url,legacyHistoryDownloadUrl:n.data.biz_data.legacy_history_download_url,exportAt:n.data.biz_data.exported_at,expireAt:n.data.biz_data.expires_at},context:t}})}function eW(){let{http:e}=en();return e.http.get("/api/v0/export_all").then(e=>{let{context:t,json:n}=e;if(0!==n.code)throw n;return{data:{code:n.data.biz_code},context:t}})}function eG(){let{http:e}=en();return e.http.get("/api/v0/legacy/export_chat_history").then(e=>{let{context:t,json:n}=e;return{data:{status:n.data.biz_data.status,downloadUrl:n.data.biz_data.download_url},context:t}})}function eZ(){return en().http.http.post("/api/v0/chat_session/delete_all").then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}})}(B=q||(q={}))[B.NO_TASK=1]="NO_TASK",B[B.EXPIRED=2]="EXPIRED";let eq=async e=>{let{targetPath:t}=e,{biz_data:n,biz_code:a,biz_msg:r}=(await en().http.http.post("/api/v0/chat/create_pow_challenge",{json:{target_path:t}})).json.data;if(0!==a)throw Error("Failed to create pow challenge: targetPath=".concat(t,", biz_code=").concat(a,", biz_msg=").concat(r));let o=n.challenge;return{...o,expireAt:o.expire_at,expireAfter:o.expire_after}};n(16798);var eY=n(7760);let eK="/api/v0/chat/completion",eQ=e=>{switch(e.scene){case"completion":case"firstCompletion":return{type:"completion",request:e};case"regenerate":return{type:"regenerate",request:e};case"continue":return{type:"continue",request:e};case"resumeStream":return{type:"resumeStream",request:e};case"editMessage":return{type:"editMessage",request:e};default:return(0,ev.y0)(e)}},eX=(e,t)=>{e.info({name:"chatCompletionApi",message:"chatCompletionApi 被调用",payload:{scene:t.type,chatSessionId:t.request.chatSessionId,withFile:"".concat("completion"===t.type&&t.request.refFileIds.length>0),thinkingEnabled:"thinkingEnabled"in t.request&&t.request.thinkingEnabled?"true":"false",messageId:"messageId"in t.request?String(t.request.messageId):"",challengeResponse:"challengeResponse"in t.request&&t.request.challengeResponse?"true":"false",searchEnabled:"searchEnabled"in t.request&&t.request.searchEnabled?"true":"false"}})},eJ=e=>{let t=e.type;switch(t){case"completion":return eK;case"regenerate":return"/api/v0/chat/regenerate";case"continue":return"/api/v0/chat/continue";case"editMessage":return"/api/v0/chat/edit_message";case"resumeStream":return"/api/v0/chat/resume_stream";default:return(0,ev.y0)(t)}},e$=e=>"completion"===e.type?{chat_session_id:e.request.chatSessionId,parent_message_id:e.request.parentMessageId,prompt:e.request.prompt,ref_file_ids:e.request.refFileIds,thinking_enabled:e.request.thinkingEnabled,search_enabled:e.request.searchEnabled}:"regenerate"===e.type?{chat_session_id:e.request.chatSessionId,child_message_id:e.request.childMessageId,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled}:"continue"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId}:"editMessage"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId,prompt:e.request.prompt,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled}:{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId},e1=e=>{if("challengeResponse"in e.request&&e.request.challengeResponse){let t=en().base64Encode,[n,a]=(0,eY.g6)(e.request.challengeResponse,eK,t);return{[n]:a}}return{}},e0="/api/v0/file/upload_file";async function e2(e,t){let{file:n,headers:a}=e,{onUploadProgress:r,abortSignal:o}=t,s=new FormData;return s.append("file",n),(await en().http.http.post(e0,{body:s,onUploadProgress:r,signal:o,headers:a})).json}let e3=async e=>{let{http:t,tracker:n}=en();try{await t.http.post("/api/v0/client/span",{json:e})}catch(t){n.error({name:"clientSpanApiError",message:"用户行为上报失败",payload:n.withError(t,e)})}},e5=e=>e?e.map(e4):null,e4=e=>({url:e.url,title:e.title,snippet:e.snippet,citeIndex:e.cite_index,publishedAt:e.published_at,siteName:e.site_name,siteIcon:e.site_icon}),e9=e=>{switch(e){case Z.MessageStatus.FINISHED:return W.MessageStatus.OK;case Z.MessageStatus.CONTENT_FILTER:return W.MessageStatus.CONTENT_FILTER;case Z.MessageStatus.CONTEXT_LENGTH_EXCEEDED:return W.MessageStatus.CONTEXT_LENGTH_EXCEEDED;case Z.MessageStatus.INCOMPLETE:case Z.MessageStatus.FAILED:return W.MessageStatus.INCOMPLETE;case Z.MessageStatus.WIP:return W.MessageStatus.WIP;case Z.MessageStatus.TIMEOUT:return W.MessageStatus.TIMEOUT;default:return(0,ev.vv)(e),W.MessageStatus.OK}},e6=e=>e?e.feedback_type===Z.MessageFeedbackType.LIKE?W.MessageFeedback.LIKE:W.MessageFeedback.DISLIKE:null;var e7=n(86239),e8=n(38955),te=n(35515);function tt(){let e=ez((0,te.N)(e=>e.sessionIdList.map(t=>e.getSession(t)).filter(e=>!!e).filter(e=>!e.isHidden).sort((e,t)=>t.updatedAt-e.updatedAt)));return(0,e7.useMemo)(()=>{let t=[],n=[],a=[],r=[],o=[],s=e8();return e.forEach(e=>{let i=e8(e.updatedAt).startOf("date"),l=s.diff(i,"day"),d=e.id;if(l<=0)t.push(d);else if(l<=1)n.push(d);else if(l<7)a.push(d);else if(l<30)r.push(d);else{let e=i.format("YYYY-MM"),t=o.find(t=>t.month===e);t?t.sessions.push(d):o.push({month:e,sessions:[d]})}}),{todaySessions:t,days7Sessions:a,days30Sessions:r,yesterdaySessions:n,previousSessions:o,isEmpty:0===e.length}},[e])}(z=Y||(Y={})).idle="idle",z.verifying="verifying",z.receiving="receiving";let tn=e=>ez(t=>{if(!e)return Y.idle;let n=t.getSession(e);if(!n)return Y.idle;let a=n.state;return a===W.SessionStateEnum.sending?Y.verifying:a===W.SessionStateEnum.completing?Y.receiving:Y.idle}),ta=e=>ez(t=>{if(!e)return!1;let n=t.getAgent(e);return!!n&&n.isSending}),tr=e=>{let{isAgentOrSession:t,sessionId:n,agentId:a}=e,r=ta(a),o=tn(n);return t&&r?Y.verifying:o};var to=n(92673);let ts={zh_CN:{__placeholder:e=>{let{children:t}=e;return t},characterNotAvailable:"该角色已不可用",completionGenerationTimeout:"当前聊天的人有点多，请稍后再提问吧。",completionInvalidParamsToast:"异常请求（1）",completionLastMessageIsWIP:"正在生成中，请稍后再试",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptEmptyToast:"发送的信息为空",completionPromptInvalidToast:"你输入的消息包含错误的 Unicode 字符，请调整后重试",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionRateLimitReachedToast:"你发送消息的频率过快，请稍后再发",completionRegenerateOnBadMessageToast:"无法重新生成此消息",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",createSessionFailedToast:"创建会话失败",fileContentCannotBeEmpty:"文件大小不能为空",fileCountLimitExceededToast:"上传文件数达到上限，每个对话可上传 50 个文件",fileExceedSizeLimit:"文件超出大小限制",fileNameCannotBeEmpty:"文件名不能为空",filenameTooLong:"文件名过长",hintFallback:"消息未能发送",hintInvalidParams:"消息未能发送，异常请求",hintLastMessageIsWIP:"请在其他消息生成结束后重试",hintMaxMessageCount:"消息数量达到上限，请开启新对话",hintNetworkError:"请检查网络后重试",invalidFileRefToast:"无效的文件引用，请检查你上传的文件并重试",invalidRequest:"异常请求",protocolViolationToast:"当前网络环境无法连接服务，请尝试切换网络或联系网络管理员",requestConcurrencyTooHigh:"并发请求过多",requestFrequencyTooHigh:"请求频率过高",resumeMessageNotFoundToast:"异常请求（2）",resumeMessageTimeTooLongToast:"异常请求（3）",riskTipFinance:"本回答可能包含金融投资建议。内容由 AI 生成，仅供参考，建议咨询专业金融顾问。",riskTipGeneral:"本回答由 AI 生成，内容仅供参考，请仔细甄别。",riskTipLegal:"本回答可能包含法律建议。内容由 AI 生成，仅供参考，建议咨询专业律师。",riskTipMedical:"本回答可能包含医疗建议。内容由 AI 生成，仅供参考，如有需求请及时就医。",riskTipProfanity:"本回答可能包含不文明用语，内容由 AI 生成，不代表任何真实意见或立场。",serverBusy:"服务器繁忙",systemServiceException:"系统服务异常",thinkingQuotaUsedUpToast:e=>{let{total:t}=e;return"今日使用次数已达上限，北京时间 24:00 刷新（".concat(t,"次/天）")},unsupportedFileFormat:"该格式暂不支持"},en_US:{__placeholder:e=>{let{children:t}=e;return t},characterNotAvailable:"The agent is not available.",completionGenerationTimeout:"DeepSeek is currently busy. Please check back later.",completionInvalidParamsToast:"Unexpected request (1)",completionLastMessageIsWIP:"Generating, please try again later.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptEmptyToast:"The prompt sent is empty.",completionPromptInvalidToast:"The message you sent contains invalid Unicode character. Please modify it and resend.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionRateLimitReachedToast:"You are sending messages too frequently. Please wait a moment before sending again.",completionRegenerateOnBadMessageToast:"Can't regenerate the message.",completionServerBusyToast:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",createSessionFailedToast:"Failed to create session.",fileContentCannotBeEmpty:"File size cannot be empty",fileCountLimitExceededToast:"File limit reached. 50 files max per session.",fileExceedSizeLimit:"File exceeds size limit",fileNameCannotBeEmpty:"File name cannot be empty",filenameTooLong:"File name too long",hintFallback:"Send failed.",hintInvalidParams:"Send failed. Invalid request.",hintLastMessageIsWIP:"Retry after current generation completes.",hintMaxMessageCount:"Message limit reached. Please start a new chat.",hintNetworkError:"Check network and retry.",invalidFileRefToast:"Invalid file reference. Check uploads and retry.",invalidRequest:"Invalid request.",protocolViolationToast:"Network access restricted. Try switching networks or contact your IT admin.",requestConcurrencyTooHigh:"Too many concurrent requests",requestFrequencyTooHigh:"RPD rate limit reached",resumeMessageNotFoundToast:"Unexpected request (2)",resumeMessageTimeTooLongToast:"Unexpected request (3)",riskTipFinance:"This response may contain financial investment advice. AI-generated content, for reference only. Please consult a professional financial advisor.",riskTipGeneral:"This response is AI-generated, for reference only.",riskTipLegal:"This response may contain legal advice. AI-generated content, for reference only. Please consult a professional lawyer.",riskTipMedical:"This response may contain medical advice. AI-generated content, for reference only. Please seek medical attention if necessary.",riskTipProfanity:"This response may contain inappropriate language. AI-generated content, not reflective of any real opinions or positions.",serverBusy:"Server busy",systemServiceException:"System temporarily unavailable",thinkingQuotaUsedUpToast:e=>{let{total:t}=e;return"You're out of Deep Thinking messages until 12:00 AM Beijing Time (".concat(t," messages per day).")},unsupportedFileFormat:"Unsupported file format"}},ti={};function tl(e){return t=>ts[e][t]}let td=["epub","mobi","azw3","pdf","png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","txt","md","csv","tsv","html","json","log","dot","go","h","c","cpp","cxx","cc","cs","java","js","css","jsp","php","py","py3","asp","yaml","yml","ini","conf","ts","tsx","doc","docx","ppt","pptx","xls","xlsx","abap","asc","ash","ampl","mod","g4","apib","apl","dyalog","asax","ascx","ashx","asmx","aspx","axd","dats","hats","sats","as","adb","ada","ads","agda","als","apacheconf","vhost","cls","applescript","scpt","arc","ino","asciidoc","adoc","aj","asm","a51","inc","nasm","aug","ahk","ahkl","au3","awk","auk","gawk","mawk","nawk","bat","cmd","befunge","bison","bb","decls","bmx","bsv","boo","b","bf","brs","bro","cats","idc","w","cake","cshtml","csx","c++","cp","h++","hh","hpp","hxx","inl","ipp","tcc","tpp","c-objdump","chs","clp","cmake","in","cob","cbl","ccp","cobol","cpy","capnp","mss","ceylon","chpl","ch","ck","cirru","clw","icl","dcl","click","clj","boot","cl2","cljc","cljs","hl","cljscm","cljx","hic","coffee","_coffee","cjsx","cson","iced","cfm","cfml","cfc","lisp","asd","cl","l","lsp","ny","podsl","sexp","cps","coq","v","cppobjdump","c++-objdump","c++objdump","cpp-objdump","cxx-objdump","creole","cr","feature","cu","cuh","cy","pyx","pxd","pxi","d","di","d-objdump","com","dm","zone","arpa","darcspatch","dpatch","dart","diff","patch","dockerfile","djs","dylan","dyl","intr","lid","E","ecl","eclxml","sch","brd","epj","e","ex","exs","elm","el","emacs","desktop","em","emberscript","erl","es","escript","hrl","xrl","yrl","fs","fsi","fsx","fx","flux","f90","f","f03","f08","f77","f95","for","fpp","factor","fy","fancypack","fan","fth","4th","forth","fr","frt","ftl","g","gco","gcode","gms","gap","gd","gi","tst","s","ms","glsl","fp","frag","frg","fsh","fshader","geo","geom","glslv","gshader","shader","vert","vrx","vsh","vshader","gml","kid","ebuild","eclass","po","pot","glf","gp","gnu","gnuplot","plot","plt","golo","gs","gst","gsx","vark","grace","gradle","gf","graphql","gv","man","1in","1m","1x","3in","3m","3qt","3x","me","n","rno","roff","groovy","grt","gtpl","gvy","gsp","hcl","tf","hlsl","fxh","hlsli","htm","st","xht","xhtml","mustache","jinja","eex","erb","deface","phtml","http","haml","handlebars","hbs","hb","hs","hsc","hx","hxsl","hy","pro","dlm","ipf","cfg","prefs","properties","irclog","weechatlog","idr","lidr","ni","i7x","iss","io","ik","thy","ijs","flex","jflex","geojson","lock","topojson","json5","jsonld","jq","jsx","jade","j","_js","bones","es6","jake","jsb","jscad","jsfl","jsm","jss","njs","pac","sjs","ssjs","sublime-build","sublime-commands","sublime-completions","sublime-keymap","sublime-macro","sublime-menu","sublime-mousemap","sublime-project","sublime-settings","sublime-theme","sublime-workspace","sublime_metrics","sublime_session","xsjs","xsjslib","jl","ipynb","krl","kicad_pcb","kit","kt","ktm","kts","lfe","ll","lol","lsl","lslp","lvproj","lasso","las","lasso8","lasso9","ldml","latte","lean","hlean","less","lex","ly","ily","m","ld","lds","liquid","lagda","litcoffee","lhs","ls","_ls","xm","x","xi","lgt","logtalk","lookml","lua","fcgi","nse","pd_lua","rbxs","wlua","mumps","m4","mcr","mtml","muf","mak","mk","mkfile","mako","mao","markdown","mkd","mkdn","mkdown","ron","mask","mathematica","cdf","ma","map","mt","nb","nbp","wl","wlt","matlab","maxpat","maxhelp","maxproj","mxt","pat","mediawiki","wiki","moo","metal","minid","druby","duby","mir","mirah","mo","mms","mmk","monkey","moon","myt","ncl","nl","nsi","nsh","axs","axi","nlogo","nginxconf","nim","nimrod","ninja","nit","nix","nu","numpy","numpyw","numsc","ml","eliom","eliomi","ml4","mli","mll","mly","objdump","mm","sj","omgrofl","opa","opal","opencl","p","scad","org","ox","oxh","oxo","oxygene","oz","pwn","aw","ctp","php3","php4","php5","php6","php7","php8","phps","phpt","pls","pck","pkb","pks","plb","plsql","sql","pov","pan","psc","parrot","pasm","pir","pas","dfm","dpr","lpr","pp","pl","al","cgi","perl","ph","plx","pm","pod","psgi","t","6pl","6pm","nqp","p6","p6l","p6m","pl6","pm6","pkl","pig","pike","pmod","pogo","pony","ps","eps","ps1","psd1","psm1","pde","prolog","yap","spin","proto","pub","pd","pb","pbi","purs","bzl","gyp","lmi","pyde","pyi","pyp","pyt","pyw","rpy","tac","wsgi","xpy","pytb","qml","qbs","pri","r","rd","rsx","raml","rdoc","rbbas","rbfrm","rbmnu","rbres","rbtbar","rbuistate","rhtml","rmd","rkt","rktd","rktl","scrbl","rl","raw","reb","r2","r3","rebol","red","reds","cw","rs","rsh","robot","rg","rb","builder","gemspec","god","irbrc","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","thor","watchr","sas","scss","smt2","smt","sparql","rq","sqf","hqf","cql","ddl","prc","tab","udf","viw","db2","ston","sage","sagews","sls","sass","scala","sbt","sc","scaml","scm","sld","sps","ss","sci","sce","self","sh","bash","bats","command","ksh","tmux","tool","zsh","sh-session","shen","sl","slim","smali","tpl","sp","sma","nut","stan","ML","fun","sig","sml","do","ado","doh","ihlp","mata","matah","sthlp","styl","scd","swift","sv","svh","vh","toml","txl","tcl","adp","tm","tcsh","csh","tex","aux","bbx","bib","cbx","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc","tea","no","textile","thrift","tu","ttl","twig","upc","anim","asset","mat","meta","prefab","unity","uno","uc","ur","urs","vcl","vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw","vala","vapi","veo","vim","vb","bas","frm","frx","vba","vbhtml","vbs","volt","vue","owl","webidl","x10","xc","xml","ant","axml","ccxml","clixml","cproject","csl","csproj","ct","dita","ditamap","ditaval","config","dotsettings","filters","fsproj","fxml","glade","grxml","iml","ivy","jelly","jsproj","kml","launch","mdpolicy","mxml","nproj","nuspec","odd","osm","plist","props","ps1xml","psc1","pt","rdf","rss","scxml","srdf","storyboard","stTheme","sublime-snippet","targets","tmCommand","tml","tmLanguage","tmPreferences","tmSnippet","tmTheme","ui","urdf","ux","vbproj","vcxproj","vssettings","vxml","wsdl","wsf","wxi","wxl","wxs","x3d","xacro","xaml","xib","xlf","xliff","xmi","dist","xproj","xsd","xul","zcml","xsp-config","metadata","xpl","xproc","xquery","xq","xql","xqm","xqy","xs","xslt","xsl","xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window","xtend","reek","rviz","sublime-syntax","syntax","yaml-tmlanguage","yang","y","yacc","yy","zep","zimpl","zmpl","zpl","ec","eh","edn","fish","mu","nc","ooc","rst","rest","wisp","prg","prw","gitignore","gitkeep","gitmodules","example","avifs","blp","bufr","bw","cur","dcx","dds","emf","fit","fits","flc","fli","ftc","ftu","gbr","grib","h5","hdf","hif","icb","icns","iim","im","j2c","j2k","jp2","jpc","jpe","jpf","jpx","mpeg","mpg","msp","pbm","pcd","pcx","pfm","pgm","pnm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"];var tc=n(45154);let tu=new class{increase(){this.count++}decrease(){if(this.count--,this.count<this.maxConcurrent){let e=this.queue.shift();e&&this.callByQueue(e)}}callByQueue(e){this.count<this.maxConcurrent?(this.increase(),e().then(()=>this.decrease(),()=>this.decrease())):this.queue.push(e)}limitConcurrent(e){var t=this;return function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return new Promise((n,r)=>t.callByQueue(()=>e(...a).then(n).catch(r)))}}constructor(e){(0,to._)(this,"maxConcurrent",void 0),(0,to._)(this,"count",0),(0,to._)(this,"queue",[]),this.maxConcurrent=e}}(3),th=tu.limitConcurrent.bind(tu);n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(7195);let tp=(e,t)=>{let{interval:n,name:a}=t,r=new Set,o=null,s=0,i=t=>{e().then(e=>{s===t&&r.forEach(t=>{try{t(e)}catch(t){let e=en().tracker;e.error({name:"pollingListenerError",message:"轮询监听回调执行错误",payload:e.withError(t,{})})}})}).catch(e=>{let t=en().tracker;t.error({name:"pollingFailed",message:"轮询失败，预期外的错误",payload:t.withError(e,{name:a})})}).finally(()=>{s===t&&(o=setTimeout(()=>i(t),n))})},l=()=>{o&&(clearTimeout(o),o=null),s++};return{startPolling:()=>{l(),i(++s)},subscribe:e=>(r.add(e),{unsubscribe:()=>{r.delete(e)}}),stopPolling:l}},tg=e=>({id:e.id,fileName:e.file_name,status:e.status,fileSize:e.file_size,insertedAt:e.inserted_at,updatedAt:e.updated_at,tokenUsage:e.token_usage,errorCode:e.error_code});class tm{get nonreactiveStore(){return ep.getState()}checkFilesCountOrSize(e,t){if(this.nonreactiveStore.getFilesCount(t)+e.length>50)return{validFiles:[],problem:"exceedCount"};let n=e.filter(e=>e.size>0x6400000),a=e.filter(e=>e.size<=0x6400000);return n.length>0?{validFiles:a,problem:"exceedSize"}:{validFiles:e,problem:null}}async addFileAndUpload(e){let{file:t,fileBelongInfo:n,thinkingEnabled:a}=e,{tracker:r}=en(),o=this.nonreactiveStore.addFile(t,n);r.info({name:"uploadFile",message:"选取并开始上传文件",payload:{fileName:t.name}}),this.nonreactiveStore.updateFileUploadInfo(o,{percent:0,isUploading:!0,failed:!1,failedMsg:void 0});let s=new tc.c;this.nonreactiveStore.setAbortController(o,s);try{let e=await this.uploadFile({file:t,headers:{"x-thinking-enabled":a?"1":"0"}},{onUploadProgress:e=>{if(s.signal.aborted)return;let{percent:t}=e;this.nonreactiveStore.updateFileUploadInfo(o,{percent:t,isUploading:!0,failed:!1,failedMsg:void 0})},abortSignal:s.signal});this.nonreactiveStore.updateFileUploadInfo(o,{percent:1,isUploading:!1,failed:!1,failedMsg:void 0});let{biz_code:n,biz_data:i,biz_msg:l}=e.data;if(0!==n){this.nonreactiveStore.updateFileUploadInfo(o,{percent:0,isUploading:!1,failed:!0,failedMsg:tf(n,this.getLocale)}),r.error({name:"uploadFileFailed",message:"文件上传失败",payload:r.withError(Error(l),{fileName:t.name})});return}this.nonreactiveStore.updateFileInfo(o,tg(i)),r.info({name:"uploadFileSuccess",message:"文件上传成功",payload:{fileName:t.name,fileId:i.id}}),eg(i.status)&&r.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:i.id,reason:i.status,file_name:i.file_name,stage:"upload"}})}catch(e){this.nonreactiveStore.updateFileUploadInfo(o,{failed:!0,isUploading:!1,percent:0,failedMsg:void 0}),r.error({name:"uploadFileFailed",message:"文件上传失败",payload:r.withError(e,{fileName:t.name})})}finally{this.nonreactiveStore.removeAbortController(o)}}async fetchFilesInfoOnce(e){if(this.pollLimiter.isPaused)return{success:!0,infoList:[]};let t=this.nonreactiveStore.getUnparsedFileServerIds(e);if(0===t.length)return{success:!0,infoList:[]};try{let e=(await function(e){let{fileIds:t}=e;return en().http.http.get("/api/v0/file/fetch_files",{context:en().http.withDefaultHttpContext({shouldWaitSse:!0}),query:{file_ids:t}})}({fileIds:t})).json.data.biz_data.files.map(e=>({localId:this.nonreactiveStore.getLocalIdByServerId(e.id),info:e})).filter(e=>!!e.localId);return{success:!0,infoList:e}}catch(n){let{tracker:e}=en();return e.error({name:"fetchFilesInfoFailed",message:"获取文件信息失败",payload:e.withError(n,{fileIds:t})}),{success:!1,failIdList:t.map(e=>this.nonreactiveStore.getLocalIdByServerId(e)).filter(e=>!!e)}}}async startPollingFilesInfo(e){this.stopPolling();let{subscribe:t,startPolling:n,stopPolling:a}=tp(()=>this.fetchFilesInfoOnce(e),{interval:3e3,name:"fetchFilesInfo"});n();let r=t(e=>{if(e.success){let t=e.infoList;t.forEach(e=>{let{localId:t,info:n}=e;this.nonreactiveStore.updateFileInfo(t,tg(n))});let{tracker:n}=en();t.filter(e=>{let{info:t}=e;return eg(t.status)}).forEach(e=>{let{info:t}=e;n.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:t.id,reason:t.status,file_name:t.file_name,stage:"parse"}})})}else e.failIdList.forEach(e=>{let t=this.nonreactiveStore.getFileInfo(e);t&&this.nonreactiveStore.updateFileInfo(e,{...t,status:Z.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL})})});this.stopPolling=()=>{a(),r.unsubscribe()}}getRefFileIds(e){return this.nonreactiveStore.getAllServerIds(e)}getFilesCount(e){return this.nonreactiveStore.getFilesCount(e)}deleteFile(e){this.nonreactiveStore.removeFileAndAbortUpload(e)}removeAgentFilesAfterCreateSession(e){this.nonreactiveStore.removeAgentFilesAfterCreateSession(e)}removeSessionFilesAfterCreateSession(e){this.nonreactiveStore.removeSessionFiles(e)}moveFilesBelongingSession(e,t){this.nonreactiveStore.moveFilesBelongingSession(e,t)}constructor(e,t,n){(0,to._)(this,"getLocale",void 0),(0,to._)(this,"pollLimiter",void 0),(0,to._)(this,"stopPolling",()=>void 0),(0,to._)(this,"uploadFile",void 0),(0,to._)(this,"hooks",{useIsAllSettled:e=>ep(t=>{let n=!t.getUploadingFiles(e).length,a=!t.getUnparsedFileServerIds(e).length;return n&&a}),useIsAllReady:e=>ep(t=>t.getIsAllFilesReady(e)),useIsContainFilesRequireDelete:e=>ep(t=>t.getContainFilesRequireDelete(e)),useFilesCountScale:e=>ep(t=>{let n=t.getFilesCount(e);return n?1===n?"single":"multi":"empty"}),useFileList:e=>ep(t=>t.getFileInfoByBelongInfo(e)),useIsMaxCount:e=>ep(t=>t.getFilesCount(e)>=50),useFilesTokenCount:e=>ep(t=>t.getFilesTokenCount(e))}),this.getLocale=e,this.pollLimiter=t,this.uploadFile=th(n)}}(0,to._)(tm,"transformServerFileInfoToClient",tg),(0,to._)(tm,"getAcceptFileTypes",()=>td.map(e=>".".concat(e)).join(",")),(0,to._)(tm,"getAcceptFileTypeList",()=>td),(0,to._)(tm,"maxFileSize",0x6400000),(0,to._)(tm,"maxFileCount",50);let tf=(e,t)=>{let n=Object({1:"fileNameCannotBeEmpty",2:"fileContentCannotBeEmpty",3:"fileExceedSizeLimit",4:"filenameTooLong",5:"systemServiceException",7:"requestFrequencyTooHigh",8:"requestConcurrencyTooHigh",9:"unsupportedFileFormat",15:"serverBusy"})[String(e)];return tl(t())(n)};var tC=n(27753);let tv=new(n(64269)).x;class tx{listenSearch(e){return this.searchListeners.add(e),()=>{this.searchListeners.delete(e)}}getSearchResult(e,t){return tE(this.nonreactiveChatStore,e,t)}convertCiteIndexToListIndex(e,t){var n;let a=((null===(n=ez.getState().getMessage(e.sessionId,e.messageId))||void 0===n?void 0:n.searchResults)||[]).findIndex(e=>e.citeIndex===t);return a<0?{valid:!1,text:String(t)}:{valid:!0,text:String(a+1)}}dispose(){this.subscription.unsubscribe()}get nonreactiveChatStore(){return ez.getState()}openSearchView(e){var t;let n=null===(t=this.nonreactiveChatStore.getMessage(e.sessionId,e.messageId))||void 0===t?void 0:t.searchResults;(null==n?void 0:n.length)&&(this.searchListeners.forEach(e=>e()),tv.next({method:"openSearchView",args:null}),this.useSearchViewStore.getState().setSearchViewIndex(e))}closeSearchView(){this.useSearchViewStore.getState().closeSearchView()}getIsShowingSearchView(e){let t=this.useSearchViewStore.getState().getSearchViewIndex();return(null==t?void 0:t.sessionId)===e.sessionId&&(null==t?void 0:t.messageId)===e.messageId}getShowingSearchView(){return this.useSearchViewStore.getState().getSearchViewIndex()}constructor(e){(0,to._)(this,"useSearchViewStore",void 0),(0,to._)(this,"searchListeners",new Set),(0,to._)(this,"subscription",void 0),(0,to._)(this,"_hooks",{useOriginalMessageSearchStatus:e=>ez((0,te.N)(t=>{var n;let a=t.getMessage(e.sessionId,e.messageId);return{searchStatus:null==a?void 0:a.searchStatus,messageContentEmpty:(null==a?void 0:null===(n=a.content)||void 0===n?void 0:n.length)===0}})),useSearchResult:e=>ez(function(e){let t=(0,e7.useRef)(null);return n=>{let a=e(n);return ty(t.current,a)?t.current:t.current=a}}(t=>{if(!e)return[];let n=t.getMessage(e.sessionId,e.messageId);return(null==n?void 0:n.searchResults)||null}))||[]}),(0,to._)(this,"hooks",{useIsShowSearchView:()=>this.useSearchViewStore(e=>e.getSearchViewIndex()),useMessageSearchStatus:e=>{let t=this._hooks.useOriginalMessageSearchStatus(e);return this.hooks.useSearchResultCount(e)?Z.SearchStatus.FINISHED:t.searchStatus||null},useSearchResultCount:e=>ez(t=>{var n,a;return(null===(a=t.getMessage(e.sessionId,e.messageId))||void 0===a?void 0:null===(n=a.searchResults)||void 0===n?void 0:n.length)||0}),useShowingSearchResult:()=>{let e=this.useSearchViewStore((0,te.N)(e=>e.getSearchViewIndex()));return this._hooks.useSearchResult(e)},useCiteSearchResult:(e,t)=>ez((0,te.N)(n=>tE(n,e,t)))}),this.useSearchViewStore=e,this.subscription=tv.subscribe(e=>{let{method:t}=e;"openPreview"===t&&this.closeSearchView()})}}let tE=(e,t,n)=>{var a;if(n<0)return null;let r=null===(a=e.getMessage(t.sessionId,t.messageId))||void 0===a?void 0:a.searchResults;return null==r?void 0:r.find(e=>e.citeIndex===n)},ty=(e,t)=>null!==e&&null!==t&&e.length===t.length&&e.every((e,n)=>e.citeIndex===t[n].citeIndex&&e.url===t[n].url),tb=()=>({currentSearchViewMessage:null}),t_=()=>(0,Q.Ue)()((0,X.n)((e,t)=>({...tb(),setSearchViewIndex:t=>{e(e=>{e.currentSearchViewMessage={...t}})},getSearchViewIndex:()=>t().currentSearchViewMessage,closeSearchView:()=>{e(e=>{e.currentSearchViewMessage=null})}}))),tw=(0,e7.createContext)({searchViewController:null}),tS=e=>{let{children:t,location:n}=e,a=tI();(0,e7.useEffect)(()=>{a.closeSearchView()},[n,a]),(0,e7.useEffect)(()=>()=>{a.dispose()},[a]);let r=(0,e7.useMemo)(()=>({searchViewController:a}),[a]);return(0,tC.jsx)(tw.Provider,{value:r,children:t})};tw.displayName="SearchContext";let tI=()=>{let e=(0,e7.useRef)();return e.current||(e.current=new tx(t_())),e.current},tT=()=>{let{searchViewController:e}=(0,e7.useContext)(tw);if(!e)throw Error("useSearchViewController must be used within a SearchViewProvider");return e};class tM{get isPaused(){return this._isPaused}pause(){this._isPaused=!0}resume(){this._isPaused=!1}constructor(){(0,to._)(this,"_isPaused",!1)}}n(1227);let tj={rootFieldMap:{message_id:"id",parent_id:"parentId",role:"role",content:"content",ban_regenerate:"banRegenerate",status:"status",accumulated_token_usage:"accumulatedTokenUsage",files:"files",inserted_at:"insertedAt",tips:"tips",thinking_enabled:"thinkingEnabled",thinking_content:"thinkingContent",thinking_elapsed_secs:"thinkingElapsedSecs",search_enabled:"searchEnabled",search_status:"searchStatus",search_results:"searchResults"},newSSENestedListFieldsMap:{files:{error_code:"errorCode",file_name:"fileName",file_size:"fileSize",id:"id",inserted_at:"insertedAt",status:"status",token_usage:"tokenUsage",updated_at:"updatedAt"},search_results:{cite_index:"citeIndex",published_at:"publishedAt",site_icon:"siteIcon",site_name:"siteName",snippet:"snippet",title:"title",url:"url"},tips:{content:"content",position:"position",type:"type"}}},tk=["search_results","files","tips"],tA="response",tR=(e,t)=>{let n=tB(t),a=n.length,r=new Map([[2,tL],[3,tF],[4,tO]]).get(a);if(!r)throw Error('Unexpected path "'.concat(t,'" with wrong length: ').concat(a));return new r(t,n,e).resolve()};class tN{constructor(e,t,n){(0,to._)(this,"path",void 0),(0,to._)(this,"parts",void 0),(0,to._)(this,"root",void 0),this.path=e,this.parts=t,this.root=n}}class tL extends tN{resolve(){let{path:e,root:t,parts:n}=this,a=n[1];if(!tD(a))throw Error("Invalid root field: ".concat(a," in path: ").concat(e));let r=tj.rootFieldMap[a],o=(e,n)=>{if("set"===n){t[r]=e;return}if("string"==typeof t[r]){t[r]+=e;return}if(tH(t[r],e)){t[r].push(...e);return}throw Error("Unmatched root field and value type")};return tP(a)?{write:o,transfer:t=>{if(null==t)return null;if(!Array.isArray(t))throw Error("Value excepted to be Array to path: ".concat(e));return t.map(tz(tj.newSSENestedListFieldsMap[a]))}}:{write:o,transfer:e=>e}}}class tF extends tN{resolve(){let{path:e,root:t,parts:n}=this,[a,r]=n.slice(1);!function(t){if(!tP(t))throw Error("Invalid root field: ".concat(t," in path: ").concat(e,", should be nested list field"))}(a);let o=parseInt(r);if(!Number.isInteger(o))throw Error("Invalid index: ".concat(r,", in path: ").concat(e));let s=tj.rootFieldMap[a];return{write:(n,a)=>{if("append"===a)throw Error("Append op is not supported to path: ".concat(e));t[s][o]=n},transfer:e=>tz(tj.newSSENestedListFieldsMap[a])(e)}}}class tO extends tN{resolve(){let{path:e,root:t,parts:n}=this,[a,r,o]=n.slice(1);!function(t){if(!tP(t))throw Error("Invalid root field: ".concat(t,", in path: ").concat(e,", should be nested list field"))}(a);let s=parseInt(r);if(!Number.isInteger(s))throw Error("Invalid index: ".concat(r,", in path: ").concat(e));let i=tj.rootFieldMap[a],l=t[i][s];if(!l)throw Error("No nested item with index [".concat(s,"] in path: ").concat(e,", mapped field: ").concat(i));let d=tj.newSSENestedListFieldsMap[a][o];if(!(d in Object(l)))throw Error("Invalid nested item field name ".concat(d,", in path: ").concat(e));return{write:(e,t)=>{if("set"===t){l[d]=e;return}if("string"==typeof e){l[d]+=e;return}if(tH(l[d],e)){l[d].push(...e);return}throw Error("Unmatched root field and value type")},transfer:e=>e}}}let tP=e=>tk.includes(e),tD=e=>e in tj.rootFieldMap,tB=e=>{let t=e.split("/").filter(Boolean);if(t[0]!==tA)throw Error("路径必须以 ".concat(tA," 开头，当前值：").concat(t[0]));return t},tz=e=>t=>Object.fromEntries(Object.entries(e).map(e=>{let[n,a]=e;return[a,t[n]]})),tH=(e,t)=>Array.isArray(t)&&Array.isArray(e),tU={set:(e,t,n)=>{let{write:a,transfer:r}=tR(e,t);a(r(n),"set")},append:(e,t,n)=>{let{write:a,transfer:r}=tR(e,t);a(r(n),"append")}};class tV{get nonReactiveStore(){return ez.getState()}enterStatus(e,t,n){this.updateMessageByFn(e,t,e=>{e.status=n})}updateMessageByFn(e,t,n){this.nonReactiveStore.updateMessage(e,t,n)}applyDeltaToMessage(e,t){let{chatSessionId:n,messageId:a}=t;this.updateMessageByFn(n,a,t=>{let{op:n,value:a,path:r}=e;switch(n){case"SET":tU.set(t,r,a);break;case"APPEND":tU.append(t,r,a);break;default:(0,ev.vv)(e)}})}upsertAssistantMessage(e,t){this.nonReactiveStore.addMessage(e,t)}addNewUserMessage(e,t,n){let a=t.chatSessionId,{messageId:r,childIds:o}=n,s=t.prompt,i=t.searchEnabled,l=t.thinkingEnabled,d=this.grabParentTokenCount(a,e),c={id:r,role:W.MessageRole.USER,content:s,status:W.MessageStatus.OK,parentId:e,childIds:o,currentChildIndex:0,feedback:null,isEditing:!1,files:tW(t),accumulatedTokenUsage:d,thinkingContent:null,thinkingElapsedSecs:null,banRegenerate:!1,thinkingEnabled:l,insertedAt:Date.now(),searchResults:[],searchEnabled:i,searchStatus:null,generateState:null,tips:[],hint:null,resendInfo:t.resendInfo,stopResponseId:null};return this.nonReactiveStore.addMessage(a,c),c}updateFakeUserMessageId(e){let{chatSessionId:t,newMessageId:n,fakeId:a}=e,r=this.nonReactiveStore.getMessage(t,a);if(!r)return;let o=r.parentId,s={from:a,to:n};this.nonReactiveStore.addMessage(t,{...r,id:n}),null!==o?this.nonReactiveStore.replaceChildId(t,o,s):this.nonReactiveStore.replaceRootBranchId(t,s),this.nonReactiveStore.deleteMessage(t,a)}deleteMessage(e,t){this.nonReactiveStore.deleteMessage(e,t)}getChildIndex(e,t){let{parent:n,child:a}=t,r=this.nonReactiveStore.getMessage(e,n);return r&&r.childIds.includes(a)?r.childIds.indexOf(a):null}getMessage(e,t){return this.nonReactiveStore.getMessage(e,t)}clearStopResponseId(e,t){this.nonReactiveStore.updateMessage(e,t,e=>{e.stopResponseId=null})}getBranchInfo(e,t){let n=eF.getMessageBranchCount(this.nonReactiveStore,e,t);return{count:n,index:eF.getMessageBranchIndex(this.nonReactiveStore,e,t),isInBranch:n>1}}updateBranchIndex(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{e.currentChildIndex=n})}addNewUserMessageCompose(e,t){let{onNoParentMessage:n,parentMessageId:a,targetIndex:r,messageId:o,childIds:s}=t,i=this.addNewUserMessage(a,e,{messageId:o,childIds:s});return this.addMessageIdToParent({chatSessionId:e.chatSessionId,newMessageId:o,onNoParentMessage:n,targetIndex:r}),i}getParentMessage(e,t){return this.nonReactiveStore.getParentMessage(e,t)}grabParentTokenCount(e,t){if(null===t)return 0;let n=this.getParentMessage(e,t);return n?n.accumulatedTokenUsage:0}onMessageComplete(e,t){null!==t&&this.nonReactiveStore.updateMessage(e,t,e=>{e.status===W.MessageStatus.WIP&&(e.status=W.MessageStatus.OK)})}markMessageAsNotEditing(e,t){!(0,ek.Z)(t)&&this.nonReactiveStore.updateMessage(e,t,e=>{e.isEditing=!1})}constructor(){(0,to._)(this,"addMessageIdToParent",e=>{let{chatSessionId:t,newMessageId:n,onNoParentMessage:a,targetIndex:r}=e,o=this.getParentMessage(t,n);if(!o){a({sessionId:t,messageId:n,index:r});return}let s=o.id;this.nonReactiveStore.updateMessage(t,s,e=>{if(e.childIds.includes(n)){if(en().__DEV__)throw Error("messageId ID ".concat(n," already in childIds of ").concat(e.id));return}null===r?(e.childIds.push(n),e.currentChildIndex=ee(e.childIds,e.childIds.length-1)):(e.childIds.splice(r,0,n),e.currentChildIndex=ee(e.childIds,r))})})}}let tW=e=>"files"in e?e.files:tG(e.refFileIds),tG=e=>ep.getState().getFileInfoList(e).filter(e=>!!e),tZ=e=>{let{id:t,name:n,description:a,system_prompt:r,inserted_at:o,updated_at:s,avatar:i,author:l,banned:d,deleted:c,recommended_prompts:u}=e;return{id:t,name:n,description:a,systemPrompt:r,insertedAt:o,updatedAt:s,avatar:i,author:{isOfficial:l.is_official,name:l.name},banned:d,deleted:c,recommendedPrompts:u}},tq=e=>{let{character_id:t,last_used_at:n}=e;return{characterId:t,lastUsedAt:n}},tY=e=>{let{id:t,name:n,description:a,avatar:r,author:o,banned:s,deleted:i,recommended_prompts:l,inserted_at:d,updated_at:c}=e;return{id:t,name:n,description:a,avatar:r,author:{isOfficial:o.is_official,name:o.name},insertedAt:d,updatedAt:c,banned:s,deleted:i,recommendedPrompts:l}},tK=e=>{let{category:t,characters:n}=e;return{category:t,characters:n.map(tY)}},tQ=function(e,t){let{duration:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{withToast:a}=en(),r=tl(en().getLocale());a(a=>{var o;let s=(o=en().useLocale,ti[t]?ti[t]:ti[t]=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];let r=tl(o())(t);return"string"==typeof r?r:r(...n)}),i=r(t);a[e]({node:(0,tC.jsx)(s,{}),description:i},{duration:n})})},tX={error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tQ("error",e,t)}};class tJ{get nonReactiveStore(){return ez.getState()}async createSession(e){let{tracker:t}=en();t.info({name:"createSession",message:"开始创建对话",payload:{agentId:e}});let n=ed(e);try{let{data:{session:t,character:a}}=await function(e){let{characterId:t}=e;return en().http.http.post("/api/v0/chat_session/create",{json:{character_id:t}}).then(e=>{var t;let{context:n,json:a}=e,r=a.data.biz_data;return{data:{session:{id:r.id,seqId:r.seq_id,title:r.title,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,agent:W.AgentId.CHAT,updatedAt:1e3*r.updated_at,state:W.SessionStateEnum.idle,routeId:null,titleType:r.title_type,agentId:(null===(t=r.character)||void 0===t?void 0:t.id)||W.AgentId.CHAT,isHidden:!1},character:r.character?tY(r.character):null},context:n}})}({characterId:n?e:null});return{session:t,character:a}}catch(n){return t.error({name:"createSessionAndStartCompletionFailed",message:"创建对话失败",payload:t.withError(n,{stage:"createSession"})}),tX.error("createSessionFailedToast"),this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1}),null}}markSessionAsSending(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.sending})}clearSessionAbortsAndMarkAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.aborts=[],e.state=W.SessionStateEnum.idle})}updateSessionTitle(e,t,n){this.nonReactiveStore.updateSession(e,e=>{e.title=t,e.titleType=n})}updateSessionHidden(e,t){this.nonReactiveStore.updateSession(e,e=>{e.isHidden=t})}addAbort(e,t){this.nonReactiveStore.updateSession(e,e=>{e.aborts.push(t)})}updateSessionUpdatedAt(e,t){this.nonReactiveStore.updateSession(e,e=>{e.updatedAt<t&&(e.updatedAt=t)})}forceScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.forceScrollToBottomTrigger++})}requireScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.scrollToBottomTrigger++})}addSession(e){this.nonReactiveStore.addSession(e)}markSessionAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.idle})}markAgentAsSending(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!0})}markAgentAsIdleKeepPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1})}markAgentAsIdleAndClearPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1,e.prompt=""})}markSessionCompleting(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.completing})}clearSessionPrompt(e){this.nonReactiveStore.updateSession(e,e=>{e.prompt=""})}getAgentIsSending(e){var t;return null===(t=this.nonReactiveStore.getAgent(e))||void 0===t?void 0:t.isSending}getLatestSentMessageId(e){return eF.getLatestSentMessageId(this.nonReactiveStore,e)}constructor(){(0,to._)(this,"addMessageIdToRootBranch",e=>{let{sessionId:t,messageId:n,index:a}=e;this.nonReactiveStore.updateSession(t,e=>{if(e.rootBranchIds.includes(n)){if(en().__DEV__)throw Error("Root Branch ID ".concat(n," already exists"));return}null===a?(e.rootBranchIds.push(n),e.rootBranchIndex=ee(e.rootBranchIds,e.rootBranchIds.length-1)):(e.rootBranchIds.splice(a,0,n),e.rootBranchIndex=ee(e.rootBranchIds,a))})})}}class t${get nonReactiveStore(){return ew.getState()}updateCharacterData(e){this.nonReactiveStore.updateCharacterData(e)}}var t1=n(44894),t0=n(13492),t2=n(54382),t3=n(92715);let t5=function(e){let{fallback:t,onError:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(e)}catch(e){return null==n||n(e),t}},t4=t3.Ryn({content:t3.Z_8()}),t9=t3.Ryn({response_message_id:t3.jtO(t3.Rxh())}),t6=t3.Ryn({content:t3.Z_8(),type:t3.G0j([t3.i0J("warning"),t3.i0J("error")])}),t7=t3.Ryn({p:t3.jtO(t3.Z_8()),o:t3.jtO(t3.G0j([t3.i0J("SET"),t3.i0J("BATCH"),t3.i0J("APPEND")])),v:t3.YjB()}),t8=t3.Ryn({type:t3.G0j([t3.i0J("warning"),t3.i0J("error")]),content:t3.Z_8(),clear_response:t3.O72()}),ne=t3.Ryn({updated_at:t3.Rxh()}),nt=t3.Ryn({click_behavior:t3.jtO(t3.G0j([t3.i0J("retry"),t3.i0J("none")]))}),nn={abortEarly:!0},na=e=>t3.AsG(t4,e,nn),nr=e=>t3.AsG(t9,e,nn),no=e=>t3.AsG(t6,e,nn),ns=e=>t3.AsG(t7,e,nn),ni=e=>t3.AsG(ne,e,nn),nl=e=>t3.AsG(t8,e,nn),nd=e=>t3.AsG(nt,e,nn),nc=e=>({parseTitle:t=>na(t5(t,{onError:n=>null==e?void 0:e(n,t)})),parseReady:t=>nr(t5(t,{onError:n=>null==e?void 0:e(n,t)})),parseToast:t=>no(t5(t,{onError:n=>null==e?void 0:e(n,t)})),parseDelta:(t,n)=>ns(t5(t,{onError:a=>null==e?void 0:e(a,t,n)})),parseHint:t=>nl(t5(t,{onError:n=>null==e?void 0:e(n,t)})),parseUpdateSession:t=>ni(t5(t,{onError:n=>null==e?void 0:e(n,t)})),parseClose:t=>nd(t5(t,{onError:n=>null==e?void 0:e(n,t)}))});class nu{parse(e){var t,n;let a=this.op=null!==(t=e.o)&&void 0!==t?t:this.op,r=this.path=null!==(n=e.p)&&void 0!==n?n:this.path;if("BATCH"!==a)return[{path:r,op:a,value:e.v}];if("BATCH"===a){let t=new nu,{v:n}=e,a=[];if(!Array.isArray(n))throw Error("expect batch op with v array");for(let e of n){let n=t.parse(e);for(let e of n)e.path=(r?"".concat(r,"/"):"")+e.path;a.push(...n)}return a}throw Error("Unknown delta operation: ".concat(e.o))}constructor(){(0,to._)(this,"op","SET"),(0,to._)(this,"path","")}}class nh{get triggered(){return this._triggered}onReady(){this.ready=!0}onParseError(){!this._triggered&&(this.parseErrorBeforeReady++,!this.ready&&this.parseErrorBeforeReady>=2&&(this.onViolation(),this._triggered=!0))}constructor(e){(0,to._)(this,"onViolation",void 0),(0,to._)(this,"ready",!1),(0,to._)(this,"parseErrorBeforeReady",0),(0,to._)(this,"_triggered",!1),this.onViolation=e}}let np=V.NewSSEEventName;class ng{onServerEvent(e){switch(e.event){case"delta":this.deltaParser.parse(e.data).forEach(e=>{this.onEvent({event:np.delta,data:e},this.context)});break;case"ready":this.onEvent({event:np.ready,data:{responseMessageId:e.data.response_message_id}},this.context);break;case"close":this.onEvent({event:np.close,data:{clickBehavior:e.data.click_behavior}},this.context);break;case"finish":this.onEvent({event:np.finish,data:e.data},this.context);break;case"title":this.onEvent({event:np.title,data:e.data},this.context);break;case"toast":this.onEvent({event:np.toast,data:e.data},this.context);break;case"update_session":this.onEvent({event:np.updateSession,data:{updatedAt:1e3*e.data.updated_at}},this.context);break;case"hint":this.onEvent({event:np.hint,data:{content:e.data.content,type:e.data.type,clearResponse:e.data.clear_response,clickBehavior:V.CloseClickBehavior.none}},this.context);break;default:(0,ev.vv)(e)}}parse(e,t){this.recentFeed=e,this.context=t;let n=e.slice(this.consumed);this.consumed=e.length,this.feeds.push(n),this.eventParser.feed(n)}constructor(e,t,n){(0,to._)(this,"onEvent",void 0),(0,to._)(this,"errorHandler",void 0),(0,to._)(this,"consumed",0),(0,to._)(this,"eventParser",void 0),(0,to._)(this,"eventDataParser",void 0),(0,to._)(this,"deltaParser",new nu),(0,to._)(this,"context",void 0),(0,to._)(this,"recentFeed","[null]"),(0,to._)(this,"protocolGuard",void 0),(0,to._)(this,"onEventParse",e=>{let{onEventDataValidateError:t,onUnexpectedSSEEvent:n}=this.errorHandler;if(!e.event&&e.data){let n=this.eventDataParser.parseDelta(e.data,this.feeds);if(!n.success){t("delta",n.issues);return}this.onServerEvent({event:"delta",data:n.output});return}switch(e.event){case"ready":{this.protocolGuard.onReady();let n=this.eventDataParser.parseReady(e.data);if(!n.success){t("ready",n.issues);return}this.onServerEvent({event:e.event,data:{response_message_id:n.output.response_message_id}});break}case"finish":this.onServerEvent({event:e.event,data:{}});break;case"close":{let n=this.eventDataParser.parseClose(e.data);if(!n.success){t("close",n.issues);return}this.onServerEvent({event:"close",data:{click_behavior:n.output.click_behavior||"none"}});break}case"hint":{let n=this.eventDataParser.parseHint(e.data);if(!n.success){t("hint",n.issues);return}this.onServerEvent({event:"hint",data:n.output});break}case"toast":{let n=this.eventDataParser.parseToast(e.data);if(!n.success){t("toast",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}case"title":{let n=this.eventDataParser.parseTitle(e.data);if(!n.success){t("title",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}case"update_session":{let n=this.eventDataParser.parseUpdateSession(e.data);if(!n.success){t("update_session",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}default:n(e)}}),(0,to._)(this,"feeds",[]),this.onEvent=e,this.errorHandler=t,this.protocolGuard=new nh(n),this.eventParser=(0,t2.j)({onEvent:this.onEventParse,onError:e=>{!this.protocolGuard.triggered&&(this.errorHandler.onEventParseError(e,this.recentFeed),this.protocolGuard.onParseError())}}),this.eventDataParser=nc(this.errorHandler.onEventDataJsonParseError)}}(U=(H=K||(K={})).EventNames||(H.EventNames={})).resumeMessageGotFullMessage="resumeMessageGotFullMessage",U.streamDispose="streamDispose",U.requestAborted="requestAborted",U.nonStreamError="nonStreamError";let nm=new Set,nf=e=>{if(!e||e===t0.WN)return!1;let t=nm.has(e);return nm.add(e),t},nC=()=>{let{tracker:e}=en();return{onReqFinal:(t,n,a)=>{let{statesSnap:r,scene:o}=t;!nf(n)&&e.info({name:"clientStreamNetworkMonitor",message:"流式请求信息",payload:{streamErrorStage:nE(r,a),streamScenario:o,logId:n||t0.WN}})},onFinish:(t,n)=>{if(nf(n))return;let a=t.type;if("resumeStream"===a)return;let r=nv(a);e.info({name:"clientStreamNetworkMonitor",message:"流式请求信息",payload:{streamErrorStage:null,streamScenario:r,logId:n||t0.WN}})}}},nv=e=>"editMessage"===e?"edit":e,nx=e=>"editMessage"===e?"edit":"firstCompletion"===e?"completion":e,nE=(e,t)=>t?e.ready?e.delta?e.finish?null:"wip":"waitFirstDelta":"waitReady":"send",ny=(e,t)=>{let{states:n,context:a,scene:r}=t;"resumeStream"!==r&&e.event===K.EventNames.streamDispose&&nC().onReqFinal({statesSnap:n.snap,scene:nx(r)},null==a?void 0:a.logId,e.data.isHeaderReceived)},nb=e=>({logId:e.current||t0.WN}),n_=(e,t)=>{let{tracker:n,http:a}=en(),r={current:null},o=new ng((e,n)=>{t.onEvent(e,n)},t,t.onProtocolViolation);eX(n,e);let s=new tc.c,i=!0,l=!1;return a.http({json:e$(e),context:a.withDefaultHttpContext({mayMissingApiCode:!0}),extraOptions:{timeout:6e5},headers:e1(e),signal:s.signal,method:"post",url:eJ(e),hooks:{onInit:[async e=>("miniprogram"===en().platform&&await en().http.monitor.waitUntil(t=>{let{requests:n}=t;return n[0].id===e.context.id}),e)],onHeadersReceived:[e=>{let{requestOptions:t,headers:a}=e;r.current=t.context.logId,l=!0;let o=String(a["content-type"]);o&&!nS(o)&&(i=!1,n.info({name:"SSENetNotStreamResponse",message:"SSE请求响应不是流式",payload:{contentType:o}}))}]},onDownloadProgress:e=>{let{originalRequest:t,requestOptions:n,detail:a}=e;if(!i||s.signal.aborted)return;let r=n.context.logId;"miniprogram"===en().platform?o.parse(a.responseText,{logId:r}):o.parse(t.responseText,{logId:r})}}).then(n=>{if(nC().onFinish(e,r.current),i||nS(n.headers["content-type"]||""))return;let a=nw(n.json);if(null===a)return;let o=nb(r);if(a.code===t0.q5){let e=n.json.data.biz_data;t.onEvent({event:K.EventNames.resumeMessageGotFullMessage,data:{message:e}},o);return}t.onEvent({event:K.EventNames.nonStreamError,data:a},o)},e=>{if(!a.isHttpClientError(e)){t.onSSENetUnexpectedError(e);return}if(e.type===a.HTTP_CLIENT_ERROR.ABORTED){t.onEvent({event:K.EventNames.requestAborted,data:{}},{logId:r.current||t0.WN});return}t.onSSENetworkError(e)}).finally(()=>{t.onFinally({isHeaderReceived:l})}),{logIdRef:r,abort:()=>{s.abort()}}},nw=e=>{let t=(0,t1.Z)(e,["data","biz_code"],null);return null===t?null:{code:t,msg:(0,t1.Z)(e,["data","biz_msg"],""),data:(0,t1.Z)(e,["data","biz_data"],null)}},nS=e=>e.includes("text/event-stream"),nI=e=>tl(en().getLocale())(e);var nT=Z.COMPLETION_ERROR_CODE,nM=V.NewSSEEventName,nj=V.HintType,nk=V.CloseClickBehavior;let nA=e=>{let t=nF(e);return t||nO(e)},nR=()=>({event:nM.hint,data:{type:nj.error,content:nI("hintFallback"),clearResponse:!0,clickBehavior:nk.none}}),nN=new Map([[nT.INVALID_SESSION_ID,{t:"hintInvalidParams",r:!1}],[nT.PARENT_ROLE_NOT_ASSISTANT,{t:"hintInvalidParams",r:!1}],[nT.MAX_MESSAGE_COUNT_REACHED,{t:"hintMaxMessageCount",r:!1}],[nT.EMPTY_PROMPT,{t:"completionPromptEmptyToast",r:!1}],[nT.LAST_MESSAGE_IS_WIP,{t:"hintLastMessageIsWIP",r:!0}]]),nL=new Map([[nT.REGENERATE_TEMPLATE_RESPONSE,"completionRegenerateOnBadMessageToast"],[nT.RESUME_MESSAGE_NOT_FOUND,"invalidRequest"],[nT.RESUME_TIME_TOO_LONG,"invalidRequest"],[nT.INVALID_REF_FILE_ID,"invalidFileRefToast"],[nT.SESSION_FILE_LIMIT_EXCEEDED,"fileCountLimitExceededToast"]]),nF=e=>{let t=nN.get(e);if(!t)return null;let n=nI(t.t);if("string"!=typeof n&&en().__DEV__)throw Error("content is not string");return{event:nM.hint,data:{type:nj.error,content:String(n),clearResponse:!0,clickBehavior:t.r?nk.retry:nk.none}}},nO=e=>{let t=nL.get(e);if(!t)return null;let n=nI(t);if("string"!=typeof n&&en().__DEV__)throw Error("content is not string");return{event:nM.toast,data:{type:G.ToastType.ERROR,content:String(n)}}};var nP=V.NewSSEEventName,nD=V.CloseClickBehavior;let nB=e=>{var t;if(!en().http.isHttpClientError(e))return null;let n=null===(t=e.response)||void 0===t?void 0:t.status;return(0,ek.Z)(n)?null:nz(n)},nz=e=>{let t=429===e?[nI("requestFrequencyTooHigh"),!0]:e>=500?[nI("completionServerErrorToast"),!1]:[nI("hintFallback"),!1];return{event:nP.hint,data:{type:V.HintType.error,content:t[0],clearResponse:!1,clickBehavior:t[1]?nD.retry:nD.none}}};var nH=Z.COMPLETION_ERROR_CODE,nU=V.NewSSEEventName;let nV=new Map;class nW{startStream(e,t){let{tracker:n}=en(),{abort:a,logIdRef:r}=n_(eQ(e),{onEvent:(e,a)=>{switch(e.event){case nU.toast:nG(e);return;case nU.title:n.info({name:"SSENetTitle",message:"SSE title事件",payload:{title:e.data.content}}),t.onEvent({event:e,context:a});return;case nU.delta:t.onEvent({event:e,context:a});return;case nU.finish:n.info({name:"SSENetFinish",message:"SSE finish事件",payload:{}}),t.onEvent({event:e,context:a});return;case nU.close:n.info({name:"SSENetClose",message:"SSE close事件",payload:{}}),t.onEvent({event:e,context:a});return;case nU.ready:n.info({name:"SSENetReady",message:"SSE ready事件",payload:{}}),t.onEvent({event:e,context:a});return;case K.EventNames.resumeMessageGotFullMessage:t.onEvent({event:e,context:a});return;case K.EventNames.requestAborted:n.info({name:"SSENetAborted",message:"请求取消",payload:{logId:(null==a?void 0:a.logId)||""}}),t.onEvent({event:e,context:a});return;case nU.updateSession:n.info({name:"SSENetUpdateSession",message:"更新session信息",payload:{updatedAt:e.data.updatedAt}}),t.onEvent({event:e,context:a});return;case nU.hint:nZ(e,t,a);return;case K.EventNames.nonStreamError:{let r={code:e.data.code,msg:e.data.msg};n.error({name:"SSENetNonStreamError",message:"SSE接口非流式报错(json)",payload:r});let o=nA(e.data.code);if((null==o?void 0:o.event)===nU.hint){nZ(o,t,a);return}if((null==o?void 0:o.event)===nU.toast){nG(o);return}if(e.data.code===nH.MUTED){t.onMuted({muteUntil:1e3*(0,t1.Z)(e.data.data,["mute_until"])||eE()}),nZ(nR(),t,a);return}n.error({name:"SSENetUnableConvertNonStreamError",message:"无法识别转化的错误",payload:r});return}default:(0,ev.vv)(e)}},onFinally:e=>{let{isHeaderReceived:n}=e;t.onEvent({event:{event:K.EventNames.streamDispose,data:{isHeaderReceived:n}},context:{logId:r.current||t0.WN}})},onSSENetUnexpectedError:e=>{n.error({name:"SSENetUnexpectedError",message:"SSENet 意外错误",payload:n.withError(e,{})})},onSSENetworkError:e=>{var a;let o=(null===(a=e.response)||void 0===a?void 0:a.headers["x-ds-trace-id"])||r.current||t0.WN;n.error({name:"SSENetNetworkError",message:"SSENet 网络错误",payload:n.withError(e,{logId:o})});let s=nB(e);s&&nZ(s,t,{logId:o})},onEventParseError:(e,t)=>{n.error({name:"SSEOnEventParseError",message:"eventsource-parser 解析错误",payload:n.withError(e,{recentFeed:t,logId:r.current||t0.WN})})},onEventDataJsonParseError:(e,t,a)=>{let o=r.current,s=()=>n.error({name:"SSEOnEventDataJsonParseError",message:"event 中的 data 字段 json 解析错误",payload:n.withError(e,{str:t,logId:o||t0.WN,feeds:((null==a?void 0:a.at(-1))||"").slice(-2e3)})});if(!o){s();return}let i=nV.get(o)||0;!(i>3)&&(nV.set(o,i+1),s())},onEventDataValidateError:(e,t)=>{n.error({name:"SSEOnEventDataValidateError",message:"event 中的 data 字段验证错误",payload:{event:e,issue:JSON.stringify(t),logId:r.current||t0.WN}})},onUnexpectedSSEEvent:e=>{n.error({name:"SSEOnUnexpectedSSEEvent",message:"在 SSE 事件文档中未定义的事件",payload:{event:e.event||"",data:e.data}})},onProtocolViolation:t.onProtocolViolation});return{abort:a}}}let nG=e=>{let{withToast:t,tracker:n}=en(),{type:a,content:r}=e.data;n.info({name:"SSENetToast",message:"SSE 显示 toast",payload:{type:a,content:r}}),t(t=>{let{type:n,content:a}=e.data;"error"===n||"warning"===n?t.error(a):t.info(a)})},nZ=(e,t,n)=>{let{tracker:a}=en();a.info({name:"SSENetHint",message:"消息hint事件",payload:e.data}),t.onEvent({event:e,context:n})};class nq{constructor(e){(0,to._)(this,"services",void 0),this.services=e}}var nY=W.MessageRole;let nK=e=>{let{parent:t,id:n}=e;return{id:n,parentId:t.id,role:nY.ASSISTANT,content:"",thinkingContent:null,thinkingElapsedSecs:null,thinkingEnabled:!1,insertedAt:Date.now(),banRegenerate:!1,searchResults:null,searchEnabled:!1,searchStatus:null,status:W.MessageStatus.WIP,generateState:null,childIds:[],currentChildIndex:0,accumulatedTokenUsage:t.accumulatedTokenUsage,feedback:null,isEditing:!1,files:[],tips:[],hint:null,resendInfo:null,stopResponseId:null}},nQ=(e,t)=>{var n,a,r,o,s,i,l,d,c,u;let{op:h}=e,{response:p}=e.value;if("SET"!==h)throw Error("首条 delta 必须为 SET 操作，当前值：".concat(h));return{id:p.message_id,parentId:p.parent_id,role:p.role,content:p.content,thinkingContent:null!==(n=p.thinking_content)&&void 0!==n?n:null,thinkingElapsedSecs:null!==(a=p.thinking_elapsed_secs)&&void 0!==a?a:null,thinkingEnabled:null!==(r=p.thinking_enabled)&&void 0!==r&&r,insertedAt:null!==(o=p.inserted_at)&&void 0!==o?o:Date.now(),accumulatedTokenUsage:null!==(s=p.accumulated_token_usage)&&void 0!==s?s:0,files:(null!==(i=p.files)&&void 0!==i?i:[]).map(tm.transformServerFileInfoToClient),tips:null!==(l=p.tips)&&void 0!==l?l:[],searchResults:e5(p.search_results),searchEnabled:null!==(d=p.search_enabled)&&void 0!==d&&d,searchStatus:null!==(c=p.search_status)&&void 0!==c?c:null,status:e9(p.status),generateState:null,banRegenerate:null!==(u=p.ban_regenerate)&&void 0!==u&&u,childIds:[],currentChildIndex:0,feedback:e6(p.feedback),isEditing:!1,hint:null,resendInfo:null,stopResponseId:t.stopResponseId}};var nX=n(82313),nJ=V.HintType,n$=W.MessageStatus;let n1={onReady:e=>{var t;let{event:n,common:a,getParams:r}=e,o=n.data.responseMessageId,{services:{messageService:s,sessionService:i}}=a,{chatSessionId:l,assistantMessageId:d}=r();(0,ek.Z)(o)||(s.updateMessageByFn(l,d,e=>{e.stopResponseId=o}),i.markSessionCompleting(l)),null===(t=a.generateStateManager)||void 0===t||t.onReady()},cleanUpSimple:e=>{let{common:t,getParams:n}=e,{services:{sessionService:a,messageService:r},generateStateManager:o}=t,{chatSessionId:s,messageId:i,statesSnap:l}=n();a.markSessionAsIdle(s),null==o||o.dispose();let d=r.getMessage(s,i);if((null==d?void 0:d.status)===W.MessageStatus.WIP){let e=l.finish?n$.OK:n$.INCOMPLETE;r.enterStatus(s,i,e)}r.clearStopResponseId(s,i)},cleanUp:(e,t)=>{let{common:n,getParams:a}=e,{services:{messageService:r,sessionService:o},generateStateManager:s}=n,{chatSessionId:i,userMessageId:l,assistantMessageId:d,statesSnap:c}=a(),u=ej(d);if(u&&t.allowHint){let e=tl(en().getLocale())("hintNetworkError"),t=r.getMessage(i,l);(null==t?void 0:t.hint)===null&&r.updateMessageByFn(i,l,t=>{t.hint={clearResponse:!1,content:e,type:nJ.error,clickBehavior:V.CloseClickBehavior.retry}})}if(u&&r.deleteMessage(i,d),!u&&!c.finish){let e=r.getMessage(i,d);(null==e?void 0:e.status)===n$.WIP&&r.updateMessageByFn(i,d,e=>{e.status=n$.INCOMPLETE})}o.markSessionAsIdle(i),null==s||s.dispose(),r.clearStopResponseId(i,d)},onGetPowFail:e=>{let{onHint:t,common:n,getParams:a}=e,{services:{messageService:r,sessionService:o}}=n,s=a(),{chatSessionId:i,assistantMessageId:l}=s,{getLocale:d}=en();t({type:V.HintType.error,content:tl(d())("hintNetworkError"),clearResponse:!1,clickBehavior:V.CloseClickBehavior.retry},s),r.deleteMessage(i,l),o.markSessionAsIdle(i)},onClose:(e,t)=>{let{common:{services:{messageService:n}},getParams:a}=t,{chatSessionId:r,userMessageId:o}=a(),s=e.data.clickBehavior;s&&n.updateMessageByFn(r,o,e=>{e.hint&&(e.hint.clickBehavior=s)})},onDelta:e=>{var t,n;let{event:a,common:r,getParams:o,setter:s,onSent:i}=e,{services:{messageService:l,sessionService:d},generateStateManager:c}=r,{chatSessionId:u,assistantMessageId:h,userMessageId:p}=o();if(null==c||c.onDelta(a),!ej(h)){l.applyDeltaToMessage(a.data,{chatSessionId:u,messageId:h});return}let g=nQ(a.data,{stopResponseId:null!==(n=null===(t=l.getMessage(u,h))||void 0===t?void 0:t.stopResponseId)&&void 0!==n?n:null}),m=g.id,f=g.parentId,C=l.getChildIndex(u,{parent:p,child:h});l.deleteMessage(u,h),l.upsertAssistantMessage(u,g),d.markSessionCompleting(u),null==c||c.updateMessageId(m,a),l.updateFakeUserMessageId({chatSessionId:u,newMessageId:f,fakeId:p}),s.assistantMessageId(m),s.userMessageId(f),l.addMessageIdToParent({chatSessionId:u,newMessageId:m,onNoParentMessage:nX.Z,targetIndex:C}),null==i||i()}};var n0=V.NewSSEEventName;class n2{get snap(){return{ready:this._ready,delta:this._delta,finish:this._finish}}getReady(){this._ready=!0}getDelta(){this._delta=!0}getFinish(){this._finish=!0}constructor(){(0,to._)(this,"_ready",!1),(0,to._)(this,"_delta",!1),(0,to._)(this,"_finish",!1)}}let n3=(e,t)=>{switch(e){case n0.ready:t.getReady();return;case n0.delta:t.getDelta();return;case n0.finish:t.getFinish();return;default:return}},n5=V.NewSSEEventName;class n4 extends nq{execute(e){let{params:t}=e,{sessionService:n,messageService:a,baseCompletion:r}=this.services,{chatSessionId:o,messageId:s}=t,{tracker:i}=en();i.info({name:"resumeCompletion",message:"刷新后网页继续生成对话",payload:{sessionId:o,messageId:"".concat(s)}}),n.markSessionAsSending(o);let l=a.getMessage(o,s),d=!0;r({...t,scene:"resumeStream",startContent:(null==l?void 0:l.content)||""},{onEvent:e=>{let{event:r}=e;switch(r.event){case K.EventNames.resumeMessageGotFullMessage:a.updateMessageByFn(t.chatSessionId,t.messageId,e=>{e.content=r.data.message.content}),a.onMessageComplete(o,s),n.clearSessionAbortsAndMarkAsIdle(t.chatSessionId),n.requireScrollToBottom(o);break;case n5.delta:if(d){d=!1;let e=nQ(r.data,{stopResponseId:t.messageId});a.upsertAssistantMessage(o,e),n.markSessionCompleting(o),n.forceScrollToBottom(o);break}a.applyDeltaToMessage(r.data,{chatSessionId:o,messageId:s});break;case n5.hint:case n5.ready:break;case n5.finish:a.onMessageComplete(o,s);break;case n5.close:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:n1.cleanUpSimple({common:{services:this.services,generateStateManager:void 0},getParams:()=>({chatSessionId:o,statesSnap:this.states.snap,messageId:t.messageId})});break;default:(0,ev.vv)(r)}}},{states:this.states})}constructor(...e){super(...e),(0,to._)(this,"states",new n2)}}var n9=W.GenerateState;class n6{read(){var e;return(null===(e=ez.getState().getMessage(this.sessionId,this.messageId))||void 0===e?void 0:e.generateState)||null}write(e){ez.getState().updateMessage(this.sessionId,this.messageId,t=>{t.generateState=e})}updateMessageId(e){this.messageId=e}constructor(e,t){(0,to._)(this,"sessionId",void 0),(0,to._)(this,"messageId",void 0),this.sessionId=e,this.messageId=t}}let n7={[n9.INITIALIZING]:0,[n9.AWAITING_FIRST_CHANGE]:1,[n9.GENERATING]:2},n8=(e,t)=>{if(e===t)return!1;if(!e||e&&!t||!t)return!0;let n=n7[e];return n7[t]>n};class ae{write(e){n8(this.accessor.read(),e)&&this.accessor.write(e)}start(){this.write(n9.INITIALIZING)}updateMessageId(e,t){this.accessor.updateMessageId(e),this.onDelta(t)}onReady(){this.write(n9.AWAITING_FIRST_CHANGE)}onDelta(e){let t=e.data;if("APPEND"===t.op&&an(t)){this.write(n9.GENERATING);return}if("string"!=typeof t.value){this.write(n9.AWAITING_FIRST_CHANGE);return}if(an(t)&&t.value!==this.initContent){this.write(n9.GENERATING);return}this.write(n9.AWAITING_FIRST_CHANGE)}dispose(){this.write(null)}constructor(e,t){(0,to._)(this,"initContent",void 0),(0,to._)(this,"accessor",void 0),this.initContent=e,this.accessor=new n6(t.sessionId,t.messageId),this.start()}}let at=e=>"response/content"===e||"response/thinking_content"===e,an=e=>at(e.path);var aa=W.ResendScene;let ar=V.NewSSEEventName;class ao extends nq{initFakeMessages(e){let{chatSessionId:t}=e,{sessionService:n,messageService:a}=this.services;n.markSessionAsSending(t);let r=n.getLatestSentMessageId(t),o=nK({parent:a.addNewUserMessageCompose({...e,resendInfo:{scene:aa.completion,editMessageId:null}},{messageId:this.userMessageId,childIds:[this.assistantMessageId],parentMessageId:r,onNoParentMessage:n.addMessageIdToRootBranch,targetIndex:e.targetIndex}),id:this.assistantMessageId});return a.upsertAssistantMessage(t,o),e.keepPrompt||(n.clearSessionPrompt(t),eU(t)),a.enterStatus(t,this.assistantMessageId,W.MessageStatus.WIP),this.generateStateManager=new ae(o.content,{sessionId:t,messageId:o.id}),n.forceScrollToBottom(t),{reqParentId:r}}async execute(e){let{params:t,callbacks:n}=e,{chatSessionId:a}=t,{messageService:r,baseCompletion:o}=this.services,{reqParentId:s}=this.initFakeMessages(t),i=await t.getPowRes();if(!i.success){n1.onGetPowFail({onHint:this.onHint.bind(this),getParams:()=>({chatSessionId:a,assistantMessageId:this.assistantMessageId}),common:this});return}o({...t,challengeResponse:i.res,parentMessageId:s,scene:"completion"},{onEvent:e=>{let{event:o}=e;switch(o.event){case ar.delta:n1.onDelta({event:o,common:this,getParams:()=>({chatSessionId:a,statesSnap:this.states.snap,userMessageId:this.userMessageId,assistantMessageId:this.assistantMessageId}),onSent:n.onSent,setter:{userMessageId:e=>this.userMessageId=e,assistantMessageId:e=>this.assistantMessageId=e}});break;case ar.finish:if(ej(this.assistantMessageId)){var s;null===(s=n.onUnsent)||void 0===s||s.call(n)}else r.onMessageComplete(a,this.assistantMessageId),this.isFinishAsExpect=!0;break;case ar.hint:this.onHint(o.data,t);break;case ar.close:n1.onClose(o,{common:this,getParams:()=>({chatSessionId:a,statesSnap:this.states.snap,userMessageId:this.userMessageId})});break;case K.EventNames.requestAborted:case K.EventNames.resumeMessageGotFullMessage:break;case K.EventNames.streamDispose:n1.cleanUp({common:this,getParams:()=>({chatSessionId:a,statesSnap:this.states.snap,assistantMessageId:this.assistantMessageId,userMessageId:this.userMessageId,isFinishAsExpect:this.isFinishAsExpect})},{allowHint:!0}),this.isFinishAsExpect||n.onInterrupted();break;case ar.ready:n1.onReady({event:o,common:this,getParams:()=>({chatSessionId:a,statesSnap:this.states.snap,assistantMessageId:this.assistantMessageId})});break;default:(0,ev.vv)(o)}}},{states:this.states})}onHint(e,t){var n;let{messageService:a,sessionService:r}=this.services,{chatSessionId:o}=t;r.markSessionAsIdle(o),a.updateMessageByFn(o,this.userMessageId,t=>{t.hint=e}),e.clearResponse&&a.deleteMessage(o,this.assistantMessageId),null===(n=this.generateStateManager)||void 0===n||n.dispose()}constructor(...e){super(...e),(0,to._)(this,"generateStateManager",void 0),(0,to._)(this,"assistantMessageId",eM()),(0,to._)(this,"userMessageId",eM()),(0,to._)(this,"states",new n2),(0,to._)(this,"isFinishAsExpect",!1)}}class as extends nq{async execute(e){let{params:t,callbacks:n}=e,{sessionService:a,characterService:r}=this.services,{agentId:o}=t;if(a.getAgentIsSending(o))return;a.markAgentAsSending(o);let s=await a.createSession(o);if(!s)return;let{session:i,character:l}=s;l&&r.updateCharacterData([l]),i.title="",i.state=W.SessionStateEnum.completing,i.isHidden=!0,a.addSession(i);let d=new ao(this.services),c={...t,chatSessionId:i.id,targetIndex:null};await d.execute({params:c,callbacks:{onSent:()=>{a.updateSessionHidden(i.id,!1),a.markAgentAsIdleAndClearPrompt(o),n.onSent({sessionId:i.id})},onUnsent:()=>{a.markAgentAsIdleKeepPrompt(o),n.onUnsent()},onInterrupted:()=>{tX.error("completionWipNetworkErrorToast"),a.markAgentAsIdleKeepPrompt(o)}}})}}class ai extends nq{async execute(e){let{params:t}=e,n=new ao(this.services);await n.execute({params:t,callbacks:{onInterrupted:nX.Z}})}}let al=V.NewSSEEventName;class ad extends nq{initFakeMessages(e){let{chatSessionId:t,childMessageId:n}=e,{sessionService:a,messageService:r}=this.services;a.markSessionAsSending(t);let o=r.getParentMessage(t,n);if(!o)throw Error("cannot find parent message: ".concat(t));let s=nK({parent:o,id:this.assistantMessageId});return r.upsertAssistantMessage(t,s),r.addMessageIdToParent({chatSessionId:t,newMessageId:s.id,onNoParentMessage:()=>0,targetIndex:null}),this.generateStateManager=new ae(s.content,{sessionId:t,messageId:s.id}),a.forceScrollToBottom(t),{fakeAssistantMessage:s,parentMessage:o}}async execute(e){let{params:t}=e,{messageService:n,baseCompletion:a}=this.services,{chatSessionId:r,childMessageId:o}=t,{tracker:s}=en();s.info({name:"regenerateMessage",message:"重新生成",payload:{sessionId:r,messageId:String(o)}}),this.recordInitBranchIndex(t);let{parentMessage:i}=this.initFakeMessages(t),l=await t.getPowRes();if(!l.success){n1.onGetPowFail({onHint:this.onHint.bind(this),getParams:()=>({chatSessionId:r,assistantMessageId:this.assistantMessageId}),common:this});return}a({...t,challengeResponse:l.res,parentMessageId:i.id,scene:"regenerate"},{onEvent:e=>{let{event:a}=e;switch(a.event){case al.delta:this.onDelta(a,t,i);break;case al.finish:n.onMessageComplete(r,this.assistantMessageId);break;case al.hint:this.onHint(a.data,t);break;case al.ready:n1.onReady({event:a,common:this,getParams:()=>({chatSessionId:r,statesSnap:this.states.snap,assistantMessageId:this.assistantMessageId})});break;case al.close:case K.EventNames.resumeMessageGotFullMessage:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:this.restoreBranchIndex(t),n1.cleanUp({getParams:()=>({chatSessionId:r,userMessageId:i.id,assistantMessageId:this.assistantMessageId,statesSnap:this.states.snap}),common:this},{allowHint:!1});break;default:(0,ev.vv)(a)}}},{states:this.states})}recordInitBranchIndex(e){let{chatSessionId:t,childMessageId:n}=e,{messageService:a}=this.services,{index:r}=a.getBranchInfo(t,n);this.initialBranchIndex=r}restoreBranchIndex(e){let{chatSessionId:t,childMessageId:n}=e;if(!ej(this.assistantMessageId))return;let{messageService:a}=this.services,r=a.getParentMessage(t,n);r&&a.updateBranchIndex(t,r.id,this.initialBranchIndex)}onHint(e,t){var n;let{sessionService:a,messageService:r}=this.services,{chatSessionId:o}=t;e.clearResponse&&r.deleteMessage(o,this.assistantMessageId),a.markSessionAsIdle(o),en().withToast(t=>{t.error(e.content)}),null===(n=this.generateStateManager)||void 0===n||n.dispose()}onDelta(e,t,n){var a,r,o,s;let{chatSessionId:i}=t,{sessionService:l,messageService:d}=this.services;null===(a=this.generateStateManager)||void 0===a||a.onDelta(e);let c=n.id;if(ej(this.assistantMessageId)){let t=this.assistantMessageId,n=nQ(e.data,{stopResponseId:null!==(s=null===(r=d.getMessage(i,this.assistantMessageId))||void 0===r?void 0:r.stopResponseId)&&void 0!==s?s:null}),a=n.id,u=d.getChildIndex(i,{parent:c,child:this.assistantMessageId});d.deleteMessage(i,t),d.upsertAssistantMessage(i,n),l.markSessionCompleting(i),null===(o=this.generateStateManager)||void 0===o||o.updateMessageId(a,e),this.assistantMessageId=a,d.addMessageIdToParent({newMessageId:a,onNoParentMessage:nX.Z,targetIndex:u,chatSessionId:i}),l.forceScrollToBottom(i)}else d.applyDeltaToMessage(e.data,{chatSessionId:i,messageId:this.assistantMessageId})}constructor(...e){super(...e),(0,to._)(this,"generateStateManager",void 0),(0,to._)(this,"assistantMessageId",eM()),(0,to._)(this,"states",new n2),(0,to._)(this,"initialBranchIndex",0)}}var ac=W.ResendScene;let au=V.NewSSEEventName;class ah extends nq{initFakeMessages(e){var t;let{sessionService:n,messageService:a}=this.services,{chatSessionId:r,messageId:o}=e;n.markSessionAsSending(r);let s=a.getMessage(r,o);if(!s)throw Error("Cannot find message of id: ".concat(o));a.markMessageAsNotEditing(r,o);let{files:i}=s,l=a.getParentMessage(r,o),d=nK({parent:a.addNewUserMessageCompose({...e,files:i,resendInfo:{scene:ac.edit,editMessageId:e.messageId}},{messageId:this.userMessageId,childIds:[this.assistantMessageId],parentMessageId:null!==(t=null==l?void 0:l.id)&&void 0!==t?t:null,onNoParentMessage:n.addMessageIdToRootBranch,targetIndex:e.targetIndex}),id:this.assistantMessageId});a.upsertAssistantMessage(r,d),n.forceScrollToBottom(r),this.generateStateManager=new ae(d.content,{sessionId:r,messageId:d.id})}async execute(e){let{params:t,callbacks:n}=e,{messageService:a,baseCompletion:r}=this.services,{chatSessionId:o}=t;this.initFakeMessages(t);let s=await t.getPowRes();if(!s.success){n1.onGetPowFail({onHint:this.onHint.bind(this),getParams:()=>({chatSessionId:o,assistantMessageId:this.assistantMessageId}),common:this});return}r({...t,challengeResponse:s.res,scene:"editMessage"},{onEvent:e=>{let{event:r}=e;switch(r.event){case au.delta:n1.onDelta({event:r,common:this,getParams:()=>({chatSessionId:o,userMessageId:this.userMessageId,statesSnap:this.states.snap,assistantMessageId:this.assistantMessageId}),onSent:n.onSent,setter:{userMessageId:e=>this.userMessageId=e,assistantMessageId:e=>this.assistantMessageId=e}});break;case au.finish:ej(this.assistantMessageId)||a.onMessageComplete(o,this.assistantMessageId);break;case au.ready:n1.onReady({common:this,getParams:()=>({chatSessionId:o,statesSnap:this.states.snap,assistantMessageId:this.assistantMessageId}),event:r});break;case au.hint:this.onHint(r.data,t);break;case au.close:n1.onClose(r,{common:this,getParams:()=>({userMessageId:this.userMessageId,statesSnap:this.states.snap,chatSessionId:o})});break;case K.EventNames.resumeMessageGotFullMessage:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:n1.cleanUp({getParams:()=>({chatSessionId:o,statesSnap:this.states.snap,userMessageId:this.userMessageId,assistantMessageId:this.assistantMessageId}),common:this},{allowHint:!0});break;default:(0,ev.vv)(r)}}},{states:this.states})}onHint(e,t){var n;let{messageService:a,sessionService:r}=this.services,{chatSessionId:o}=t;r.markSessionAsIdle(o),a.updateMessageByFn(o,this.userMessageId,t=>{t.hint=e}),e.clearResponse&&a.deleteMessage(o,this.assistantMessageId),null===(n=this.generateStateManager)||void 0===n||n.dispose()}constructor(...e){super(...e),(0,to._)(this,"generateStateManager",void 0),(0,to._)(this,"assistantMessageId",eM()),(0,to._)(this,"userMessageId",eM()),(0,to._)(this,"states",new n2)}}let ap=V.NewSSEEventName;class ag extends nq{prepare(e){var t;let{sessionService:n,messageService:a}=this.services,{chatSessionId:r,messageId:o}=e;n.markSessionAsSending(r);let{tracker:s}=en();s.info({name:"continueCompletion",message:"用户点击了继续生成对话按钮",payload:{sessionId:r,messageId:"".concat(o)}}),this.generateStateManager=new ae((null===(t=a.getMessage(r,o))||void 0===t?void 0:t.content)||"",{sessionId:r,messageId:o})}execute(e){let{params:t}=e,{baseCompletion:n,messageService:a}=this.services,{chatSessionId:r,messageId:o}=t;this.prepare(t),n({...t,scene:"continue"},{onEvent:e=>{let{event:n}=e;switch(n.event){case ap.delta:this.onDelta(n,t);break;case ap.finish:var s;a.onMessageComplete(r,o),null===(s=this.generateStateManager)||void 0===s||s.dispose();break;case ap.close:case K.EventNames.resumeMessageGotFullMessage:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:n1.cleanUpSimple({common:this,getParams:()=>({chatSessionId:r,messageId:t.messageId,statesSnap:this.states.snap})});break;case ap.hint:en().withToast(e=>{e.error(n.data.content)});break;case ap.ready:n1.onReady({event:n,common:this,getParams:()=>({assistantMessageId:t.messageId,statesSnap:this.states.snap,chatSessionId:r})});break;default:(0,ev.vv)(n)}}},{states:this.states})}onDelta(e,t){var n;let{sessionService:a,messageService:r}=this.services,{chatSessionId:o,messageId:s}=t;if(null===(n=this.generateStateManager)||void 0===n||n.onDelta(e),this.isFirstDelta){this.isFirstDelta=!1;let n=nQ(e.data,{stopResponseId:t.messageId});r.upsertAssistantMessage(o,n),a.markSessionCompleting(o),a.forceScrollToBottom(o);return}r.applyDeltaToMessage(e.data,{chatSessionId:o,messageId:s})}constructor(...e){super(...e),(0,to._)(this,"generateStateManager",void 0),(0,to._)(this,"states",new n2),(0,to._)(this,"isFirstDelta",!0)}}var am=W.ResendScene;class af extends nq{async execute(e){let{sessionId:t,messageId:n}=e,{messageService:a}=this.services,r=a.getMessage(t,n);if(!r)throw Error("cannot resolve message: ".concat(t," ").concat(n));let{resendInfo:o}=r;if(!o)throw Error("resend message without resendInfo");let{getPowRes:s,searchEnabled:i,thinkingEnabled:l}=e,d=r.childIds.at(0);(0,ek.Z)(d)||a.deleteMessage(t,d);let{index:c,isInBranch:u}=a.getBranchInfo(t,n);switch(a.deleteMessage(t,n),o.scene){case am.completion:{let e=r.files;this.services.fileService.addUploadedFiles(e),await new ai(this.services).execute({params:{chatSessionId:t,refFileIds:r.files.map(e=>e.id),prompt:r.content,thinkingEnabled:l,getPowRes:s,searchEnabled:i,targetIndex:u?c:null,keepPrompt:!0}});break}case am.edit:{let e=o.editMessageId;if((0,ek.Z)(e))throw Error("unexpected editMessageId ".concat(e));await new ah(this.services).execute({callbacks:{onSent:nX.Z},params:{messageId:e,prompt:r.content,chatSessionId:t,getPowRes:s,searchEnabled:i,thinkingEnabled:l,targetIndex:c}});break}default:(0,ev.vv)(o.scene)}}}class aC{get nonReactiveStore(){return ep.getState()}addUploadedFiles(e){this.nonReactiveStore.addUploadedFiles(e)}}let av=function(e){let{stopNetwork:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{getSession:n,transferSessionAbortStatus:a,updateMessage:r}=ez.getState(),{tracker:o}=en();o.info({name:"abortCompletion",message:"停止生成对话",payload:{sessionId:e}});let s=n(e);if(s)for(let n of(s.aborts.length>1&&o.error({name:"abortMeetMultipleFn",message:"停止生成时遇到多个abort方法",payload:{sessionId:e,len:s.aborts.length}}),t&&setTimeout(()=>{for(let e of s.aborts)e();a(e,{clearAborts:!0,toIdle:!0})},6e3),Object.values(s.messageStore))){var i;null!==n.stopResponseId&&ax(n.status)&&(i={chatSessionId:e,messageId:n.stopResponseId},en().http.http.post("/api/v0/chat/stop_stream",{json:{chat_session_id:i.chatSessionId,message_id:i.messageId}})).then(()=>{r(e,n.id,e=>{(null==e?void 0:e.status)===W.MessageStatus.WIP&&(e.status=W.MessageStatus.INCOMPLETE),e.stopResponseId=null})}).catch(t=>{o.error({name:"abortCompletionFailed",message:"停止生成对话失败",payload:o.withError(t,{sessionId:e})})})}},ax=e=>[W.MessageStatus.WIP,W.MessageStatus.INCOMPLETE].includes(e),aE=async(e,t)=>{let{getSession:n,deleteSession:a}=ez.getState(),{tracker:r}=en(),o=n(e);(null==o?void 0:o.state)===W.SessionStateEnum.completing&&t(e,{stopNetwork:!0});try{var s;r.info({name:"deleteSessionApi",message:"开始请求delete session接口",payload:{chatSessionId:e}});let{data:{code:t},context:n}=await (s={chatSessionId:e},en().http.http.post("/api/v0/chat_session/delete",{json:{chat_session_id:s.chatSessionId}}).then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}}));r.info({name:"deleteSessionApiOk",message:"请求delete session接口成功",payload:{chatSessionId:e,logId:n.logId}}),t===Z.DeleteSessionErrorCode.OK?a(e):r.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，没有找到session ID",payload:{code:"".concat(t),reason:"sessionNotFound",chatSessionId:e,logId:n.logId}})}catch(t){r.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，意外错误",payload:r.withError(t,{chatSessionId:e})})}},ay=V.NewSSEEventName;class ab{getServices(){return{sessionService:this.sessionService,messageService:this.messageService,characterService:this.characterService,fileService:this.fileService,baseCompletion:this.baseCompletion}}async createSessionAndCompletion(e,t){let{tracker:n}=en();try{await new as(this.getServices()).execute({params:e,callbacks:t})}catch(e){n.error({name:"createSessionAndCompletionError",message:"创建session并会话失败",payload:n.withError(e,{})})}}async resend(e){let{tracker:t}=en();try{await new af(this.getServices()).execute(e)}catch(e){t.error({name:"resendMessageError",message:"重新发送消息失败",payload:t.withError(e,{})})}}async completion(e){let{tracker:t}=en();try{await new ai(this.getServices()).execute({params:{...e,targetIndex:null}})}catch(e){t.error({name:"completionError",message:"普通消息错误",payload:t.withError(e,{})})}}async regenerateMessage(e){let{tracker:t}=en();try{await new ad(this.getServices()).execute({params:e})}catch(e){t.error({name:"regenerateMessageError",message:"重新生成消息错误",payload:t.withError(e,{})})}}async editMessage(e,t){let{tracker:n}=en();try{await new ah(this.getServices()).execute({params:{...e,targetIndex:null},callbacks:t})}catch(e){n.error({name:"editMessageError",message:"编辑消息错误",payload:n.withError(e,{})})}}resumeCompletion(e){let{tracker:t}=en();try{new n4(this.getServices()).execute({params:e})}catch(e){t.error({name:"resumeMessageError",message:"回复会话错误",payload:t.withError(e,{})})}}continueCompletion(e){let{tracker:t}=en();try{return new ag(this.getServices()).execute({params:e})}catch(e){t.error({name:"continueMessageError",message:"继续生成错误",payload:t.withError(e,{})})}}abortCompletion(e){av(e)}async deleteSession(e){await aE(e,av)}constructor(){(0,to._)(this,"sessionService",new tJ),(0,to._)(this,"messageService",new tV),(0,to._)(this,"characterService",new t$),(0,to._)(this,"fileService",new aC),(0,to._)(this,"streamService",new nW),(0,to._)(this,"baseCompletion",(e,t,n)=>{this.sessionService.markSessionAsSending(e.chatSessionId);let{abort:a}=this.streamService.startStream(e,{onEvent:r=>{let{tracker:o}=en(),{event:s,context:i}=r,{event:l,data:d}=s,c=n.states;if(n3(l,c),ny(s,{states:c,context:i,scene:e.scene}),l===ay.title){this.sessionService.updateSessionTitle(e.chatSessionId,d.content,"SYSTEM");return}if(l===ay.updateSession){this.sessionService.updateSessionUpdatedAt(e.chatSessionId,d.updatedAt);return}l===ay.close&&("miniprogram"===en().platform&&setTimeout(()=>{o.info({name:"SSEMiniprogramAutoAbort",message:"小程序主动关闭请求",payload:{}}),a()},5e3),this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId));try{t.onEvent({event:s,context:i})}catch(e){o.error({name:"baseCompletionOnEventError",message:"事件处理出错",payload:o.withError(e,{event:s.event,data:JSON.stringify(s.data)})})}l===ay.finish&&this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId)},onProtocolViolation:()=>{let{tracker:t}=en();t.error({name:"SSENetProtocolViolation",message:"SSE ready之前出现多次解析失败",payload:{}}),tX.error("protocolViolationToast",{duration:5e3}),a(),this.sessionService.markSessionAsIdle(e.chatSessionId)},onMuted:e=>{let{muteUntil:t}=e;ez.getState().setMuted({isMuted:!0,muteUntil:t})}});this.sessionService.addAbort(e.chatSessionId,a)}),(0,to._)(this,"hooks",{useMessagePath:e=>ez((0,te.N)(t=>e?eF.getMessagePath(t,e):[])),useSessionChatStatus:e=>tr({isAgentOrSession:!0,sessionId:e,agentId:void 0})})}}let a_=(0,e7.createContext)({chatController:null});a_.displayName="ChatContext";let aw=()=>{let{chatController:e}=(0,e7.useContext)(a_);if(!e)throw Error("useChatController must be used within a ChatProvider");return e};n(62100);let aS=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function aI(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=aS[t],a=e/Math.pow(1024,t),r=Number.isInteger(a)?Math.floor(a).toString():a.toFixed(2).replace(/\.?0+$/,"");return{value:r,unit:n,formatStr:"".concat(r).concat(n)}}let aT=e=>{let{searchEnabled:t}=e;return t?43008:47104};class aM{constructor(){(0,to._)(this,"hooks",{useBranchUsedTokenCount:e=>{let{sessionId:t}=e;return ez(e=>{if(!t)return 0;let n=eF.getLatestMessageId(e,t);if(null===n)return 0;let a=e.getMessage(t,n);return(null==a?void 0:a.accumulatedTokenUsage)||0})},useBranchAndProcessingFilesTokenCount:e=>ep(t=>t.getFilesTokenCount(e))+this.hooks.useBranchUsedTokenCount(e),useIsProcessingTokenCountExceeded:(e,t)=>{let{searchEnabled:n}=t;return this.hooks.useBranchAndProcessingFilesTokenCount(e)>aT({searchEnabled:n})},useMaxTokenNewFilesAllowed:(e,t)=>{let{searchEnabled:n}=t,a=this.hooks.useBranchUsedTokenCount(e);return aT({searchEnabled:n})-a},useIsFirstCompletion:e=>{let{sessionId:t}=e;return ez(e=>{if(!t)return!0;let n=eF.getLatestMessageId(e,t);if(null===n)return!0;let a=e.getMessage(t,n);return(null==a?void 0:a.accumulatedTokenUsage)===0})}})}}async function aj(e){let{fileId:t}=e;return(await en().http.http.get("/api/v0/file/preview",{query:{file_id:t}})).json.data.biz_data.url}n(70538),n(78272),n(5265),n(16326),n(62173),n(17410);let ak=new Set(["docx","xlsx","pptx","doc","xls","ppt"]),aA=new Set(["pdf"]),aR=new Set(["png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","jpe","jp2","jpc","jpf","jpx","mpeg","mpg","pbm","pcx","pfm","pgm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"]),aN=["jpg","png","jpeg","svg","gif","webp","bmp","apng","ico"],aL=(s=null,()=>null!==s?s:s=new Promise(e=>{let t=new Image;t.onerror=()=>e(!1),t.onload=()=>e(!0),t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="}).catch(()=>!1));class aF{dispose(){this.subscription.unsubscribe()}static getIsImageExt(e){return aR.has(e)}listenPreview(e){return this.previewListeners.add(e),()=>{this.previewListeners.delete(e)}}getIsValidServerFile(e){let{status:t}=e;return Z.fileParseStatusMeaning[t].isFinished}getPreviewType(e,t){if(!this.getIsValidServerFile(e))return null;let{fileName:n}=e,a=ex(n,"lower"),r=ak.has(a),o=aR.has(a),s=t(a),i=aA.has(a);return r?null:s?"image":o?null:i?"pdf":"text"}initSupportPreviewImageExts(){this.nonreactiveStore.addSupportPreviewImageExts(aN),aL().then(e=>{e&&this.nonreactiveStore.addSupportPreviewImageExts(["avif"])})}get nonreactiveStore(){return this.usePreviewStore.getState()}async previewFile(e){let{tracker:t}=en(),n=this.getPreviewType(e,this.nonreactiveStore.getIsSupportedPreviewImage);if(!n)return{success:!0};let{id:a}=e,r=()=>{this.nonreactiveStore.setCurrentPreviewFileId(a),this.previewListeners.forEach(e=>e())};tv.next({method:"openPreview",args:null});let o=this.nonreactiveStore.getPreviewInfo(a);if(o&&aO(o))return t.info({name:"previewFileReuseUrl",message:"预览文件复用地址",payload:{type:n,fileName:e.fileName,id:a}}),r(),{success:!0};try{let t=await aj({fileId:a});return this.nonreactiveStore.setPreviewInfo(a,{url:t,expireAt:aP(t),type:n,name:e.fileName}),r(),{success:!0}}catch(r){return this.closePreview(),t.error({name:"previewFileGetUrlFailed",message:"获取预览文件地址失败",payload:t.withError(r,{type:n,fileName:e.fileName,id:a})}),{success:!1,error:r}}}closePreview(){this.nonreactiveStore.setCurrentPreviewFileId(null)}matchCurrentPreviewFile(e){return this.nonreactiveStore.currentPreviewFileId===e.id}constructor(e){(0,to._)(this,"usePreviewStore",void 0),(0,to._)(this,"previewListeners",new Set),(0,to._)(this,"subscription",void 0),(0,to._)(this,"hooks",{usePreviewType:e=>{let t=this.usePreviewStore(e=>e.getIsSupportedPreviewImage);return this.getPreviewType(e,t)},useCurrentPreviewInfo:()=>{let e=this.usePreviewStore(e=>e.currentPreviewFileId);return this.usePreviewStore(t=>e?t.getPreviewInfo(e):null)},useIsShowPreview:()=>!!this.hooks.useCurrentPreviewInfo()}),this.usePreviewStore=e,this.initSupportPreviewImageExts(),this.subscription=tv.subscribe(e=>{let{method:t}=e;"openSearchView"===t&&this.closePreview()})}}let aO=e=>{let{expireAt:t}=e;return t-Date.now()>6e5},aP=e=>{let t=new URL(e).searchParams.get("Expires");return t?1e3*parseInt(t):Date.now()+144e5},aD=()=>({previewUrlMap:{},currentPreviewFileId:null,supportPreviewImageExts:[]}),aB=()=>(0,Q.Ue)()((0,X.n)((e,t)=>({...aD(),setPreviewInfo(t,n){e(e=>{e.previewUrlMap[t]=n})},getPreviewInfo:e=>t().previewUrlMap[e]||null,setCurrentPreviewFileId(t){e(e=>{e.currentPreviewFileId=t})},addSupportPreviewImageExts(t){e(e=>{e.supportPreviewImageExts=Array.from(new Set([...e.supportPreviewImageExts,...t]))})},getIsSupportedPreviewImage:e=>t().supportPreviewImageExts.includes(e)}))),az=(0,e7.createContext)({previewController:null}),aH=e=>{let{children:t,location:n}=e,a=aU();(0,e7.useEffect)(()=>{a.closePreview()},[n,a]),(0,e7.useEffect)(()=>()=>{a.dispose()},[a]);let r=(0,e7.useMemo)(()=>({previewController:a}),[a]);return(0,tC.jsx)(az.Provider,{value:r,children:t})},aU=()=>{let e=(0,e7.useRef)();return e.current||(e.current=new aF(aB())),e.current};az.displayName="PreviewContext";let aV=()=>{let{previewController:e}=(0,e7.useContext)(az);if(!e)throw Error("usePreviewController must be used within a PreviewProvider");return e};var aW=n(68354),aG=n(91563);let aZ=async e=>{let{biz_code:t,biz_data:n}=(await en().http.http.post("/api/v0/character/create",{json:{name:e.name,description:e.description,system_prompt:e.systemPrompt,avatar:e.avatar}})).json.data;return 0!==t?{success:!1,code:t}:{success:!0,character:tZ(n.character)}},aq=async e=>{let t=await en().http.http.post("/api/v0/character/delete",{json:{character_id:e.characterId}});return 0!==t.json.data.biz_code?{success:!1,code:t.json.data.biz_code}:{success:!0}},aY=async e=>{let t=await en().http.http.post("/api/v0/character/edit",{json:{character_id:e.characterId,name:e.name,description:e.description,system_prompt:e.systemPrompt,avatar:e.avatar}});return 0!==t.json.data.biz_code?{success:!1,code:t.json.data.biz_code}:{success:!0,character:tZ(t.json.data.biz_data.character)}},aK=async e=>{let t=await en().http.http.get("/api/v0/character/details",{query:{character_ids:e.characterIds}});return 0!==t.json.data.biz_code?{success:!1,code:t.json.data.biz_code}:{success:!0,characters:t.json.data.biz_data.characters.map(tZ)}},aQ=async e=>(await en().http.http.get("/api/v0/character/explore",{query:e})).json.data.biz_data.group_by_categories.map(tK),aX=async()=>{let e=(await en().http.http.get("/api/v0/character/my_pins")).json.data.biz_data.items;return{characterPins:e.map(e=>e.character_pin).map(tq),characters:e.map(e=>e.character).map(tY)}},aJ=async()=>({characters:(await en().http.http.get("/api/v0/character/created")).json.data.biz_data.characters.map(tY)}),a$={users_current:"/users/current",users_settings:"/users/settings",character_detail:"/character/detail",character_mine:"/character/mine",download_export_history:"/download_export_history"},a1=e=>"".concat(a$.character_detail,"@").concat(e);class a0{get nonReactiveStore(){return ew.getState()}constructor(){(0,to._)(this,"getCharacter",e=>e?this.nonReactiveStore.getCharacter(e):null),(0,to._)(this,"fetchMyCharacters",async()=>{let{tracker:e}=en();try{let{characters:e}=await aJ();return this.nonReactiveStore.updateCharacterData(e),{characters:e}}catch(t){return e.error({name:"getMyCreatedCharactersFailed",message:"获取我的角色失败",payload:e.withError(t,{})}),{success:!1,characters:[]}}}),(0,to._)(this,"fetchMyPins",async()=>{let{tracker:e}=en();try{let{characterPins:e,characters:t}=await aX();this.nonReactiveStore.setPinnedCharacterIds({mode:"replace",ids:e.map(e=>e.characterId)}),this.nonReactiveStore.updateCharacterData(t)}catch(t){e.error({name:"getMyPinsFailed",message:"获取我的角色失败",payload:e.withError(t,{})})}}),(0,to._)(this,"createCharacter",async e=>{let{name:t,description:n,systemPrompt:a,avatar:r}=e,{tracker:o}=en();try{let e=await aZ({name:t,description:n,systemPrompt:a,avatar:r});if(e.success)return{success:!0,characterId:e.character.id};return o.error({name:"createCharacterFailed",message:"创建角色失败",payload:{code:e.code}}),{success:!1,code:e.code,isBroken:!1}}catch(e){return o.error({name:"createCharacterFailed",message:"创建角色失败",payload:o.withError(e,{})}),{success:!1,isBroken:!0,code:void 0}}}),(0,to._)(this,"editCharacter",async e=>{let{id:t,name:n,description:a,systemPrompt:r,avatar:o}=e,{tracker:s}=en();try{let e=await aY({characterId:t,name:n,description:a,systemPrompt:r,avatar:o});if(e.success)return{success:!0,characterId:e.character.id};return s.error({name:"editCharacterFailed",message:"编辑角色失败",payload:{code:e.code}}),{success:!1,code:e.code,isBroken:!1}}catch(e){return s.error({name:"editCharacterFailed",message:"编辑角色失败",payload:s.withError(e,{})}),{success:!1,isBroken:!0,code:void 0}}}),(0,to._)(this,"fetchCharacterDetails",async e=>{let{tracker:t}=en(),n=Array.isArray(e)?e:[e];try{let e=await aK({characterIds:n});if(e.success){this.nonReactiveStore.updateCharacterData(e.characters);let t=e.characters.reduce((e,t)=>(e[t.id]=t,e),{});return{success:!0,details:t}}{t.error({name:"getCharacterDetailsFailed",message:"获取角色详情失败",payload:{code:e.code,ids:n}});let a=Z.CustomCharacter.GetCharacterDetailsErrorCode;switch(e.code){case a.TOO_MANY_CHARACTER_IDS:return{success:!1,reason:"too_many_id"};case a.MISSING_CHARACTER_IDS:return{success:!1,reason:"no_id"}}}}catch(e){return t.error({name:"getCharacterDetailsFailed",message:"获取角色详情失败",payload:t.withError(e,{ids:n})}),{success:!1,reason:"network"}}}),(0,to._)(this,"deleteCharacter",async e=>{let{tracker:t}=en();try{let n=await aq({characterId:e});if(n.success)return!0;t.error({name:"deleteCharacterFailed",message:"删除角色失败",payload:{code:n.code,id:e}}),n.code===Z.CustomCharacter.DeleteCharacterErrorCode.CHARACTER_NOT_FOUND||(0,ev.vv)(n.code)}catch(n){t.error({name:"deleteCharacterFailed",message:"删除角色失败",payload:t.withError(n,{id:e})})}return!1}),(0,to._)(this,"hooks",{useCharacterExploreCategoryGroups:(e,t)=>{let{data:n,error:a,isLoading:r,isValidating:o}=(0,aW.ZP)("/character/explore/".concat(e),()=>aQ({locale:e}),{revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1,onSuccess:n=>{let{tracker:a}=en();a.info({name:"updateCharacterExplore",message:"更新角色列表成功",payload:{locale:e,groups:n.length}}),this.nonReactiveStore.updateCharacterGroupsByExplore(n),null==t||t(n)},onError:t=>{let{tracker:n}=en();n.error({name:"getCharacterExploreError",message:"获取角色列表失败",payload:n.withError(t,{locale:e})})}});return{groups:n||[],error:a,isLoading:r,isValidating:o}},usePinnedCharacters:()=>{let e=ew(e=>e.pinnedCharacterIds);return ew(t=>e.map(e=>t.allCharacterData[e]))},useCharacterAuto:(e,t)=>{let n=ew(t=>e?t.allCharacterData[e]:null),{isLoading:a,mutate:r}=(0,aG.Z)(a1(e||""),async()=>{var n;if(!e||!ed(e))return null;let a=await this.fetchCharacterDetails(e);if(a.success){let t=a.details[e];return t&&this.nonReactiveStore.updateCharacterData([t]),t||null}return null==t||null===(n=t.onError)||void 0===n||n.call(t,a.reason),null},{fallbackData:n}),o=(0,e7.useRef)(n);return o.current=n,(0,e7.useEffect)(()=>{var e;(null==t?void 0:t.requireSysPrompt)&&!(null===(e=o.current)||void 0===e?void 0:e.systemPrompt)&&r()},[r,null==t?void 0:t.requireSysPrompt]),{character:n,isLoading:a,mutate:r}}})}}let a2=(0,e7.createContext)({characterController:null}),a3=e=>{let{children:t,enabled:n}=e,a=a5();(0,e7.useEffect)(()=>{n&&a.fetchMyPins()},[a,n]);let r=(0,e7.useMemo)(()=>({characterController:a}),[a]);return(0,tC.jsx)(a2.Provider,{value:r,children:t})},a5=()=>{let e=(0,e7.useRef)();return e.current||(e.current=new a0),e.current},a4=()=>{let{characterController:e}=(0,e7.useContext)(a2);if(!e)throw Error("useCharacterController must be used within a CharacterProvider");return e},a9=(0,e7.createContext)({getTokenCountController:()=>{throw Error("getTokenCountController is not implemented")}});a9.displayName="TokenCountContext";let a6=()=>{let{getTokenCountController:e}=(0,e7.useContext)(a9);return e()},a7=()=>+new Date;class a8{constructor(){(0,to._)(this,"versionHelper",{getGuardedFrontendVersion:e=>e&&e.match(/^fv-\d+/)?e:re})}}let re="fv-0",rt=()=>"fv-1";function rn(){let{http:e}=en();return e.http.get("/api/v0/users/settings").then(e=>{let{context:t,json:n}=e;return{data:{training_allowed:n.data.biz_data.training_allowed},context:t}})}function ra(e){let{http:t}=en();return t.http.post("/api/v0/users/update_settings",{json:e})}async function rr(e,t){var n;let{bizData:a,context:r,cacheInfo:o}=await rs(e,t),s={},i={};for(let e in a.chat_messages.forEach(e=>{i[e.message_id]=e;let t="".concat(e.parent_id),n=s[t];n||(n=s[t]=[]),n.push(e.message_id)}),s){let t=s[e];null==t||t.sort((e,t)=>e-t)}let l=[],d=ri(a);for(;d;){let e=i[d];if(!e)break;l.push(d),d=e.parent_id}l.reverse();let c=0;if(l.length>0){let e=l[0];c=s["".concat(null)].indexOf(e)}let u=a.chat_messages.map(e=>{var t,n,a,r,o,i;let d=s[e.message_id]||null,c=0;d&&-1===(c=d.findIndex(e=>l.includes(e)))&&(c=0);let u=e9(e.status),h=null!==(t=e.accumulated_token_usage)&&void 0!==t?t:ro(e);return{content:e.content,id:e.message_id,parentId:e.parent_id,isEditing:!1,accumulatedTokenUsage:h,status:u,generateState:null,role:e.role===Z.MessageRole.ASSISTANT?W.MessageRole.ASSISTANT:W.MessageRole.USER,childIds:d||[],currentChildIndex:c,feedback:e6(e.feedback),files:e.files.map(tm.transformServerFileInfoToClient),thinkingContent:null!==(n=e.thinking_content)&&void 0!==n?n:null,thinkingElapsedSecs:null!==(a=e.thinking_elapsed_secs)&&void 0!==a?a:null,banRegenerate:null!==(r=e.ban_regenerate)&&void 0!==r&&r,searchResults:e5(e.search_results),searchEnabled:e.search_enabled||!1,searchStatus:e.search_status||null,thinkingEnabled:null!==(o=e.thinking_enabled)&&void 0!==o&&o,insertedAt:null!==(i=e.inserted_at)&&void 0!==i?i:0,tips:e.tips||[],hint:null,resendInfo:null,stopResponseId:null}}),h={};return u.forEach(e=>{h[e.id]=e}),{context:r,data:{session:{id:a.chat_session.id,messageStore:h,title:a.chat_session.title,seqId:a.chat_session.seq_id,aborts:[],prompt:"",state:W.SessionStateEnum.idle,rootBranchIndex:c,rootBranchIds:s["".concat(null)]||[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,updatedAt:1e3*a.chat_session.updated_at,agent:W.AgentId.CHAT,routeId:a.route_id,titleType:a.chat_session.title_type,agentId:(null===(n=a.chat_session.character)||void 0===n?void 0:n.id)||W.AgentId.CHAT,isHidden:!1},character:a.chat_session.character?tY(a.chat_session.character):null},cacheInfo:o}}n(49601);let ro=e=>e.status===Z.MessageStatus.CONTEXT_LENGTH_EXCEEDED?1/0:e.accumulated_token_usage||0,rs=async(e,t)=>{var n,a;let r=await (null===(n=t.cache)||void 0===n?void 0:n.get({key:e.chatSessionId,frontendVersion:t.frontendVersion})),o=await en().http.http.get("/api/v0/chat/history_messages",{query:{chat_session_id:e.chatSessionId,cache_version:(null==r?void 0:r.version)||null}}),s=o.json.data.biz_data,i={hitCache:!!r,isCacheValid:s.cache_valid,reqVersion:(null==r?void 0:r.version)||null,frontendVersion:(null==r?void 0:r.frontendVersion)||""};return s.cache_valid||null===(a=t.cache)||void 0===a||a.set({data:{data:s,version:s.chat_session.version,key:e.chatSessionId},frontendVersion:t.frontendVersion}),{bizData:{...o.json.data.biz_data,chat_messages:s.cache_valid&&(null==r?void 0:r.data.chat_messages.length)?r.data.chat_messages:s.chat_messages},context:o.context,cacheInfo:i}},ri=e=>{var t;return null!==(t=e.chat_session.current_message_id)&&void 0!==t?t:Math.max(...e.chat_messages.map(e=>e.message_id))};class rl{get nonreactiveStore(){return ez.getState()}resumeLatestMessageAsNeed(e){var t;let n=eF.getLatestSentMessageId(this.nonreactiveStore,e);if((0,ek.Z)(n))return;let a=null===(t=this.nonreactiveStore.getSession(e))||void 0===t?void 0:t.messageStore[n];(null==a?void 0:a.status)===W.MessageStatus.WIP&&this.resumeCompletion({chatSessionId:e,messageId:a.id})}constructor(e){(0,to._)(this,"resumeCompletion",void 0),(0,to._)(this,"fetchSessionHistory",async(e,t)=>{let n=this.nonreactiveStore.getSession(e),a=!!n;if(n&&(n.state===W.SessionStateEnum.completing||n.state===W.SessionStateEnum.fetchingHistory||n.state===W.SessionStateEnum.sending)||(null==n?void 0:n.state)===W.SessionStateEnum.historyError&&!(null==t?void 0:t.isRetry))return{exist:!0,gotSessionInfo:a};this.nonreactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.fetchingHistory});let{tracker:r}=en();try{r.info({name:"fetchHistoryApi",message:"开始请求fetchHistory接口",payload:{chatSessionId:e,cacheVersion:null}});let{data:{session:n,character:o},context:{logId:s},cacheInfo:i}=await rr({chatSessionId:e},{cache:null==t?void 0:t.cache,frontendVersion:rt()});return r.info({name:"fetchHistoryApiOk",message:"请求fetchHistory接口成功",payload:{logId:s,chatSessionId:e,...i}}),o&&ew.getState().updateCharacterData([o]),this.nonreactiveStore.getSession(e)?this.nonreactiveStore.updateSession(e,e=>{e.state!==W.SessionStateEnum.historyError&&e.state!==W.SessionStateEnum.fetchingHistory&&e.state!==W.SessionStateEnum.idleWithNoHistory||Object.assign(e,J(n,["routeId","messageStore","rootBranchIds","rootBranchIndex","seqId","title"])),e.state=W.SessionStateEnum.idle}):this.nonreactiveStore.addSession(n),this.resumeLatestMessageAsNeed(n.id),{exist:!0,gotSessionInfo:a}}catch(t){return r.error({name:"fetchHistoryApiFailed",message:"fetchHistory请求失败,未知错误",payload:r.withError(t,{chatSessionId:e})}),this.nonreactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.historyError}),r.error({name:"fetchSessionHistoryFailed",message:"获取 session 历史消息失败",payload:r.withError(t,{sessionId:e})}),{exist:!1,gotSessionInfo:a}}}),this.resumeCompletion=e}}let rd=(0,e7.createContext)({sessionHistoryController:null}),rc=e=>{let{children:t,resumeCompletion:n}=e,a=(0,e7.useRef)(null);a.current||(a.current=new rl(n));let r=(0,e7.useMemo)(()=>({sessionHistoryController:a.current}),[]);return(0,tC.jsx)(rd.Provider,{value:r,children:t})};rc.displayName="SessionHistoryProvider";let ru=()=>{let{sessionHistoryController:e}=(0,e7.useContext)(rd);if(!e)throw Error("cannot useSessionHistoryController outside sessionHistoryContext");return e};n(43536);let rh=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.role:null}),rp=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.content:null}),rg=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.thinkingContent:null}),rm=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.thinkingElapsedSecs:null}),rf=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.hint:null}),rC=(e,t)=>{var n;return(null===(n=ez.getState().getMessage(e,t))||void 0===n?void 0:n.content)||""},rv=(e,t,n)=>{let{sessionId:a,messageId:r}=n;return e.trim().replace(/\[citation:\d+\]/g,e=>{var n;let o=Number(null===(n=e.match(/\d+/))||void 0===n?void 0:n[0]);return t.getSearchResult({sessionId:a||"",messageId:r||0},o)?"":e})},rx=(e,t)=>ez(n=>eF.getMessageBranchCount(n,e,t)),rE=(e,t)=>ez(n=>eF.getMessageBranchIndex(n,e,t)),ry=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.status:W.MessageStatus.OK}),rb=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.generateState:null}),r_=(e,t)=>ez(n=>rT(n,e,t)),rw=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return a?a.feedback:null}),rS=(e,t)=>ez(n=>{if(!rT(n,e,t))return!1;let a=n.getSession(e);return!!a&&[W.SessionStateEnum.sending,W.SessionStateEnum.completing].includes(a.state)}),rI=e=>{let{messageId:t,sessionId:n,position:a}=e;return ez((0,te.N)(e=>{var r;return(null===(r=e.getMessage(n,t))||void 0===r?void 0:r.tips.filter(e=>e.position===a))||[]}))},rT=(e,t,n)=>{let a=e.getMessage(t,n);return!!a&&a.status===W.MessageStatus.INCOMPLETE&&a.role===W.MessageRole.ASSISTANT&&!a.childIds.length},rM=(e,t)=>ez(n=>eF.getIsLastShowingUserMessage(n,e,t)),rj=(e,t)=>{let n=rN(e,t),a=tT().hooks.useMessageSearchStatus({sessionId:e,messageId:t}),r=n.useMessageGenerateStatus();if(null===r)return!1;let o=W.GenerateState;return a!==Z.SearchStatus.SEARCHING&&[o.INITIALIZING,o.AWAITING_FIRST_CHANGE].includes(r)},rk=(e,t,n)=>{let a=ry(e,t),r=[W.MessageStatus.OK,W.MessageStatus.CONTENT_FILTER,W.MessageStatus.INCOMPLETE,W.MessageStatus.CONTEXT_LENGTH_EXCEEDED,W.MessageStatus.TIMEOUT].includes(a);return!n&&r},rA=(e,t)=>ez(n=>{var a,r;let o=n.getMessage(e,t);return null!==(r=null==o?void 0:null===(a=o.files)||void 0===a?void 0:a.length)&&void 0!==r?r:null}),rR=(e,t)=>ez(n=>{let a=n.getMessage(e,t);return!!a&&a.banRegenerate}),rN=(e,t)=>({useMessageRole:()=>rh(e,t),useMessageContent:()=>rp(e,t),useThinkingContent:()=>rg(e,t),useThinkingElapsedSecs:()=>rm(e,t),useMessageHint:()=>rf(e,t),useMessageStatus:()=>ry(e,t),useMessageGenerateStatus:()=>rb(e,t),useShowLoading:()=>rj(e,t),useShowAssistantMessageActions:n=>rk(e,t,n),useShowContinue:()=>r_(e,t),useMessageFeedback:()=>rw(e,t),useContinueButtonDisabled:()=>rS(e,t),useBranchCount:()=>rx(e,t),useBranchIndex:()=>rE(e,t),useIsLastUserMessage:()=>rM(e,t),getCopyContent:n=>rv(rC(e,t),n,{sessionId:e,messageId:t}),useTips:n=>rI({messageId:t,sessionId:e,position:n}),useFilesCount:()=>rA(e,t),useBanRegenerate:()=>rR(e,t)}),rL=()=>{let e=aw();return{deleteSession:e.deleteSession,abortCompletion:e.abortCompletion,startCompletion:e.completion.bind(e),createSessionAndStartCompletion:e.createSessionAndCompletion.bind(e),editMessage:e.editMessage.bind(e),regenerateMessage:e.regenerateMessage.bind(e),continueCompletion:e.continueCompletion.bind(e),resendMessage:e.resend.bind(e)}}},56577:function(e,t,n){let a;n.d(t,{Wx:()=>m,$q:()=>f,Zu:()=>g,$Y:()=>C}),n(36631);let r="__widgetRemoved",o="cf-overlay",s="cf-turnstile",i=()=>{},l=(new Promise(e=>{i=e}),null),d="",c=null,u=null,h=!1,p=!1;function g(e){let{sitekey:t,tracker:n,logger:a,ignoreFailed:r}=e;h=r,d=t,c=n,u=a}function m(){let e,t;if(p)return;if(!d)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 sitekey");if(!c)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 tracker");p=!0,!function(e){let t=document.createElement("div");t.id=o,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.border="1px solid grey",t.style.zIndex="10000",t.style.display="none",t.innerHTML='<p style="color: white; text-align: center; margin-top: 50vh;">One more step before you proceed...</p><div style="display: flex; flex-wrap: nowrap; align-items: center; justify-content: center;" id="'.concat(e,'"></div>'),document.body.appendChild(t)}(s),a=new Promise((n,a)=>{e=n,t=a});let n=document.createElement("script");n.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",n.defer=!0,n.onerror=e=>{null==t||t(e),null==c||c.error({name:"__cloudflareTurnstileLoadFailed",message:"cloudflare turnstile 加载失败",payload:c.withError(e,{ignoreFailed:"".concat(h)})})},document.body.appendChild(n),window.onloadTurnstileCallback=function(){null==e||e(),null==c||c.info({name:"__cloudflareTurnstileLoadOk",message:"cloudflare turnstile 加载成功",payload:{ignoreFailed:"".concat(h)}})}}async function f(){let e=document.getElementById(o);if(!e)throw Error("[@deepseek/cloudflare-turnstile]: 未找到 overlay");if(e.style.display="block",!document.getElementById(s))throw Error("[@deepseek/cloudflare-turnstile]: 未找到 widget");return await a,new Promise((t,n)=>{null==u||u.info("开始渲染 cloudflare turnstile widget");try{l=window.turnstile.render("#cf-turnstile",{sitekey:d,"error-callback":e=>{null==c||c.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，code: ".concat(e),payload:{code:e,ignoreFailed:"".concat(h)}}),h||t(),C(),n(e)},callback:function(a,r){if(null==c||c.info({name:"__cloudflareTurnstileChallengeOk",message:"获取到 cloudflare turnstile token，".concat(a,"，preClearanceObtained: ").concat(r),payload:{token:a,ignoreFailed:"".concat(h)}}),r){e.style.display="none";let n=l;n&&window.turnstile.remove(n),t()}else null==c||c.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，preClearanceObtained 为 false",payload:{code:"[PRE_CLEARANCE_FALSE]",ignoreFailed:"".concat(h)}}),e.style.display="none",n(Error("Unable to obtain pre-clearance"));C()}})}catch(e){null==c||c.error({name:"__cloudflareTurnstileRenderFailed",message:"cloudflare render turnstile 失败",payload:c.withError(e,{ignoreFailed:"".concat(h)})})}})}function C(){null==u||u.info("停止 cloudflare turnstile 后台刷新 token 任务"),l&&(window.turnstile.remove(l),i({code:r,action:"unexpected",reason:r,status:"failed"}),l=null,new Promise(e=>{i=e}))}},37804:function(e,t,n){n.d(t,{G6:()=>s,Qj:()=>u,di:()=>r,jU:()=>a,mL:()=>d,qW:()=>l,qn:()=>c}),n(36631);let a="undefined"!=typeof document&&"undefined"!=typeof window,r="undefined"!=typeof wx&&wx&&"object"==typeof wx&&"getSystemInfoSync"in wx,o=a&&"chrome"in window;a&&navigator.userAgent.includes("Firefox");let s=a&&navigator.userAgent.includes("Safari")&&!o,i=!!a&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream,l=a&&navigator.userAgent.match(/(MicroMessenger|micromessenger);?/i),d=a&&navigator.platform.toLowerCase().startsWith("mac")||i;Math.random().toString(36).slice(2);let c=a&&location.search.includes("ios_auth"),u=(()=>{try{return Error("Test error",{cause:Error("Cause error")}).cause instanceof Error}catch(e){return!1}})()},65286:function(e,t,n){let a;n.d(t,{II:()=>s,mJ:()=>c,of:()=>h,Vb:()=>l,UL:()=>d,$z:()=>i,$0:()=>o}),n(82538);var r=n(86239);function o(e){let t=(0,r.useRef)(e);return t.current=e,(0,r.useCallback)(function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.current(...n)},[])}function s(e){let t=(0,r.useRef)(e);return t.current=e,t}function i(e){let{root:t,rootMargin:n,threshold:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,r.useRef)(e);o.current=e;let s=(0,r.useRef)(()=>{});return(0,r.useCallback)(e=>{if(null==s||s.current(),s.current=()=>{},!e||"undefined"==typeof IntersectionObserver)return;let r=new IntersectionObserver(e=>{let[t]=e;o.current(t.isIntersecting)},{root:t,rootMargin:n,threshold:a});r.observe(e),s.current=()=>{r.disconnect()}},[t,n,a])}function l(e){let{value:t,shouldDelay:n=()=>!0,delay:a,defaultValue:o}=e,s=n(t),i=(0,r.useRef)(o),l=(0,r.useReducer)(e=>e+1,0)[1];return(0,r.useEffect)(()=>{if(!s)return i.current=t,()=>{};{let e=setTimeout(()=>{i.current=t,l()},a);return()=>clearTimeout(e)}},[t,a,s,l]),s?i.current:t}function d(e){let{value:t,shouldDelay:n=()=>!0,defaultValue:a}=e,s=n(t),i=(0,r.useRef)(a),l=(0,r.useReducer)(e=>e+1,0)[1],d=o(()=>{i.current=t,l()});return(0,r.useEffect)(()=>{s||(i.current=t)},[t,s]),{value:s?i.current:t,trigger:d}}function c(e,t,n){let{showDelay:a,minDuration:o}=t,[,s]=(0,r.useReducer)(e=>e+1,0),i=(0,r.useRef)(!1),d=(0,r.useRef)(!1);(0,r.useMemo)(()=>{d.current=!1},[n]),(0,r.useEffect)(()=>{d.current||(i.current=!1,d.current=!0,s())},[n]);let c=e=>e,u=l({value:d.current,shouldDelay:c,delay:a,defaultValue:!1}),h=l({value:u,shouldDelay:c,delay:o,defaultValue:!1}),p=e&&u||i.current&&!h;return i.current=i.current||p,p}n(68354),n(63393);var u=n(71127);try{a=new Intl.Segmenter("en",{granularity:"grapheme"})}catch{a=null}function h(e,t,n){let o=(0,r.useRef)(e),s=(0,r.useReducer)(e=>e+1,0)[1],i=(0,r.useRef)(),l=(0,r.useRef)(e),d=(0,r.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];o.current=e,t&&s()},[s]);t&&(o.current=e);let c=o.current;(0,r.useLayoutEffect)(()=>{n()},[n,c]);let h=(0,r.useCallback)(()=>{var t;null===(t=i.current)||void 0===t||t.dispose(),i.current=function(e){let{windowSize:t=10,preserveRate:n=.8,initialText:r="",onTextGrow:o}=e,s=[r],i=[],l=[],d=null,c=1,h=500,p=.04,g=0;return{feed:e=>{i=function(e){let t=a?Array.from(a.segment(e),e=>e.segment):[...e],n=[];for(let e=0;e<t.length;e++){let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,a="[citation:";for(let t=0;t<a.length;t++,n++)if(e[n]!==a[t])return!1;for(;n<e.length&&e[n]>="0"&&e[n]<="9";)n++;return"]"===e[n]&&n}(t,e)||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,a=e[n];if("-"===a||"*"===a||"#"===a){for(;n<e.length&&e[n]===a;)n++;return n-1}if("`"===a&&"`"===e[n+1]&&"`"===e[n+2]){for(n+=3;n<e.length&&/[a-zA-Z]/.test(e[n]);)n++;if("\n"===e[n])return n}return!1}(t,e)||e;n.push(t.slice(e,a+1).join("")),e=a}return n}(e),s.push(...i);let r=Date.now(),m=(l=[...l.slice(-t),r]).slice(1).map((e,t)=>e-l[t]);m.length>0&&(h=(0,u.Z)(m)/m.length,p=Math.max((s.length-c)*n,s.length-c-i.length,s.length-c-32,1)/h),g=Date.now(),d||function e(){if(c>=s.length){d=null;return}let t=Date.now(),n=p*(t-g);n>=1&&(c=Math.min(s.length,c+n),o(s.slice(0,c).join("")),g=t),d=requestAnimationFrame(e)}()},dispose(){d&&cancelAnimationFrame(d)}}}({initialText:e,onTextGrow:d}),d(e,!1)},[d,e]);return(0,r.useEffect)(()=>{if((e.startsWith(l.current)?e.length-l.current.length:0)>0){var t;null===(t=i.current)||void 0===t||t.feed(e.slice(l.current.length))}l.current=e},[e]),(0,r.useEffect)(()=>{t&&h()},[t,h]),i.current&&e.startsWith(l.current)||h(),o.current}},7760:function(e,t,n){n.d(t,{OS:()=>h,g6:()=>c,Wc:()=>d,Lz:()=>g});var a=n(92673);n(36631);var r=n(6302),o=n(76054);let s=()=>({preparing:!1,pair:{challenge:null,answer:null,updatedAt:Date.now()}}),i=()=>(0,r.Ue)()((0,o.n)((e,t)=>({...s(),clear:(n,a)=>{let{pair:r}=t();(r.challenge||r.answer)&&(n.info({name:"powCleared",message:"工作量证明清除: ".concat(a),payload:{scene:a}}),e(s()))},clearAll:()=>{e(s())}})));n(82538),n(1227);let l=(e,t)=>async function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];try{return await e(...a)}catch(e){throw t(e,...a),e}},d=(e,t)=>["X-DS-Guest-PoW-Response",t(JSON.stringify({salt:e.salt,answer:e.answer}))],c=(e,t,n)=>["X-DS-PoW-Response",n(JSON.stringify({algorithm:e.algorithm,challenge:e.challenge,salt:e.salt,answer:e.answer,signature:e.signature,target_path:t}))];class u{get tracker(){return this.getTracker()}constructor(e){(0,a._)(this,"getTracker",void 0),(0,a._)(this,"doSolveChallenge",void 0),(0,a._)(this,"expireTimeOffset",void 0),(0,a._)(this,"getChallengeWrapped",void 0),(0,a._)(this,"useProofOfWorkStore",void 0),(0,a._)(this,"scene",void 0),(0,a._)(this,"clearAll",()=>{this.useProofOfWorkStore.getState().clearAll()}),(0,a._)(this,"verifySolveExpired",()=>{let{pair:e}=this.useProofOfWorkStore.getState();if(!e.answer||!e.challenge)return"empty";let{expireAfter:t}=e.challenge,{updatedAt:n}=e;return n+t-this.expireTimeOffset>Date.now()?"valid":"expired"}),(0,a._)(this,"calcImmediatelyNotStore",async()=>{this.tracker.info({name:"calcPowImmediatelyNotStore",message:"立即计算工作量证明: ".concat(this.scene),payload:{scene:this.scene}});try{let e=await this.getChallengeWrapped(),{challengeResponse:t,duration:n}=await this.doSolveChallenge(e);return this.tracker.info({name:"calcPowImmediatelyNotStoreSuccess",message:"立即计算工作量证明成功: ".concat(this.scene),payload:{duration:n,scene:this.scene,difficulty:e.difficulty,answer:t.answer}}),{res:t,duration:n}}catch(e){return this.tracker.error({name:"proofOfWorkFailed",message:"准备工作量证明失败: ".concat(this.scene),payload:this.tracker.withError(e,{scene:this.scene,source:"calcImmediatelyNotStore"})}),null}}),(0,a._)(this,"retrieveAnswer",()=>{if(this.useProofOfWorkStore.getState().preparing)return this.calcImmediatelyNotStore();let e=this.verifySolveExpired();if("valid"!==e)return this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),this.calcImmediatelyNotStore();let{pair:{answer:t,challenge:n}}=this.useProofOfWorkStore.getState();return(this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),Number.isInteger(null==t?void 0:t.res.answer))?(this.tracker.info({name:"retrievePowAnswer",message:"获取工作量证明: ".concat(this.scene),payload:{expireInfo:e,expireAt:(null==n?void 0:n.expireAt)||-1,scene:this.scene,answer:(null==t?void 0:t.res.answer)||-1,expireAfter:(null==n?void 0:n.expireAfter)||-1}}),t):(this.tracker.error({name:"retrievePowAnswerFailed",message:"获取工作量证明失败: ".concat(this.scene,",重新计算"),payload:this.tracker.withError(Error("invalid answer"),{scene:this.scene})}),this.calcImmediatelyNotStore())}),this.getTracker=e.getTracker,this.doSolveChallenge=e.doSolveChallenge,this.expireTimeOffset=e.expireTimeOffset,this.scene=e.scene||"completion_like",this.getChallengeWrapped=l(e.getChallengeApi,e=>{this.tracker.error({name:"getChallengeFailed",message:"获取工作量证明失败",payload:this.tracker.withError(e,{scene:this.scene})})}),this.useProofOfWorkStore=i()}}class h{get tracker(){return this.getTracker()}async getChallengeAndSolve(e){let{url:t}=e;this.tracker.info({name:"getGuestPowChallengeAndSolve",message:"guest pow 获取",payload:{url:t}});let n=await this.getChallengeWrapped(e);try{let{challengeResponse:e,duration:a}=await this.solveChallenge(n);return this.tracker.info({name:"guestPowSolved",message:"guest pow 计算完成",payload:{url:t,duration:a,difficulty:n.difficulty,answer:e.answer}}),{challenge:n,challengeResponse:e,duration:a}}catch(e){throw this.tracker.error({name:"guestProofOfWorkFailed",message:"准备工作量证明失败",payload:this.tracker.withError(e,{url:t})}),e}}constructor(e){(0,a._)(this,"solveChallenge",void 0),(0,a._)(this,"getTracker",void 0),(0,a._)(this,"getChallengeWrapped",void 0),this.solveChallenge=e.solveChallenge,this.getTracker=e.getTracker,this.getChallengeWrapped=l(e.getChallengeApi,(e,t)=>{let{url:n}=t;this.tracker.error({name:"guestGetChallengeFailed",message:"guest pow 获取失败",payload:this.tracker.withError(e,{url:n})})})}}let p=["completion_like","upload_file"];class g{constructor(e){for(let t of((0,a._)(this,"services",new Map),(0,a._)(this,"getTracker",void 0),(0,a._)(this,"retrieveAnswer",async e=>{let t=this.services.get(e);if(!t)throw Error("Scene ".concat(e," not found"));return t.retrieveAnswer()}),(0,a._)(this,"clearAllPow",()=>{for(let e of(this.getTracker().info({name:"clearAllPow",message:"清理所有Pow",payload:{}}),this.services.values()))e.clearAll()}),this.getTracker=e.getTracker,p))this.services.set(t,new u({...e,scene:t,getChallengeApi:()=>e.getChallengeByScene(t)}))}}},34031:function(e,t,n){let a,r;n.d(t,{EP:()=>f,g6:()=>o.g6,xN:()=>d});var o=n(7760);n(36631),n(70538),n(78272),n(5265),n(16326),n(62173),n(17410),n(82538);var s=n(37804);let i=()=>{if(!window.Worker)throw Error("Worker is not supported");return new Worker(new URL(n.p+n.u("245"),n.b),Object.assign({},{type:"module"},{type:void 0}))},l=async e=>c(e,i()),d=async e=>l(e),c=async(e,t)=>{t.postMessage({type:"pow-challenge",challenge:e});let n=performance.now(),a=await new Promise((e,n)=>{t.onmessage=a=>{if(h(a)){n(s.Qj?Error("Worker error",{cause:a.data.error}):a.data.error),t.terminate();return}if(u(a)){e(a.data),t.terminate();return}},t.onerror=e=>{n(Error("Worker error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno))),t.terminate()}}),r=performance.now();return{challengeResponse:a.answer,duration:r-n}},u=e=>"pow-answer"===e.data.type,h=e=>"pow-error"===e.data.type;n(54235),n(48773),n(84011),n(96141),n(93078),n(8286),n(51093),n(79300),n(69279),n(12821),n(48981),n(84426),n(36244),n(2550),("undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}}).encodeInto;let p="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};async function g(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function m(e){if(void 0!==a)return a;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(8880),n.b));let t=function(){let e={};return e.wbg={},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:r,module:o}=await g(await e,t);return a=r.exports,m.__wbindgen_wasm_module=o,a}"undefined"!=typeof TextDecoder&&p.decode(),new URL(n(8880),n.b);let f=e=>new o.Lz({...e,doSolveChallenge:d,expireTimeOffset:6e4})},13492:function(e,t,n){var a,r,o,s;n.d(t,{Ts:()=>a,WN:()=>i,bF:()=>l,IY:()=>r,q5:()=>c,nR:()=>h,Ag:()=>d});let i="[unset]",l=Object.freeze({withToken:!0,tokenSource:"none",startTime:-1,duration:-1,path:"",logId:i,mayMissingApiCode:!1,unauthorizedReason:null,id:-1,isSse:!1,shouldWaitSse:!1}),d=e=>{let{platform:t,version:n,locale:a}=e;return{"x-client-platform":t,"x-client-version":n,"x-client-locale":a}},c=22;(o=a||(a={}))[o.OK=0]="OK",o[o.MISSING_TOKEN=40002]="MISSING_TOKEN",o[o.INVALID_TOKEN=40003]="INVALID_TOKEN",o[o.IP_ACCESS_RESTRICTED=40029]="IP_ACCESS_RESTRICTED",o[o.USER_IS_BANNED=40012]="USER_IS_BANNED",o[o.MUTED=50006]="MUTED",o[o.POW_HEADER_ERROR=40300]="POW_HEADER_ERROR",o[o.INVALID_POW_RESPONSE=40301]="INVALID_POW_RESPONSE",(s=r||(r={}))[s.OK=0]="OK",n(82538);let u=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],h={cookieBannerRegions:["GB","US",...u],raw:{UnitedStatesOfAmerica:"US",UnitedKingdom:"GB",EuropeanUnionCodes:u}}},36884:function(e,t,n){n.d(t,{Se:()=>u,v5:()=>g,Bf:()=>C}),n(82538);var a=n(70681),r=n(80892),o=n(13492),s=n(37804),i=n(60758);n(63393);let l=0;function d(e){e.length>=1e3&&(e=e.slice(e.length-500,e.length),l+=e.length-500+1)}let c=e=>{let t=(0,i.Xy)(e);return t&&"object"!=typeof t?{error_wrap:t}:t};function u(e){let{staticEnv:t,lylaAdapter:n,customEventsApi:i}=e,u=function(e){let{channel:t}=e,n=[],a=!1;switch(t){case"console":return{debug:console.debug,info:console.info,warn:console.warn,error:console.error,switchToConsoleChannel(e){}};case"queue":return{debug(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.debug(...t);return}n.push({level:"debug",args:t}),d(n)},info:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.info(...t);return}n.push({level:"info",args:t}),d(n)},warn:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.warn(...t);return}n.push({level:"warn",args:t}),d(n)},error:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.error(...t);return}n.push({level:"error",args:t}),d(n)},switchToConsoleChannel(e){a||(console.log("[@deepseek/tracker]: ".concat("debugPanel"===e?"Debug 面板打开":"未知原因","，切换到 console channel")),l>0&&console.log("[@deepseek/tracker]: 队列过长，丢弃了 "+l+" 条消息"),a=!0,n.forEach(e=>{let{level:t,args:n}=e;console[t](...n)}),n=[])}}}}({channel:s.jU||s.di?t.channel:"console"}),h=(0,a.H)({onEvent(e){let{level:t,event:n,options:{consoleOnlyArgs:a=[]}={}}=e,{name:r,message:o,payload:s}=n;"debug"!==t&&(null==i||i({event:{level:t,eventMessage:o,eventName:r,payload:s}}));let l="info"===t?"color: blue;":"warn"===t?"color: orange;":"debug"===t?"color: grey;":"";void 0!==s?u[t]("%c[".concat(r,"]:%c ").concat(o),l,"",{payload:s},...a):u[t]("%c[".concat(r,"]:%c ").concat(o),l,"",...a)}}).mergePayloadObjectWith(i?{}:{__nodeEnv:t.nodeEnv,__deployEnv:t.deployEnv,__appVersion:t.appVersion,__commitId:t.commitId,__userAgent:t.userAgent,__referrer:t.referrer}),{isLylaError:p}=(0,r.w)(n,{context:o.bF}),g=(e,t)=>{if(p(e)){var n,a;return Object.assign({__error:{name:e.name,message:e.message,stack:e.stack,cause:e.cause,error:c(e.error)||null,logId:e.context.logId,httpStatus:"".concat(null!==(a=null===(n=e.response)||void 0===n?void 0:n.status)&&void 0!==a?a:-1)}},t)}{let n=c(e)||{};return n.name||(n.name=""),n.message||(n.message=""),n.stack||(n.stack=""),n.cause||(n.cause=""),Object.assign({__error:n},t)}};return h.withError=g,{tracker:h,logger:{debug(e,t){h.debug({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},info(e,t){h.info({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},warn(e,t){h.warn({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},error(e,t){h.error({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})}},switchToConsoleChannel:u.switchToConsoleChannel,withError:g}}n(1227),n(16841),n(70538),n(78272),n(5265),n(16326),n(62173),n(17410);let h="dsp__location",p="dsp__host",g=e=>{let t=m(),n=f(t);return"object"!=typeof e||null===e?{dsp__abnormal_payload:"string"==typeof e?e:JSON.stringify(e),dsp__payload_type:typeof e,[h]:t,[p]:n}:Object.fromEntries([...Object.entries(e).map(e=>{let[t,n]=e;return[t.startsWith("_")?"dsp".concat(t):"ds_".concat(t),"string"==typeof n?n:JSON.stringify(n)]}),[h,t],[p,n]])},m=()=>{try{if("undefined"!=typeof window&&window.location)return window.location.href}catch(e){}return""},f=e=>{if(!e)return"";try{return new URL(e).host}catch(e){return""}},C=["__httpRequest","__httpResponse","__pageVisibilityChange","__getIpFromHtmlOk","__log"]},17260:function(e,t,n){n.d(t,{F:()=>a});let a="ds"},78355:function(e,t,n){n.d(t,{G:()=>o});let a="undefined"!=typeof document&&"undefined"!=typeof window,r=a&&"chrome"in window,o=a&&navigator.userAgent.includes("Safari")&&!r},22960:function(e,t,n){n.d(t,{P:()=>o,y:()=>r});var a=n(86239);function r(e,t,n){let r=(0,a.useRef)(e);return n&&(r.current=t),r}let o=e=>"string"==typeof e?e:"number"==typeof e?String(e):"<ReactNode />"},2452:function(e,t,n){n.d(t,{l:()=>a});function a(e,t){return n=>{e&&("function"==typeof e?e(n):e.current=n),t&&("function"==typeof t?t(n):t.current=n)}}},84127:function(e,t,n){n.d(t,{C:()=>o}),n(63393);var a=n(86239);let r=[];function o(e){let t=(0,a.useRef)(null),n=(0,a.useMemo)(()=>{if(t.current){let e=r.indexOf(t.current);e>-1&&r.splice(e,1)}if(!e)return 0;let n=1024;return r.length&&(n=r[r.length-1]+1),r.push(n),t.current=n,n},[e]);return(0,a.useEffect)(()=>()=>{if(t.current){let e=r.indexOf(t.current);e>-1&&r.splice(e,1)}},[]),n}},1002:function(e,t,n){n.d(t,{A:()=>l}),n(82538);var a=n(27753),r=n(86239),o=n(77642),s=n(17260),i=n(78355);function l(e){let{className:t,theme:n,style:l,render:d,domRef:c,children:u,_type:h="link",...p}=e,g={...l,"--a-border-radius":null==n?void 0:n.borderRadius,"--a-text-color":null==n?void 0:n.textColor,"--a-box-shadow-color-focus":null==n?void 0:n.boxShadowColorFocus},m=(0,o.Z)("".concat(s.F,"-a"),h&&"".concat(s.F,"-a--").concat(h),t),f=(0,r.useRef)(null),[C,v]=(0,r.useState)(!1),x=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e}(),E=(0,a.jsx)("span",{"aria-hidden":"true",tabIndex:i.G?C?-1:0:x?-1:0,style:{position:"fixed",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",opacity:0,width:0,height:0,display:"block"},onFocus:i.G?()=>{var e;null===(e=f.current)||void 0===e||e.focus()}:void 0}),y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})},t)}(c,f),b=e=>{var t,n;i.G&&(e.preventDefault(),null===(n=f.current)||void 0===n||n.focus()),null==p||null===(t=p.onMouseDown)||void 0===t||t.call(p,e)},_=e=>{var t;v(!0),null==p||null===(t=p.onFocus)||void 0===t||t.call(p,e)},w=e=>{var t;v(!1),null==p||null===(t=p.onBlur)||void 0===t||t.call(p,e)};return d?(0,a.jsx)(a.Fragment,{children:d({...p,ref:y,onFocus:_,onBlur:w,onMouseDown:b,style:g,className:m,children:(0,a.jsxs)(a.Fragment,{children:[E,u]})})}):(0,a.jsxs)("a",{...p,onFocus:_,onBlur:w,onMouseDown:b,ref:y,style:g,className:m,children:[E,u]})}n(7692)},89369:function(e,t,n){n.d(t,{z:()=>d}),n(82538);var a=n(27753),r=n(77642),o=n(86239),s=n(65286),i=n(19170),l=n(17260);function d(e){let{className:t,children:n,shape:d="rect",variant:c="filled",type:u="primary",icon:h,block:p,disabled:g,size:m="m",style:f,loading:C,loadingDelay:v=0,onClick:x,theme:E,domProps:y,domRef:b,component:_}=e,w=(0,s.II)(C||g),S=(0,o.useCallback)(()=>{!w.current&&(null==x||x())},[x,w]),[I,T]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(0!==v&&C){let e=window.setTimeout(()=>{T(!0)},v);return()=>{window.clearTimeout(e)}}},[C,v]);let M=0===v?C:I,j=b||(0,o.useRef)(null),k=null!=n,A=(0,o.useMemo)(()=>({...f,"--button-ring-color":null==E?void 0:E.ringColor,"--ds-button-color":null==E?void 0:E.color,"--button-text-color":null==E?void 0:E.textColor,"--button-font-size":null==E?void 0:E.fontSize,"--button-line-height":null==E?void 0:E.lineHeight,"--button-height":null==E?void 0:E.height,"--button-padding":null==E?void 0:E.padding,"--button-border-color":null==E?void 0:E.borderColor,"--button-border-radius":null==E?void 0:E.borderRadius,"--button-icon-margin":null==E?void 0:E.iconMargin,"--ds-button-hover-color":null==E?void 0:E.hoverColor,"--ds-button-hover-text-color":null==E?void 0:E.hoverTextColor,"--ds-secondary-button-color":null==E?void 0:E.secondaryButtonColor,"--ds-bordered-secondary-button-color":null==E?void 0:E.borderedSecondaryColor,"--ds-secondary-button-hover-color":null==E?void 0:E.secondaryButtonHoverColor,"--ds-button-bordered-hover-color":null==E?void 0:E.borderedHoverColor,"--ds-text-primary-button-color":null==E?void 0:E.textPrimaryColor}),[f,E]);return(0,a.jsxs)(_||"div",{...y,ref:j,role:"button",className:(0,r.Z)("".concat(l.F,"-button"),"".concat(l.F,"-button--").concat(u),"".concat(l.F,"-button--").concat(c),"".concat(l.F,"-button--").concat(d),p&&"".concat(l.F,"-button--block"),"".concat(l.F,"-button--").concat(m),g&&"".concat(l.F,"-button--disabled"),t),style:A,onClick:S,onKeyDown:e=>{if("Enter"===e.key){var t;null===(t=j.current)||void 0===t||t.click()}},tabIndex:g?void 0:0,children:[h||M?(0,a.jsx)("div",{className:(0,r.Z)("".concat(l.F,"-button__icon"),!k&&"".concat(l.F,"-button__icon--last-child")),children:M?(0,a.jsx)(i.g,{}):h}):null,n]})}n(90107)},1838:function(e,t,n){n.d(t,{P:()=>i,m:()=>d});var a=n(27753),r=n(71780),o=n(48207);function s(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M4.397 4.554l.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084l-.073.084z",fill:"currentColor"})})})}function i(e){return(0,a.jsx)(o.h,{...e,children:(0,a.jsx)(s,{})})}function l(){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.314.687a.97.97 0 0 1 0 1.373L2.059 9.315A.97.97 0 1 1 .686 7.943L7.941.687a.97.97 0 0 1 1.373 0z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.686.685a.97.97 0 0 1 1.373 0l7.255 7.256A.97.97 0 0 1 7.94 9.314L.686 2.058a.97.97 0 0 1 0-1.373z",fill:"currentColor"})]})}function d(e){return(0,a.jsx)(o.h,{...e,children:(0,a.jsx)(r.J,{size:12,children:(0,a.jsx)(l,{})})})}},1237:function(e,t,n){n.d(t,{C:()=>d});var a=n(86239),r=n(27753),o=n(17260),s=n(1002);n(63393),n(82538);let i=/[a-zA-Z\d.\-_]+@[a-zA-Z\d.\-_]+.com/g,l=/(\*\*(.+)\*\*)|(\[([^\]]+)\]\(([^)]+)\))/g;function d(e){let{children:t,splitParagraph:n=!1,splitLine:s=!1,showEmailLink:i=!1,showMarkdownBold:l=!1,showMarkdownLink:d=!1,style:u,aProps:h}=e;return t?n||s?(0,r.jsx)(r.Fragment,{children:t.split("\n").map(n?(e,t)=>(0,r.jsx)("p",{className:"".concat(o.F,"-enhanced-text__p"),style:u,children:(0,r.jsx)(c,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,aProps:h,children:e})},t):(e,n)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(c,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,aProps:h,children:e},"".concat(n,"_1")),n===t.length-1?null:(0,r.jsx)("br",{},"".concat(n,"_2"))]},n))}):(0,r.jsx)(c,{showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,style:u,aProps:h,children:t}):null}function c(e){let{children:t,showEmailLink:n,showMarkdownBold:d,showMarkdownLink:c,style:u,aProps:h}=e;return n||d||c?(function(e,t){let{showEmailLink:n,showMarkdownBold:a,showMarkdownLink:r}=t,o=[];if(n){let t=0;for(;;){let n=i.exec(e);if(n){let a=e.slice(t,n.index);a&&o.push({type:"text",content:a}),o.push({type:"email",content:n[0]}),t=n.index+n[0].length}else{let n=e.slice(t,e.length);n&&o.push({type:"text",content:n});break}}i.lastIndex=0}else o.push({type:"text",content:e});let s=[];for(let e of o)if("email"===e.type)s.push(e);else for(let t of function(e,t){let{showMarkdownBold:n,showMarkdownLink:a}=t,r=[],o=0;for(;;){let t=l.exec(e);if(t){let s=e.slice(o,t.index);s&&r.push({type:"text",content:s}),t[2]?n?r.push({type:"bold",content:t[2]}):r.push({type:"text",content:t[0]}):t[4]&&(a?r.push({type:"link",content:t[4],href:t[5]}):r.push({type:"text",content:t[0]})),o=t.index+t[0].length}else{let t=e.slice(o,e.length);t&&r.push({type:"text",content:t});break}}return l.lastIndex=0,r}(e.content,{showMarkdownBold:a,showMarkdownLink:r}))s.push(t);return s})(t,{showEmailLink:n,showMarkdownBold:d,showMarkdownLink:c}).map((e,t)=>{switch(e.type){case"email":return(0,a.createElement)(s.A,{...h,href:"mailto:".concat(e.content),key:t},e.content);case"link":return(0,a.createElement)(s.A,{...h,href:e.href,key:t,target:"_blank"},e.content);case"bold":return(0,r.jsx)("span",{className:"".concat(o.F,"-enhanced-text__bold"),style:u,children:e.content},t);case"text":return(0,r.jsx)("span",{style:u,children:e.content},t)}}):t}n(67308)},24287:function(e,t,n){n.d(t,{j:()=>i});var a=n(27753),r=n(86239),o=n(49166),s=n(17260);function i(e){let{children:t,in:n,appear:i,onExit:l,onExited:d,componentRef:c}=e,u=(0,r.useRef)(null);return(0,r.useImperativeHandle)(c,()=>({nodeRef:u}),[]),(0,a.jsx)(o.Z,{nodeRef:u,appear:i,in:n,timeout:100,classNames:{appear:"".concat(s.F,"-fade-in-zoom-in-enter"),appearActive:"".concat(s.F,"-fade-in-zoom-in-active"),enter:"".concat(s.F,"-fade-in-zoom-in-enter"),enterActive:"".concat(s.F,"-fade-in-zoom-in-active"),exit:"".concat(s.F,"-fade-in-zoom-in-exit"),exitActive:"".concat(s.F,"-fade-in-zoom-in-exit-active")},onExit:l,onExited:d,unmountOnExit:!0,children:t(u)})}n(20434)},59378:function(e,t,n){n.d(t,{$:()=>l});var a=n(27753),r=n(86239),o=n(49166),s=n(17260);n(71091);var i=n(77642);function l(e){let{children:t,in:n,appear:l,transformOrigin:d,className:c,onEntered:u,onExited:h}=e,p=(0,r.useRef)(null),g=(0,r.useRef)("");return(0,a.jsx)(o.Z,{nodeRef:p,appear:l,in:n,timeout:100,classNames:{appear:"".concat(s.F,"-fade-in-zoom-in-expand-enter"),appearActive:"".concat(s.F,"-fade-in-zoom-in-expand-enter-active"),enter:"".concat(s.F,"-fade-in-zoom-in-expand-enter"),enterActive:"".concat(s.F,"-fade-in-zoom-in-expand-enter-active"),exit:"".concat(s.F,"-fade-in-zoom-in-expand-exit"),exitActive:"".concat(s.F,"-fade-in-zoom-in-expand-exit-active")},unmountOnExit:!0,onEnter:()=>{let e=p.current;e&&(e.style.transition="unset",e.style.maxHeight="unset",g.current="".concat(e.offsetHeight,"px"),e.style.maxHeight="0")},onEntering:()=>{let e=p.current;e&&(e.style.transition="",e.style.maxHeight=g.current)},onEntered:()=>{null==u||u();let e=p.current;e&&(e.style.maxHeight="")},onExit:()=>{let e=p.current;e&&(e.style.maxHeight="".concat(e.offsetHeight,"px"))},onExiting:()=>{let e=p.current;e&&(e.style.maxHeight="0")},onExited:h,children:(0,a.jsx)("div",{ref:p,className:(0,i.Z)("".concat(s.F,"-fade-in-zoom-in-expand-").concat(d),c),children:t})})}},85617:function(e,t,n){n.d(t,{f:()=>v}),n(82538),n(63393);var a=n(27753),r=n(77642),o=n(27428),s=n(86239),i=n(65286),l=n(72252),d=n(76366),c=n(51924),u=n(24287),h=n(17260),p=n(15184),g=n(84127),m=n(22960);let f={bottom:"top","bottom-start":"top left","bottom-end":"top right",left:"right","left-start":"right top","left-end":"right bottom",right:"left","right-start":"left top","right-end":"left bottom",top:"bottom","top-start":"bottom left","top-end":"bottom right"};n(9853);let C=(0,s.createContext)(null);function v(e){let{trigger:t="none",leaveDelay:n=300,enterDelay:v=300,disabled:E=!1,placement:y="top",isOpen:b,showArrow:_,wrapperStyle:w,wrapperDisplayPolicy:S="keepAfterFirstOpen",widthPolicy:I,checkEllipsis:T,onIsOpenChange:M,renderTrigger:j,renderFloating:k,onClickoutside:A,componentRef:R,floatingWrapperClassName:N}=e,L=(0,s.useRef)(null),F=(0,s.useRef)(null),O=(0,s.useRef)(null),P=(0,s.useRef)(null),D=(0,s.useRef)(null),[B,z]=(0,s.useState)(!1),H=(0,i.$0)(e=>{"function"==typeof e?z(t=>{let n=e(t);return null==M||M(n),n}):(null==M||M(e),z(e))}),U=!E&&(void 0===b?B:b),V=(0,s.useRef)(0),W=(0,s.useRef)(0),G=(0,i.II)(n),Z=(0,i.II)(v);(0,s.useImperativeHandle)(R,()=>({setIsOpen:e=>{window.clearTimeout(V.current),window.clearTimeout(W.current),H(e)},getIsOpen:()=>U}));let q=(0,i.$0)(e=>{!1===e?(window.clearTimeout(W.current),W.current=0,V.current||(V.current=window.setTimeout(()=>{H(!1),V.current=0},G.current))):(window.clearTimeout(V.current),V.current=0,W.current||(W.current=window.setTimeout(()=>{if(T){let e=L.current;e&&function(e){let{width:t,height:n}=e.getBoundingClientRect();return e.scrollHeight>Math.max(n,e.offsetHeight)||e.scrollWidth>Math.max(t,e.offsetWidth)}(e)&&H(!0)}else H(!0);W.current=0},Z.current)))});(0,s.useEffect)(()=>{H(!1)},[E]);let Y=(0,i.$0)(()=>{"hover"!==t||E||q(!0)}),K=(0,i.$0)(()=>{U&&("hover"!==t||E||q(!0))}),Q=(0,s.useCallback)(e=>{if("hover"===t&&!E){if(e.target instanceof Node){var n,a,r;if((null===(a=eh.current)||void 0===a?void 0:null===(n=a.nodeRef.current)||void 0===n?void 0:n.contains(e.target))||(null===(r=F.current)||void 0===r?void 0:r.contains(e.target)))return}q(!1)}},[t,E,q]),X=(0,s.useCallback)(e=>{if(!E){if(e.target instanceof Node){var n,a,r;if((null===(a=eh.current)||void 0===a?void 0:null===(n=a.nodeRef.current)||void 0===n?void 0:n.contains(e.target))||(null===(r=F.current)||void 0===r?void 0:r.contains(e.target)))return}null==A||A(),"click"!==t||E||H(!1)}},[E,A,t,H]),J=(0,s.useCallback)(()=>{"hover"!==t||E||H(!0)},[t,E,H]),$=(0,s.useRef)(!1),ee=(0,s.useCallback)(()=>{!$.current&&("hover"!==t||E||H(!1))},[t,E,H]),et=(0,s.useCallback)(()=>{"hover"===t&&q(!1)},[q,t]),en=(0,s.useCallback)(()=>{$.current=!0,setTimeout(()=>{$.current=!1},0)},[]),ea=(0,s.useCallback)(()=>{"click"!==t||E||z(e=>!e)},[t,E]),er=(0,s.useContext)(C),eo=(0,p.B)();(0,s.useLayoutEffect)(()=>{if(U&&F.current){let e=[];if("hover"===t){let t=F.current;(0,l.on)("mousemoveoutside",t,Q),e.push(()=>(0,l.S)("mousemoveoutside",t,Q))}let n=F.current;return(0,l.on)("clickoutside",n,X),e.push(()=>(0,l.S)("clickoutside",n,X)),()=>e.forEach(e=>e())}},[U,Q,X,F,t]),(0,s.useLayoutEffect)(()=>{let e=D.current||F.current;if(U&&e&&P.current)return(0,d.Me)(e,P.current,()=>{e&&P.current&&(0,d.oo)(e,P.current,{placement:y,middleware:[(0,c.cv)(8+4*!!_),(0,d.uY)({padding:8}),(0,d.RR)(),_&&O.current?(0,d.x7)({element:O.current}):void 0]}).then(e=>{let{x:t,y:n,placement:a,middlewareData:r}=e;if(P.current&&Object.assign(P.current.style,{left:"".concat(t,"px"),top:"".concat(n,"px")}),O.current&&r.arrow){let{x:e,y:t}=r.arrow;O.current.setAttribute("ds-floating-placement",a),Object.assign(O.current.style,{left:"number"==typeof e?"".concat(e,"px"):void 0,top:"number"==typeof t?"".concat(t,"px"):void 0})}})})},[U,y,_]);let{value:es,trigger:ei}=(0,i.UL)({value:U,defaultValue:U,shouldDelay:()=>!U}),el=(0,g.C)(es),ed=(0,m.y)(U,!0,U),ec=(0,s.useMemo)(()=>null==j?void 0:j({isOpen:U,domProps:{onMouseEnter:Y,onMouseLeave:et,onFocus:J,onBlur:ee,onClick:ea},ellipsisDomRef:L,domRef:F,positionDomRef:D}),[U,ee,J,Y,et,j,ea]),eu=ed.current,eh=(0,s.useRef)(null),ep=(0,s.useMemo)(()=>"undefined"==typeof document?null:(0,o.createPortal)(eu&&!E&&"alwaysKeep"===S||"keepAfterFirstOpen"===S&&eu||"keepIfIsOpen"===S&&U?(0,a.jsx)("div",{className:(0,r.Z)("".concat(h.F,"-floating-position-wrapper"),"".concat(h.F,"-theme"),N),ref:P,style:{...eo,zIndex:el,width:"consistent"===I?x(F.current):void 0,minWidth:"minConsistent"===I?x(F.current):void 0,...w},"data-transform-origin":f[y],children:(0,a.jsx)(u.j,{appear:!0,in:U,componentRef:eh,onExited:ei,children:e=>k({arrowNodeRef:O,nodeRef:e,onMouseEnter:K,onMouseLeave:et,onMouseDown:en})})}):null,(null==er?void 0:er.current)||document.body),[eu,E,S,U,N,eo,el,I,w,y,ei,er,k,K,et,en]);return(0,a.jsxs)(a.Fragment,{children:[ec,ep]})}let x=e=>{if(e)return getComputedStyle(e).width}},71780:function(e,t,n){n.d(t,{J:()=>s});var a=n(27753),r=n(77642),o=n(17260);function s(e){var t;let{children:n,size:s,height:i=s,width:l=s,style:d,domProps:c,domRef:u,className:h}=e;return(0,a.jsx)("div",{...c,className:(0,r.Z)("".concat(o.F,"-icon"),null==c?void 0:c.className,h),style:{fontSize:s,width:l,height:i,...null!==(t=null==c?void 0:c.style)&&void 0!==t?t:{},...d},ref:u,children:n})}n(42524)},48207:function(e,t,n){n.d(t,{h:()=>s});var a=n(27753),r=n(77642),o=n(17260);function s(e){let{theme:t,onClick:n,onMousedown:s,className:i,children:l,style:d,domProps:c,domRef:u,focusable:h=!0}=e;return(0,a.jsx)("div",{...c,ref:u,onClick:e=>{var t;null==n||n({source:"click",evt:e}),null==c||null===(t=c.onClick)||void 0===t||t.call(c,e)},onMouseDown:s,className:(0,r.Z)("".concat(o.F,"-icon-button"),i,null==c?void 0:c.className),tabIndex:h?0:-1,style:{"--ds-icon-button-text-color":null==t?void 0:t.textColor,"--ds-icon-button-outline-color":null==t?void 0:t.boxShadowColorFocus,"--ds-icon-button-size":null==t?void 0:t.size,"--ds-icon-button-background-inset":null==t?void 0:t.backgroundInset,"--ds-icon-button-hover-color":null==t?void 0:t.hoverColor,...null==c?void 0:c.style,...d},onKeyDown:e=>{var t;null==c||null===(t=c.onKeyDown)||void 0===t||t.call(c,e),"Enter"===e.key&&(null==n||n({source:"keyboard"}))},children:l})}n(37654)},19170:function(e,t,n){n.d(t,{g:()=>i});var a=n(27753),r=n(86239),o=n(77642),s=n(17260);n(86698);let i=(0,r.forwardRef)(function(e,t){let{size:n,className:r}=e;return(0,a.jsx)("div",{className:(0,o.Z)("".concat(s.F,"-loading"),r),ref:t,style:"number"==typeof n?{fontSize:"".concat(n,"px")}:n?{fontSize:n}:void 0,children:(0,a.jsxs)("svg",{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"spin",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:"linearGradient-1",children:[(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),(0,a.jsx)("stop",{stopColor:"currentColor",offset:"100%"})]})}),(0,a.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),(0,a.jsx)("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:"url(#linearGradient-1)",strokeWidth:"4",strokeLinecap:"round"})]})]})})})},86232:function(e,t,n){n.d(t,{O:()=>i}),n(63393);var a=n(27753);n(79763);var r=n(77642),o=n(17260),s=n(86239);function i(e){let{variant:t="rect",sharp:n=!1,size:i="m",repeat:l=1,repeatSeparator:d,className:c,style:u,children:h}=e,p=(0,s.useCallback)(e=>(0,a.jsx)("div",{className:(0,r.Z)("".concat(o.F,"-skeleton"),"".concat(o.F,"-skeleton--").concat(i),"".concat(o.F,"-skeleton--").concat(t),n&&"".concat(o.F,"-skeleton--sharp"),h&&"".concat(o.F,"-skeleton--has-children"),c),style:u,children:"text"===t?void 0===h?(0,a.jsx)("span",{"aria-hidden":!0,children:"\xa0"}):(0,a.jsx)("span",{"aria-hidden":!0,children:h}):h},e),[c,u,i,t,n,h]);return(0,s.useMemo)(()=>{if(1===l)return p(void 0);let e=[];for(let t=0;t<l;t++)e.push(p(t)),void 0!==d&&t<l-1&&e.push(d);return(0,a.jsx)(a.Fragment,{children:e})},[l,p,d])}},15184:function(e,t,n){n.d(t,{B:()=>o,W:()=>r});var a=n(86239);let r=(0,a.createContext)(void 0),o=()=>(0,a.useContext)(r)},21036:function(e,t,n){n.d(t,{BV:()=>m,Pz:()=>u,aN:()=>h,pm:()=>f,tm:()=>p}),n(82538),n(36631);var a=n(27753),r=n(86239),o=n(77642),s=n(65286),i=n(59378),l=n(17260),d=n(41016);n(90692);let c=0;function u(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function h(){return(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 .333a7.667 7.667 0 1 1 0 15.334A7.667 7.667 0 0 1 8 .333zm0 1.334a6.333 6.333 0 1 0 0 12.666A6.333 6.333 0 0 0 8 1.667z",fill:"#F59E0B"}),(0,a.jsx)("path",{d:"M7.383 8.4c.013.406.222.61.624.61.388 0 .587-.204.597-.61l.11-3.373a.603.603 0 0 0-.194-.492.728.728 0 0 0-.527-.202.718.718 0 0 0-.52.195.622.622 0 0 0-.188.5l.098 3.371zM7.424 11.098a.849.849 0 0 0 .583.215.83.83 0 0 0 .569-.215.7.7 0 0 0 .243-.548.7.7 0 0 0-.243-.548.815.815 0 0 0-.569-.215.834.834 0 0 0-.583.222.701.701 0 0 0-.236.54c0 .218.079.4.236.549z",fill:"#F59E0B"})]})}function p(){return(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_12563_43114)",children:(0,a.jsx)("path",{d:"M8 .333a7.667 7.667 0 1 1 0 15.334A7.667 7.667 0 0 1 8 .333zm0 1.334a6.333 6.333 0 1 0 0 12.666A6.333 6.333 0 0 0 8 1.667zm1.762 3.656a.667.667 0 0 1 1.143.687l-3 5a.667.667 0 0 1-1.078.09l-2-2.332a.667.667 0 0 1 1.013-.869L7.237 9.53l2.525-4.207z",fill:"#22C55E"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_12563_43114",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]})}function g(e){let t,{content:n,type:r}=e;switch(r){case"warning":case"error":t=(0,a.jsx)(h,{});break;case"success":t=(0,a.jsx)(p,{});break;default:t=null}return(0,a.jsxs)("div",{className:(0,o.Z)("".concat(l.F,"-toast"),"".concat(l.F,"-toast--").concat(r)),children:[t?(0,a.jsx)("div",{className:(0,o.Z)("".concat(l.F,"-toast__icon")),children:t}):null,(0,a.jsx)("div",{className:"".concat(l.F,"-toast__content"),children:"string"==typeof n?n:n.node})]})}function m(e){let{toastProps:t,setToasts:n}=e,[o,s]=(0,r.useState)(!0);return(0,a.jsx)(i.$,{appear:!0,className:"".concat(l.F,"-toast-animation"),transformOrigin:t.placement,in:o,onEntered:()=>{setTimeout(()=>{s(!1)},t.duration)},onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,r.useMemo)(()=>(0,a.jsx)(g,{...t}),[t])})}function f(){let e=(0,r.useContext)(d.BD),t=(0,r.useContext)(d.wj),n=(0,r.useContext)(d.DS)||"top";if(!e)throw Error("useToast must be used inside ToastProvider");let a=(0,s.II)(t),o=(0,r.useCallback)(function(t,r){let{duration:o=5e3,dedupeKey:s,placement:i=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=c++;e(e=>{var n;return void 0!==s&&e.some(e=>e.dedupeKey===s)?e:(null===(n=a.current)||void 0===n||n.call(a,r,"success"===t?"info":"warning"===t?"warn":"error"),e.concat({type:t,content:r,id:l,duration:o,dedupeKey:s,placement:i}))})},[n,e,a]);return(0,r.useMemo)(()=>({warning:(e,t)=>o("warning",e,t),error:(e,t)=>o("error",e,t),success:(e,t)=>o("success",e,t),info:(e,t)=>o("info",e,t)}),[o])}},41016:function(e,t,n){n.d(t,{BD:()=>r,DS:()=>o,wj:()=>s});var a=n(86239);let r=(0,a.createContext)(null),o=(0,a.createContext)(null),s=(0,a.createContext)(null)},80269:function(e,t,n){n.d(t,{u:()=>c});var a=n(27753),r=n(77642),o=n(86239),s=n(17260),i=n(15184),l=n(85617);n(44071);var d=n(55124);function c(e){var t,n,c;let{children:h,size:p="m",leaveDelay:g,enterDelay:m,wrapperStyle:f,showShadow:C,isOpen:v,disabled:x,showArrow:E,arrowVariant:y,placement:b="top",trigger:_="hover",componentRef:w,theme:S,checkEllipsis:I,renderTrigger:T}=e,M=(0,o.useContext)(d.d),j=null!==(t=null!=E?E:M.showArrow)&&void 0!==t&&t,k=null!==(n=null!=x?x:M.disabled)&&void 0!==n&&n,A=null!==(c=null!=y?y:M.arrowVariant)&&void 0!==c?c:"sharp",R=g||M.leaveDelay||void 0,N=m||M.enterDelay||void 0,L=(0,i.B)(),F={"--tooltip-font-size":null==S?void 0:S.fontSize,"--tooltip-line-height":null==S?void 0:S.lineHeight,"--tooltip-padding":null==S?void 0:S.padding,"--ds-toast-max-width":null==S?void 0:S.maxWidth,"--tooltip-color":null==S?void 0:S.backgroundColor,"--tooltip-text-color":null==S?void 0:S.color},O=(0,o.useRef)(null);return(0,o.useImperativeHandle)(w,()=>({setIsOpen(e){var t;null===(t=O.current)||void 0===t||t.setIsOpen(e)}})),(0,a.jsx)(l.f,{disabled:k,leaveDelay:R,enterDelay:N,wrapperStyle:f,renderTrigger:T,renderFloating:e=>{let{nodeRef:t,arrowNodeRef:n,onMouseEnter:o,onMouseDown:i,onMouseLeave:l}=e;return(0,a.jsxs)("div",{ref:t,className:(0,r.Z)("".concat(s.F,"-tooltip"),"".concat(s.F,"-tooltip--").concat(p),C&&"".concat(s.F,"-tooltip--show-shadow"),"".concat(s.F,"-elevated"),"".concat(s.F,"-theme")),style:{...L,...F},onMouseEnter:o,onMouseLeave:l,onMouseDown:i,onClick:e=>e.stopPropagation(),children:[h,j&&(0,a.jsx)("div",{className:(0,r.Z)("".concat(s.F,"-tooltip__arrow"),"".concat(s.F,"-tooltip__arrow--").concat(A)),ref:n,children:"soft"===A&&(0,a.jsx)(u,{})})]})},placement:b,trigger:_,isOpen:v,componentRef:O,showArrow:j,checkEllipsis:I})}function u(){return(0,a.jsxs)("svg",{className:"".concat(s.F,"-tooltip__soft-arrow"),viewBox:"0 0 47 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("mask",{id:"mask0_0_3329",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"47",height:"13",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.00316996C1.71249 0.00316996 3.42448 -0.00533022 5.13697 0.0131702C6.77598 0.0311706 8.61044 0.0566711 10.2055 0.658184C11.9284 1.3082 13.0691 2.44472 14.2168 3.78225C15.043 4.74427 16.666 6.79681 17.4563 7.78784C18.1031 8.60035 19.3692 10.2064 20.0605 10.9834C20.9308 11.9609 22.0064 12.9999 23.5005 12.9999C24.9946 12.9999 26.0697 11.9609 26.9395 10.9844C27.6308 10.2079 28.8969 8.60085 29.5442 7.78884C30.3335 6.79781 31.9565 4.74527 32.7832 3.78325C33.9329 2.44572 35.0716 1.3092 36.794 0.659184C38.3896 0.0591711 40.2245 0.0321706 41.8625 0.0141702C43.5755 -0.0043302 45.2875 0.00416998 47 0.00416998",fill:"#FF0000"})}),(0,a.jsx)("g",{mask:"url(#mask0_0_3329)",children:(0,a.jsx)("g",{clipPath:"url(#clip0_0_3329)",children:(0,a.jsx)("g",{filter:"url(#filter0_b_0_3329)",children:(0,a.jsx)("rect",{width:"47",height:"13",fill:"currentColor",style:{mixBlendMode:"color-dodge"}})})})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"filter0_b_0_3329",x:"-50",y:"-50",width:"147",height:"113",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"25"}),(0,a.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_0_3329"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_0_3329",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"clip0_0_3329",children:(0,a.jsx)("rect",{width:"47",height:"13",fill:"white"})})]})]})}},55124:function(e,t,n){n.d(t,{d:()=>a});let a=(0,n(86239).createContext)({})},65708:function(e,t,n){n.d(t,{B:()=>r});var a=n(92673);class r{get instantValue(){return this.value}constructor(){(0,a._)(this,"promise",void 0),(0,a._)(this,"resolve",void 0),(0,a._)(this,"reject",void 0),(0,a._)(this,"then",void 0),(0,a._)(this,"value",null);let e=new Promise((e,t)=>{this.resolve=t=>{this.value=t,e(t)},this.reject=t});this.promise=e,this.then=e.then.bind(e)}}},53914:function(e,t,n){n.d(t,{vv:()=>a,y0:()=>r}),n(36631);let a=e=>{},r=e=>{throw Error("Unhandled case: ".concat(e))}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r||"object"==typeof a&&a&&(4&r&&a.__esModule||16&r&&"function"==typeof a.then))return a;var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{s[e]=()=>a[e]});return s.default=()=>a,n.d(o,s),o}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.k=e=>"static/"+({531:"mermaidRender",884:"previewAll",945:"katex"})[e]+"."+({531:"49df1a1d07",884:"9200242381",945:"66a418a9b7"})[e]+".css",n.u=e=>"static/"+(({185:"prism-e-l",20:"prism-m-r",205:"prism-a-d",531:"mermaidRender",637:"prism-s-z",789:"mermaid-vendors",884:"previewAll",945:"katex",963:"prism-common"})[e]||e)+"."+({102:"1491e06104",121:"5fbfde2e9f",161:"ad0b7f71a6",185:"a677e31398",20:"7811f24967",205:"a10db5ce0f",245:"a1deb7ac4b",268:"3a4815a9de",269:"d3fdcde12f",288:"08ff8ab5dc",3:"c2ebd5f58c",311:"9b698b1a38",320:"3ad53de65e",368:"d22ee18093",404:"2879d65dbe",424:"7254908c9c",531:"ac372493e5",541:"f792c5a7b8",553:"30e8fd3db6",571:"2357263262",587:"e2c0f530c2",637:"b46cf50c10",640:"40151ccdcd",672:"6beb903522",702:"40553af249",782:"8aaf610f7c",789:"ab7f499f10",822:"4c26f2ee57",825:"63c8200878",859:"b146c5decf",884:"4fbe240c90",945:"02b74fdc0e",963:"a6df94a840",979:"9f31421c0a",981:"b9c0f5ae30"})[e]+".js",(()=>{n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})()})(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@deepseek/chat:";n.l=function(a,r,o,s){if(e[a]){e[a].push(r);return}if(void 0!==o)for(var i,l,d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=a),e[a]=[r];var h=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(function(e){return e(n)}),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}})(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=(t,a,r,o)=>{if(a){o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[a,r,o];return}for(var i=1/0,s=0;s<e.length;s++){for(var[a,r,o]=e[s],l=!0,d=0;d<a.length;d++)(!1&o||i>=o)&&Object.keys(n.O).every(e=>n.O[e](a[d]))?a.splice(d--,1):(l=!1,o<i&&(i=o));if(l){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}})(),n.p="https://static.deepseek.com/chat/",n.rv=()=>"1.2.8",(()=>{var e={909:0},t="@deepseek/chat",a=(t,n)=>{e[n]=0},r="data-webpack-loading",o=function(e,a,o,s,i){var l,d,c="chunk-"+e;if(!s){for(var u=document.getElementsByTagName("link"),h=0;h<u.length;h++){var p=u[h],g=p.getAttribute("href")||p.href;if(g&&!g.startsWith(n.p)&&(g=n.p+(g.startsWith("/")?g.slice(1):g)),"stylesheet"==p.rel&&(g&&g.startsWith(a)||p.getAttribute("data-webpack")==t+":"+c)){l=p;break}}if(!o)return l}l||(d=!0,l=document.createElement("link"),n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+":"+c),i&&l.setAttribute("fetchpriority",i),l.setAttribute(r,1),l.rel="stylesheet",l.href=a);var m=function(e,t){if(l.onerror=l.onload=null,l.removeAttribute(r),clearTimeout(f),t&&"load"!=t.type&&l.parentNode.removeChild(l),o(t),e)return e(t)};if(l.getAttribute(r)){var f=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload)}else m(void 0,{type:"load",target:l});return s?document.head.insertBefore(l,s):d&&document.head.appendChild(l),l};a(n.m,0,"909"),n.f.css=function(t,r,s){var i=n.o(e,t)?e[t]:void 0;if(0!==i){if(i)r.push(i[2]);else if(/^(531|884|909|945)$/.test(t)){var l=new Promise(function(n,a){i=e[t]=[n,a]});r.push(i[2]=l);var d=n.p+n.k(t),c=Error();o(t,d,function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){if("load"!==r.type){var o=r&&r.type,s=r&&r.target&&r.target.src;c.message="Loading css chunk "+t+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,i[1](c)}else a(n.m,t),i[0]()}},void 0,s)}else e[t]=0}}})(),(()=>{n.b=document.baseURI||self.location.href;var e={909:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r){if(r)a.push(r[2]);else{var o=new Promise((n,a)=>r=e[t]=[n,a]);a.push(r[2]=o);var s=n.p+n.u(t),i=Error();n.l(s,function(a){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,r[1](i)}},"chunk-"+t,t)}}},n.O.j=t=>0===e[t];var t=(t,a)=>{var r,o,[s,i,l]=a,d=0;if(s.some(t=>0!==e[t])){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var c=l(n)}for(t&&t(a);d<s.length;d++)o=s[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},a=self.webpackChunk_deepseek_chat=self.webpackChunk_deepseek_chat||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.ruid="bundler=rspack@1.2.8";var a=n.O(void 0,["694"],function(){return n(72371)});a=n.O(a)})();